<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projeto AED: doxygen/src/datetime.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Projeto AED
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4e8d938e9ddb5a617c200d5739d1f41a.html">doxygen</a></li><li class="navelem"><a class="el" href="dir_24f3ee575decadb4b98224df346b9d32.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">datetime.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;array&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &quot;<a class="el" href="src_2regex_8h_source.html">regex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2datetime_8h_source.html">datetime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2portable_8h_source.html">portable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2language_8h_source.html">language.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2message_8h_source.html">message.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2growbuf_8h_source.html">growbuf.h</a>&quot;</code><br />
</div>
<p><a href="src_2datetime_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_spec_format.html">SpecFormat</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_date_time_field.html">DateTimeField</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6cdae8db18c51bf35a3a227df2a2d211"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#a6cdae8db18c51bf35a3a227df2a2d211">TMFieldAssigner</a> = <a class="el" href="testing_2054__parblock_8cpp.html#a2dd0ac47f42a9994b91d34403be05fe9">std::function</a>&lt; void(std::tm &amp;, int value) &gt;</td></tr>
<tr class="separator:a6cdae8db18c51bf35a3a227df2a2d211"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aad46a931d39d3d99fc5d2ad2ecd5e0bf"><td class="memItemLeft" align="right" valign="top">std::tm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime</a> ()</td></tr>
<tr class="separator:aad46a931d39d3d99fc5d2ad2ecd5e0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab756d2158c17cfe62c5c51a7cf09d4a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_c_string.html">QCString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#ab756d2158c17cfe62c5c51a7cf09d4a5">dateToString</a> (bool includeTime)</td></tr>
<tr class="separator:ab756d2158c17cfe62c5c51a7cf09d4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a75ed644eb3f75d36151f9d82f862f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_c_string.html">QCString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#a76a75ed644eb3f75d36151f9d82f862f">yearToString</a> ()</td></tr>
<tr class="separator:a76a75ed644eb3f75d36151f9d82f862f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5bcc9e65bd30e9f8bbac02209a365f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#acd5bcc9e65bd30e9f8bbac02209a365f">determine_weekday</a> (std::tm &amp;tm)</td></tr>
<tr class="separator:acd5bcc9e65bd30e9f8bbac02209a365f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d60769e8d4d67f018bc58c3e7b4e6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_c_string.html">QCString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#ad9d60769e8d4d67f018bc58c3e7b4e6f">dateTimeFromString</a> (const <a class="el" href="class_q_c_string.html">QCString</a> &amp;spec, std::tm &amp;dt, int &amp;format)</td></tr>
<tr class="separator:ad9d60769e8d4d67f018bc58c3e7b4e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f06f858b1cd97d3bc7b850a600b45be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_q_c_string.html">QCString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#a9f06f858b1cd97d3bc7b850a600b45be">formatDateTime</a> (const <a class="el" href="class_q_c_string.html">QCString</a> &amp;format, const std::tm &amp;dt, int &amp;formatUsed)</td></tr>
<tr class="separator:a9f06f858b1cd97d3bc7b850a600b45be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abf3afe3262b26ae5377b31af8df02d9e"><td class="memItemLeft" align="right" valign="top">static std::array&lt; <a class="el" href="struct_spec_format.html">SpecFormat</a>, 5 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#abf3afe3262b26ae5377b31af8df02d9e">g_specFormats</a></td></tr>
<tr class="separator:abf3afe3262b26ae5377b31af8df02d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9686f14545319595e61c6e8a55e345"><td class="memItemLeft" align="right" valign="top">static std::array&lt; <a class="el" href="struct_date_time_field.html">DateTimeField</a>, 6 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="src_2datetime_8cpp.html#a5e9686f14545319595e61c6e8a55e345">g_assignValues</a></td></tr>
<tr class="separator:a5e9686f14545319595e61c6e8a55e345"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6cdae8db18c51bf35a3a227df2a2d211" name="a6cdae8db18c51bf35a3a227df2a2d211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdae8db18c51bf35a3a227df2a2d211">&#9670;&nbsp;</a></span>TMFieldAssigner</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="build_2doxygen_2src_2datetime_8cpp.html#a6cdae8db18c51bf35a3a227df2a2d211">TMFieldAssigner</a> =  <a class="el" href="testing_2054__parblock_8cpp.html#a2dd0ac47f42a9994b91d34403be05fe9">std::function</a>&lt; void(std::tm &amp;,int value) &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00090">90</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad9d60769e8d4d67f018bc58c3e7b4e6f" name="ad9d60769e8d4d67f018bc58c3e7b4e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d60769e8d4d67f018bc58c3e7b4e6f">&#9670;&nbsp;</a></span>dateTimeFromString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_c_string.html">QCString</a> dateTimeFromString </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_q_c_string.html">QCString</a> &amp;&#160;</td>
          <td class="paramname"><em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::tm &amp;&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the filled in std::tm for a given string representing a date and/or time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spec</td><td>The string representation of the date and/or time Possible formats:<ul>
<li>the empty string: the current date and time is returned</li>
<li><code>YYYY-MM-DD HH:MM:SS</code>: the date and time are fully specified</li>
<li><code>YYYY-MM-DD HH:MM</code>: the date and time without seconds</li>
<li><code>YYYY-MM-DD</code>: the date without time</li>
<li><code>HH:MM:SS</code>: the time with seconds but without date</li>
<li><code>HH:MM</code>: the time without seconds and without date</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dt</td><td>The corresponding datetime value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">format</td><td>The parts that have been found in spec; a bitwise or of <code>SF_Date</code>, <code>SF_Time</code> and <code>SF_Seconds</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An empty string if the spec has a supported format, or an error message if the format is invalid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00134">134</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>{</div>
<div class="line"><span class="lineno">  136</span>  <span class="comment">// for an empty spec field return the current date and time</span></div>
<div class="line"><span class="lineno">  137</span>  dt = <a class="code hl_function" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime</a>();</div>
<div class="line"><span class="lineno">  138</span>  <span class="keywordflow">if</span> (spec.<a class="code hl_function" href="class_q_c_string.html#a621c4090d69ad7d05ef8e5234376c3d8">isEmpty</a>())</div>
<div class="line"><span class="lineno">  139</span>  {</div>
<div class="line"><span class="lineno">  140</span>    format = <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a> | <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a> | <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a>;</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_q_c_string.html">QCString</a>();</div>
<div class="line"><span class="lineno">  142</span>  }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>  <span class="comment">// find a matching pattern</span></div>
<div class="line"><span class="lineno">  145</span>  <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a> <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ae3e86dd318726ad9c3c9874dd2a7cfc1">s</a> = spec.<a class="code hl_function" href="class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">str</a>();</div>
<div class="line"><span class="lineno">  146</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a> : <a class="code hl_variable" href="src_2datetime_8cpp.html#abf3afe3262b26ae5377b31af8df02d9e">g_specFormats</a>)</div>
<div class="line"><span class="lineno">  147</span>  {</div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_class" href="classreg_1_1_match.html">reg::Match</a> m;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacereg.html#a1a29dcc7e2ccf462503adc5d496881ae">reg::match</a>(<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ae3e86dd318726ad9c3c9874dd2a7cfc1">s</a>,m,<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a>.re)) <span class="comment">// match found</span></div>
<div class="line"><span class="lineno">  150</span>    {</div>
<div class="line"><span class="lineno">  151</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a>.count; i++)</div>
<div class="line"><span class="lineno">  152</span>      {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordtype">int</span> value = std::atoi(m[i+1].str().c_str());</div>
<div class="line"><span class="lineno">  154</span>        <span class="keyword">const</span> <a class="code hl_struct" href="struct_date_time_field.html">DateTimeField</a> &amp;dtf = <a class="code hl_variable" href="src_2datetime_8cpp.html#a5e9686f14545319595e61c6e8a55e345">g_assignValues</a>[i+<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a>.offset];</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">if</span> (value&lt;dtf.minVal || value&gt;dtf.<a class="code hl_variable" href="struct_date_time_field.html#a07c23c91e7604287b45b210c69763209">maxVal</a>) <span class="comment">// check if the value is in the expected range</span></div>
<div class="line"><span class="lineno">  156</span>        {</div>
<div class="line"><span class="lineno">  157</span>          <span class="keywordflow">return</span> <a class="code hl_class" href="class_q_c_string.html">QCString</a>().<a class="code hl_function" href="class_q_c_string.html#aa2dccf89cb25346c3ee81d75aa5859da">sprintf</a>(<span class="stringliteral">&quot;value for %s is %d which is outside of the value range [%d..%d]&quot;</span>,</div>
<div class="line"><span class="lineno">  158</span>              dtf.<a class="code hl_variable" href="struct_date_time_field.html#a0c27b430e140bde82b3290acbd6605f1">name</a>, value, dtf.<a class="code hl_variable" href="struct_date_time_field.html#aefa072e17ee530f19a1b8a3f1e2eade7">minVal</a>, dtf.<a class="code hl_variable" href="struct_date_time_field.html#a07c23c91e7604287b45b210c69763209">maxVal</a>);</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span>        dtf.<a class="code hl_variable" href="struct_date_time_field.html#a570e893b97430e96952d1d4950e1bdcd">assigner</a>(dt,value);</div>
<div class="line"><span class="lineno">  161</span>      }</div>
<div class="line"><span class="lineno">  162</span>      format = <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a>.format;</div>
<div class="line"><span class="lineno">  163</span>      <span class="keywordflow">if</span> (format&amp;<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>) <span class="comment">// if we have a date also determine the weekday</span></div>
<div class="line"><span class="lineno">  164</span>      {</div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_function" href="src_2datetime_8cpp.html#acd5bcc9e65bd30e9f8bbac02209a365f">determine_weekday</a>(dt);</div>
<div class="line"><span class="lineno">  166</span>      }</div>
<div class="line"><span class="lineno">  167</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="class_q_c_string.html">QCString</a>();</div>
<div class="line"><span class="lineno">  168</span>    }</div>
<div class="line"><span class="lineno">  169</span>  }</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>  <span class="comment">// no matching pattern found</span></div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid or non representable date/time argument&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="abuild_2doxygen_2libmscgen_2gd_8h_html_a385b176a615b615a1efd83838ffdc24f"><div class="ttname"><a href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a></div><div class="ttdeci">FILE int int fmt</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2libmscgen_2gd_8h_source.html#l01136">gd.h:1136</a></div></div>
<div class="ttc" id="abuild_2doxygen_2libmscgen_2gd_8h_html_ab316628fa3d58332c1756353c49316c1"><div class="ttname"><a href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">string</a></div><div class="ttdeci">int int char double double int int char * string</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2libmscgen_2gd_8h_source.html#l00744">gd.h:744</a></div></div>
<div class="ttc" id="abuild_2doxygen_2libmscgen_2gd_8h_html_ae3e86dd318726ad9c3c9874dd2a7cfc1"><div class="ttname"><a href="build_2doxygen_2libmscgen_2gd_8h.html#ae3e86dd318726ad9c3c9874dd2a7cfc1">s</a></div><div class="ttdeci">gdFontPtr int int unsigned char * s</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2libmscgen_2gd_8h_source.html#l00718">gd.h:718</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2datetime_8cpp_html_aad46a931d39d3d99fc5d2ad2ecd5e0bf"><div class="ttname"><a href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime</a></div><div class="ttdeci">std::tm getCurrentDateTime()</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00030">datetime.cpp:30</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2datetime_8h_html_a30a8258aa25f9421f924eb9d140f920d"><div class="ttname"><a href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a></div><div class="ttdeci">constexpr int SF_Seconds</div><div class="ttdoc">the seconds are presenting in the format string</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8h_source.html#l00026">datetime.h:26</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2datetime_8h_html_ac6960e6e1f68baad800350b86fed5213"><div class="ttname"><a href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a></div><div class="ttdeci">constexpr int SF_Date</div><div class="ttdoc">Date and time related functions.</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8h_source.html#l00024">datetime.h:24</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2datetime_8h_html_adc5ba2de9d9ec975cc60a694c13148a4"><div class="ttname"><a href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a></div><div class="ttdeci">constexpr int SF_Time</div><div class="ttdoc">a time is presenting in the format string</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8h_source.html#l00025">datetime.h:25</a></div></div>
<div class="ttc" id="aclass_q_c_string_html"><div class="ttname"><a href="class_q_c_string.html">QCString</a></div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00108">qcstring.h:109</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_a621c4090d69ad7d05ef8e5234376c3d8"><div class="ttname"><a href="class_q_c_string.html#a621c4090d69ad7d05ef8e5234376c3d8">QCString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00144">qcstring.h:144</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_a875e9ad762554ef12f3ed69b015bb245"><div class="ttname"><a href="class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">QCString::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00480">qcstring.h:480</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_aa2dccf89cb25346c3ee81d75aa5859da"><div class="ttname"><a href="class_q_c_string.html#aa2dccf89cb25346c3ee81d75aa5859da">QCString::sprintf</a></div><div class="ttdeci">QCString &amp; sprintf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8cpp_source.html#l00029">qcstring.cpp:29</a></div></div>
<div class="ttc" id="aclassreg_1_1_match_html"><div class="ttname"><a href="classreg_1_1_match.html">reg::Match</a></div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2regex_8h_source.html#l00150">regex.h:151</a></div></div>
<div class="ttc" id="anamespacereg_html_a1a29dcc7e2ccf462503adc5d496881ae"><div class="ttname"><a href="namespacereg.html#a1a29dcc7e2ccf462503adc5d496881ae">reg::match</a></div><div class="ttdeci">bool match(const std::string &amp;str, Match &amp;match, const Ex &amp;re)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2regex_8cpp_source.html#l00760">regex.cpp:760</a></div></div>
<div class="ttc" id="asrc_2datetime_8cpp_html_a5e9686f14545319595e61c6e8a55e345"><div class="ttname"><a href="src_2datetime_8cpp.html#a5e9686f14545319595e61c6e8a55e345">g_assignValues</a></div><div class="ttdeci">static std::array&lt; DateTimeField, 6 &gt; g_assignValues</div><div class="ttdef"><b>Definition:</b> <a href="src_2datetime_8cpp_source.html#l00110">datetime.cpp:111</a></div></div>
<div class="ttc" id="asrc_2datetime_8cpp_html_abf3afe3262b26ae5377b31af8df02d9e"><div class="ttname"><a href="src_2datetime_8cpp.html#abf3afe3262b26ae5377b31af8df02d9e">g_specFormats</a></div><div class="ttdeci">static std::array&lt; SpecFormat, 5 &gt; g_specFormats</div><div class="ttdef"><b>Definition:</b> <a href="src_2datetime_8cpp_source.html#l00100">datetime.cpp:101</a></div></div>
<div class="ttc" id="asrc_2datetime_8cpp_html_acd5bcc9e65bd30e9f8bbac02209a365f"><div class="ttname"><a href="src_2datetime_8cpp.html#acd5bcc9e65bd30e9f8bbac02209a365f">determine_weekday</a></div><div class="ttdeci">static void determine_weekday(std::tm &amp;tm)</div><div class="ttdef"><b>Definition:</b> <a href="src_2datetime_8cpp_source.html#l00121">datetime.cpp:121</a></div></div>
<div class="ttc" id="astruct_date_time_field_html"><div class="ttname"><a href="struct_date_time_field.html">DateTimeField</a></div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00092">datetime.cpp:93</a></div></div>
<div class="ttc" id="astruct_date_time_field_html_a07c23c91e7604287b45b210c69763209"><div class="ttname"><a href="struct_date_time_field.html#a07c23c91e7604287b45b210c69763209">DateTimeField::maxVal</a></div><div class="ttdeci">int maxVal</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00096">datetime.cpp:96</a></div></div>
<div class="ttc" id="astruct_date_time_field_html_a0c27b430e140bde82b3290acbd6605f1"><div class="ttname"><a href="struct_date_time_field.html#a0c27b430e140bde82b3290acbd6605f1">DateTimeField::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00097">datetime.cpp:97</a></div></div>
<div class="ttc" id="astruct_date_time_field_html_a570e893b97430e96952d1d4950e1bdcd"><div class="ttname"><a href="struct_date_time_field.html#a570e893b97430e96952d1d4950e1bdcd">DateTimeField::assigner</a></div><div class="ttdeci">TMFieldAssigner assigner</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00094">datetime.cpp:94</a></div></div>
<div class="ttc" id="astruct_date_time_field_html_aefa072e17ee530f19a1b8a3f1e2eade7"><div class="ttname"><a href="struct_date_time_field.html#aefa072e17ee530f19a1b8a3f1e2eade7">DateTimeField::minVal</a></div><div class="ttdeci">int minVal</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2datetime_8cpp_source.html#l00095">datetime.cpp:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="struct_date_time_field.html#a570e893b97430e96952d1d4950e1bdcd">DateTimeField::assigner</a>, <a class="el" href="src_2datetime_8cpp.html#acd5bcc9e65bd30e9f8bbac02209a365f">determine_weekday()</a>, <a class="el" href="build_2doxygen_2libmscgen_2gd_8h.html#a385b176a615b615a1efd83838ffdc24f">fmt</a>, <a class="el" href="src_2datetime_8cpp.html#a5e9686f14545319595e61c6e8a55e345">g_assignValues</a>, <a class="el" href="src_2datetime_8cpp.html#abf3afe3262b26ae5377b31af8df02d9e">g_specFormats</a>, <a class="el" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime()</a>, <a class="el" href="class_q_c_string.html#a621c4090d69ad7d05ef8e5234376c3d8">QCString::isEmpty()</a>, <a class="el" href="namespacereg.html#a1a29dcc7e2ccf462503adc5d496881ae">reg::match()</a>, <a class="el" href="struct_date_time_field.html#a07c23c91e7604287b45b210c69763209">DateTimeField::maxVal</a>, <a class="el" href="struct_date_time_field.html#aefa072e17ee530f19a1b8a3f1e2eade7">DateTimeField::minVal</a>, <a class="el" href="struct_date_time_field.html#a0c27b430e140bde82b3290acbd6605f1">DateTimeField::name</a>, <a class="el" href="build_2doxygen_2libmscgen_2gd_8h.html#ae3e86dd318726ad9c3c9874dd2a7cfc1">s</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>, <a class="el" href="class_q_c_string.html#aa2dccf89cb25346c3ee81d75aa5859da">QCString::sprintf()</a>, <a class="el" href="class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">QCString::str()</a>, and <a class="el" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">string</a>.</p>

</div>
</div>
<a id="ab756d2158c17cfe62c5c51a7cf09d4a5" name="ab756d2158c17cfe62c5c51a7cf09d4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab756d2158c17cfe62c5c51a7cf09d4a5">&#9670;&nbsp;</a></span>dateToString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_c_string.html">QCString</a> dateToString </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00063">63</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{</div>
<div class="line"><span class="lineno">   65</span>  <span class="keyword">auto</span> current = <a class="code hl_function" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime</a>();</div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#aa96be72c23a1d2139b068552e3a539c4">trDateTime</a>(current.tm_year + 1900,</div>
<div class="line"><span class="lineno">   67</span>                                   current.tm_mon + 1,</div>
<div class="line"><span class="lineno">   68</span>                                   current.tm_mday,</div>
<div class="line"><span class="lineno">   69</span>                                   (current.tm_wday+6)%7+1, <span class="comment">// map: Sun=0..Sat=6 to Mon=1..Sun=7</span></div>
<div class="line"><span class="lineno">   70</span>                                   current.tm_hour,</div>
<div class="line"><span class="lineno">   71</span>                                   current.tm_min,</div>
<div class="line"><span class="lineno">   72</span>                                   current.tm_sec,</div>
<div class="line"><span class="lineno">   73</span>                                   includeTime);</div>
<div class="line"><span class="lineno">   74</span>}</div>
<div class="ttc" id="abuild_2doxygen_2src_2language_8cpp_html_a07b18e39f7c5156cd370829e7e6f8534"><div class="ttname"><a href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a></div><div class="ttdeci">Translator * theTranslator</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2language_8cpp_source.html#l00070">language.cpp:70</a></div></div>
<div class="ttc" id="aclass_translator_html_aa96be72c23a1d2139b068552e3a539c4"><div class="ttname"><a href="class_translator.html#aa96be72c23a1d2139b068552e3a539c4">Translator::trDateTime</a></div><div class="ttdeci">virtual QCString trDateTime(int year, int month, int day, int dayOfWeek, int hour, int minutes, int seconds, bool includeTime)=0</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime()</a>, <a class="el" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>, and <a class="el" href="class_translator.html#aa96be72c23a1d2139b068552e3a539c4">Translator::trDateTime()</a>.</p>

</div>
</div>
<a id="acd5bcc9e65bd30e9f8bbac02209a365f" name="acd5bcc9e65bd30e9f8bbac02209a365f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5bcc9e65bd30e9f8bbac02209a365f">&#9670;&nbsp;</a></span>determine_weekday()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void determine_weekday </td>
          <td>(</td>
          <td class="paramtype">std::tm &amp;&#160;</td>
          <td class="paramname"><em>tm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00121">121</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>  <span class="keyword">auto</span> cpy = tm;</div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// there are some problems when the hr:min:sec are on 00:00:00 in determining the weekday</span></div>
<div class="line"><span class="lineno">  125</span>  cpy.tm_hour = 12;</div>
<div class="line"><span class="lineno">  126</span>  <span class="keyword">const</span> <span class="keyword">auto</span> as_time_t = std::mktime( &amp;cpy ) ;</div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (as_time_t != -1)</div>
<div class="line"><span class="lineno">  128</span>  {</div>
<div class="line"><span class="lineno">  129</span>    cpy = *std::localtime( &amp;as_time_t ) ;</div>
<div class="line"><span class="lineno">  130</span>    tm.tm_wday = cpy.tm_wday;</div>
<div class="line"><span class="lineno">  131</span>  }</div>
<div class="line"><span class="lineno">  132</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2datetime_8cpp.html#ad9d60769e8d4d67f018bc58c3e7b4e6f">dateTimeFromString()</a>.</p>

</div>
</div>
<a id="a9f06f858b1cd97d3bc7b850a600b45be" name="a9f06f858b1cd97d3bc7b850a600b45be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f06f858b1cd97d3bc7b850a600b45be">&#9670;&nbsp;</a></span>formatDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_c_string.html">QCString</a> formatDateTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_q_c_string.html">QCString</a> &amp;&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::tm &amp;&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>formatUsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return a string representation for a given std::tm value that is formatted according to the pattern given by a format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>the string used for format the date and time, e.g. <code>Y-m-d</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>the date and time value to fill in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">formatUsed</td><td><a class="el" href="class_a.html">A</a> bitwise OR of <code>SF_Date</code>, <code>SF_Time</code> and <code>SF_Seconds</code> representing the the types of markers found in the format string. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00175">175</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>{</div>
<div class="line"><span class="lineno">  177</span>  formatUsed = 0;</div>
<div class="line"><span class="lineno">  178</span>  <span class="keyword">auto</span> getYear      = [](<span class="keyword">const</span> std::tm &amp;dat) { <span class="keywordflow">return</span> dat.tm_year+1900;    };</div>
<div class="line"><span class="lineno">  179</span>  <span class="keyword">auto</span> getMonth     = [](<span class="keyword">const</span> std::tm &amp;dat) { <span class="keywordflow">return</span> dat.tm_mon+1;        };</div>
<div class="line"><span class="lineno">  180</span>  <span class="keyword">auto</span> getDay       = [](<span class="keyword">const</span> std::tm &amp;dat) { <span class="keywordflow">return</span> dat.tm_mday;         };</div>
<div class="line"><span class="lineno">  181</span>  <span class="keyword">auto</span> getDayOfWeek = [](<span class="keyword">const</span> std::tm &amp;dat) { <span class="keywordflow">return</span> (dat.tm_wday+6)%7+1; };</div>
<div class="line"><span class="lineno">  182</span>  <a class="code hl_class" href="class_grow_buf.html">GrowBuf</a> growBuf;</div>
<div class="line"><span class="lineno">  183</span>  <span class="keywordtype">char</span> <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>;</div>
<div class="line"><span class="lineno">  184</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>            = format.<a class="code hl_function" href="class_q_c_string.html#ac3aa3ac1a1c36d3305eba22a2eb0d098">data</a>();</div>
<div class="line"><span class="lineno">  185</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_zero     = <span class="stringliteral">&quot;%02d&quot;</span>;</div>
<div class="line"><span class="lineno">  186</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_nonzero  = <span class="stringliteral">&quot;%d&quot;</span>;</div>
<div class="line"><span class="lineno">  187</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_selected = 0;</div>
<div class="line"><span class="lineno">  188</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>==0) <span class="keywordflow">return</span> <a class="code hl_class" href="class_q_c_string.html">QCString</a>();</div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">while</span> ((<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>=*<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>++))</div>
<div class="line"><span class="lineno">  190</span>  {</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">char</span> nc = *<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>;</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>)</div>
<div class="line"><span class="lineno">  193</span>    {</div>
<div class="line"><span class="lineno">  194</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div>
<div class="line"><span class="lineno">  195</span>        fmt_selected = nc==<span class="charliteral">&#39;-&#39;</span> ? fmt_nonzero : fmt_zero; <span class="comment">// %-H produces 1 and %H produces 01</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (nc==<span class="charliteral">&#39;-&#39;</span>) nc=*++<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>; <span class="comment">// skip over -</span></div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">switch</span> (nc)</div>
<div class="line"><span class="lineno">  198</span>        {</div>
<div class="line"><span class="lineno">  199</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(<span class="charliteral">&#39;%&#39;</span>);                                                                              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  200</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,getYear(dt)%100);                              formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  201</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;Y&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(<span class="stringliteral">&quot;%d&quot;</span>,getYear(dt));                                          formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  202</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,getMonth(dt));                                 formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">addStr</a>(<a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#a4631a1a38f26583712190185e2f2852a">trMonth</a>(getMonth(dt),<span class="keyword">false</span>,<span class="keyword">false</span>));          formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  204</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">addStr</a>(<a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#a4631a1a38f26583712190185e2f2852a">trMonth</a>(getMonth(dt),<span class="keyword">false</span>,<span class="keyword">true</span>));           formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  205</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,getDay(dt));                                   formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  206</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(<span class="stringliteral">&quot;%d&quot;</span>,getDayOfWeek(dt));   <span class="comment">/* Monday = 1 ... Sunday = 7 */</span>   formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  207</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(<span class="stringliteral">&quot;%d&quot;</span>,getDayOfWeek(dt)%7); <span class="comment">/* Sunday = 0 ... Saturday = 6 */</span> formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  208</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">addStr</a>(<a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#ae19027cb2caa29054d8b2d16a0dc3d97">trDayOfWeek</a>(getDayOfWeek(dt),<span class="keyword">false</span>,<span class="keyword">false</span>));  formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  209</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">addStr</a>(<a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#ae19027cb2caa29054d8b2d16a0dc3d97">trDayOfWeek</a>(getDayOfWeek(dt),<span class="keyword">false</span>,<span class="keyword">true</span>));   formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  210</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,dt.tm_hour);                                   formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  211</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,dt.tm_hour%12);                                formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  212</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">addStr</a>(<a class="code hl_variable" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>-&gt;<a class="code hl_function" href="class_translator.html#a95a9e751f5469d05c7b9576a514e284d">trDayPeriod</a>(dt.tm_hour&gt;=12?1:0));            formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  213</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,dt.tm_min);                                    formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>;    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  214</span>          <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>: growBuf.<a class="code hl_function" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">addInt</a>(fmt_selected,dt.tm_sec);                                    formatUsed|=<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  215</span>          <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  216</span>            growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>);</div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordflow">if</span> (*(<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>-1)==<span class="charliteral">&#39;-&#39;</span>) growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(<span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><span class="lineno">  218</span>            growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(nc);</div>
<div class="line"><span class="lineno">  219</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  220</span>        }</div>
<div class="line"><span class="lineno">  221</span>        <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>++;</div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  223</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  224</span>        growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(<a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>);</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span>  }</div>
<div class="line"><span class="lineno">  228</span>  growBuf.<a class="code hl_function" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">addChar</a>(0);</div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">return</span> growBuf.<a class="code hl_function" href="class_grow_buf.html#a88d6408723b8c1a58187f24da81dfd5e">get</a>();</div>
<div class="line"><span class="lineno">  230</span>}</div>
<div class="ttc" id="abuild_2doxygen_2libmscgen_2gd_8h_html_a4e1e0e72dd773439e333c84dd762a9c3"><div class="ttname"><a href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a></div><div class="ttdeci">gdFontPtr int int int c</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2libmscgen_2gd_8h_source.html#l00713">gd.h:713</a></div></div>
<div class="ttc" id="abuild_2doxygen_2libmscgen_2gd_8h_html_ab5a2e47807ddbc8459ae782c1274e78b"><div class="ttname"><a href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a></div><div class="ttdeci">gdPointPtr p</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2libmscgen_2gd_8h_source.html#l00879">gd.h:879</a></div></div>
<div class="ttc" id="aclass_grow_buf_html"><div class="ttname"><a href="class_grow_buf.html">GrowBuf</a></div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2growbuf_8h_source.html#l00027">growbuf.h:28</a></div></div>
<div class="ttc" id="aclass_grow_buf_html_a3c84320a57fe98375add64ad01e9bf3b"><div class="ttname"><a href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">GrowBuf::addInt</a></div><div class="ttdeci">void addInt(const char *fmt, int value)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2growbuf_8h_source.html#l00109">growbuf.h:109</a></div></div>
<div class="ttc" id="aclass_grow_buf_html_a46b4677f555d2abc718f26e71a59efda"><div class="ttname"><a href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">GrowBuf::addChar</a></div><div class="ttdeci">void addChar(char c)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2growbuf_8h_source.html#l00069">growbuf.h:69</a></div></div>
<div class="ttc" id="aclass_grow_buf_html_a5e0ff6d9f7a7139725d77a9d669340f3"><div class="ttname"><a href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">GrowBuf::addStr</a></div><div class="ttdeci">void addStr(const QCString &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2growbuf_8h_source.html#l00072">growbuf.h:72</a></div></div>
<div class="ttc" id="aclass_grow_buf_html_a88d6408723b8c1a58187f24da81dfd5e"><div class="ttname"><a href="class_grow_buf.html#a88d6408723b8c1a58187f24da81dfd5e">GrowBuf::get</a></div><div class="ttdeci">char * get()</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2growbuf_8h_source.html#l00114">growbuf.h:114</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_ac3aa3ac1a1c36d3305eba22a2eb0d098"><div class="ttname"><a href="class_q_c_string.html#ac3aa3ac1a1c36d3305eba22a2eb0d098">QCString::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00153">qcstring.h:153</a></div></div>
<div class="ttc" id="aclass_translator_html_a4631a1a38f26583712190185e2f2852a"><div class="ttname"><a href="class_translator.html#a4631a1a38f26583712190185e2f2852a">Translator::trMonth</a></div><div class="ttdeci">virtual QCString trMonth(int month, bool first_capital, bool full)=0</div></div>
<div class="ttc" id="aclass_translator_html_a95a9e751f5469d05c7b9576a514e284d"><div class="ttname"><a href="class_translator.html#a95a9e751f5469d05c7b9576a514e284d">Translator::trDayPeriod</a></div><div class="ttdeci">virtual QCString trDayPeriod(int period)=0</div></div>
<div class="ttc" id="aclass_translator_html_ae19027cb2caa29054d8b2d16a0dc3d97"><div class="ttname"><a href="class_translator.html#ae19027cb2caa29054d8b2d16a0dc3d97">Translator::trDayOfWeek</a></div><div class="ttdeci">virtual QCString trDayOfWeek(int dayOfWeek, bool first_capital, bool full)=0</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_grow_buf.html#a46b4677f555d2abc718f26e71a59efda">GrowBuf::addChar()</a>, <a class="el" href="class_grow_buf.html#a3c84320a57fe98375add64ad01e9bf3b">GrowBuf::addInt()</a>, <a class="el" href="class_grow_buf.html#a5e0ff6d9f7a7139725d77a9d669340f3">GrowBuf::addStr()</a>, <a class="el" href="build_2doxygen_2libmscgen_2gd_8h.html#a4e1e0e72dd773439e333c84dd762a9c3">c</a>, <a class="el" href="class_q_c_string.html#ac3aa3ac1a1c36d3305eba22a2eb0d098">QCString::data()</a>, <a class="el" href="class_grow_buf.html#a88d6408723b8c1a58187f24da81dfd5e">GrowBuf::get()</a>, <a class="el" href="build_2doxygen_2libmscgen_2gd_8h.html#ab5a2e47807ddbc8459ae782c1274e78b">p</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a>, <a class="el" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>, <a class="el" href="build_2doxygen_2src_2language_8cpp.html#a07b18e39f7c5156cd370829e7e6f8534">theTranslator</a>, <a class="el" href="class_translator.html#ae19027cb2caa29054d8b2d16a0dc3d97">Translator::trDayOfWeek()</a>, <a class="el" href="class_translator.html#a95a9e751f5469d05c7b9576a514e284d">Translator::trDayPeriod()</a>, and <a class="el" href="class_translator.html#a4631a1a38f26583712190185e2f2852a">Translator::trMonth()</a>.</p>

</div>
</div>
<a id="aad46a931d39d3d99fc5d2ad2ecd5e0bf" name="aad46a931d39d3d99fc5d2ad2ecd5e0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad46a931d39d3d99fc5d2ad2ecd5e0bf">&#9670;&nbsp;</a></span>getCurrentDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tm getCurrentDateTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the filled in std::tm for the current date and time </p>

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00030">30</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>{</div>
<div class="line"><span class="lineno">   32</span>  <a class="code hl_class" href="class_q_c_string.html">QCString</a> sourceDateEpoch = <a class="code hl_function" href="namespace_portable.html#ae1a7516287ca7c75eebc3fa7aa12e970">Portable::getenv</a>(<span class="stringliteral">&quot;SOURCE_DATE_EPOCH&quot;</span>);</div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordflow">if</span> (!sourceDateEpoch.<a class="code hl_function" href="class_q_c_string.html#a621c4090d69ad7d05ef8e5234376c3d8">isEmpty</a>()) <span class="comment">// see https://reproducible-builds.org/specs/source-date-epoch/</span></div>
<div class="line"><span class="lineno">   34</span>  {</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordtype">bool</span> ok;</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_typedef" href="build_2doxygen_2src_2qcstring_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a> epoch = sourceDateEpoch.<a class="code hl_function" href="class_q_c_string.html#a09bcf9ec923139a3b26dd45c9b0b8341">toUInt64</a>(&amp;ok);</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><span class="lineno">   38</span>    {</div>
<div class="line"><span class="lineno">   39</span>      <span class="keyword">static</span> <span class="keywordtype">bool</span> warnedOnce=<a class="code hl_define" href="build_2doxygen_2src_2qcstring_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno">   40</span>      <span class="keywordflow">if</span> (!warnedOnce)</div>
<div class="line"><span class="lineno">   41</span>      {</div>
<div class="line"><span class="lineno">   42</span>        <a class="code hl_function" href="build_2doxygen_2src_2message_8cpp.html#a1fd98c6976d3826490804976e17eb83f">warn_uncond</a>(<span class="stringliteral">&quot;Environment variable SOURCE_DATE_EPOCH does not contain a valid number; value is &#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><span class="lineno">   43</span>            <a class="code hl_function" href="build_2doxygen_2src_2qcstring_8h.html#a9851ebb5ae2f65b4d2b1d08421edbfd2">qPrint</a>(sourceDateEpoch));</div>
<div class="line"><span class="lineno">   44</span>        warnedOnce=<a class="code hl_define" href="build_2doxygen_2src_2qcstring_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno">   45</span>      }</div>
<div class="line"><span class="lineno">   46</span>    }</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">else</span> <span class="comment">// use given epoch value as current &#39;built&#39; time</span></div>
<div class="line"><span class="lineno">   48</span>    {</div>
<div class="line"><span class="lineno">   49</span>      <span class="keyword">auto</span> epoch_start    = std::chrono::time_point&lt;std::chrono::system_clock&gt;{};</div>
<div class="line"><span class="lineno">   50</span>      <span class="keyword">auto</span> epoch_seconds  = std::chrono::seconds(epoch);</div>
<div class="line"><span class="lineno">   51</span>      <span class="keyword">auto</span> build_time     = epoch_start + epoch_seconds;</div>
<div class="line"><span class="lineno">   52</span>      std::time_t time    = std::chrono::system_clock::to_time_t(build_time);</div>
<div class="line"><span class="lineno">   53</span>      <span class="keywordflow">return</span> *gmtime(&amp;time);</div>
<div class="line"><span class="lineno">   54</span>    }</div>
<div class="line"><span class="lineno">   55</span>  }</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>  <span class="comment">// return current local time</span></div>
<div class="line"><span class="lineno">   58</span>  <span class="keyword">auto</span> now = std::chrono::system_clock::now();</div>
<div class="line"><span class="lineno">   59</span>  std::time_t time = std::chrono::system_clock::to_time_t(now);</div>
<div class="line"><span class="lineno">   60</span>  <span class="keywordflow">return</span> *localtime(&amp;time);</div>
<div class="line"><span class="lineno">   61</span>}</div>
<div class="ttc" id="abuild_2doxygen_2src_2message_8cpp_html_a1fd98c6976d3826490804976e17eb83f"><div class="ttname"><a href="build_2doxygen_2src_2message_8cpp.html#a1fd98c6976d3826490804976e17eb83f">warn_uncond</a></div><div class="ttdeci">void warn_uncond(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2message_8cpp_source.html#l00222">message.cpp:222</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2qcstring_8h_html_a9851ebb5ae2f65b4d2b1d08421edbfd2"><div class="ttname"><a href="build_2doxygen_2src_2qcstring_8h.html#a9851ebb5ae2f65b4d2b1d08421edbfd2">qPrint</a></div><div class="ttdeci">const char * qPrint(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00609">qcstring.h:609</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2qcstring_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="build_2doxygen_2src_2qcstring_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00036">qcstring.h:36</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2qcstring_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="build_2doxygen_2src_2qcstring_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00033">qcstring.h:33</a></div></div>
<div class="ttc" id="abuild_2doxygen_2src_2qcstring_8h_html_abc0f5bc07737e498f287334775dff2b6"><div class="ttname"><a href="build_2doxygen_2src_2qcstring_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a></div><div class="ttdeci">uint64_t uint64</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00043">qcstring.h:43</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_a09bcf9ec923139a3b26dd45c9b0b8341"><div class="ttname"><a href="class_q_c_string.html#a09bcf9ec923139a3b26dd45c9b0b8341">QCString::toUInt64</a></div><div class="ttdeci">uint64 toUInt64(bool *ok=0, int base=10) const</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8cpp_source.html#l00356">qcstring.cpp:356</a></div></div>
<div class="ttc" id="anamespace_portable_html_ae1a7516287ca7c75eebc3fa7aa12e970"><div class="ttname"><a href="namespace_portable.html#ae1a7516287ca7c75eebc3fa7aa12e970">Portable::getenv</a></div><div class="ttdeci">QCString getenv(const QCString &amp;variable)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2portable_8cpp_source.html#l00273">portable.cpp:273</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="build_2doxygen_2src_2qcstring_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="namespace_portable.html#ae1a7516287ca7c75eebc3fa7aa12e970">Portable::getenv()</a>, <a class="el" href="class_q_c_string.html#a621c4090d69ad7d05ef8e5234376c3d8">QCString::isEmpty()</a>, <a class="el" href="build_2doxygen_2src_2qcstring_8h.html#a9851ebb5ae2f65b4d2b1d08421edbfd2">qPrint()</a>, <a class="el" href="class_q_c_string.html#a09bcf9ec923139a3b26dd45c9b0b8341">QCString::toUInt64()</a>, <a class="el" href="build_2doxygen_2src_2qcstring_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, and <a class="el" href="build_2doxygen_2src_2message_8cpp.html#a1fd98c6976d3826490804976e17eb83f">warn_uncond()</a>.</p>

</div>
</div>
<a id="a76a75ed644eb3f75d36151f9d82f862f" name="a76a75ed644eb3f75d36151f9d82f862f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a75ed644eb3f75d36151f9d82f862f">&#9670;&nbsp;</a></span>yearToString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_q_c_string.html">QCString</a> yearToString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the current year as a string </p>

<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00076">76</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>{</div>
<div class="line"><span class="lineno">   78</span>  <span class="keyword">auto</span> current = <a class="code hl_function" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime</a>();</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="class_q_c_string.html">QCString</a>().<a class="code hl_function" href="class_q_c_string.html#a87d2bfa3fcbf407c32fab784df368b2d">setNum</a>(current.tm_year+1900);</div>
<div class="line"><span class="lineno">   80</span>}</div>
<div class="ttc" id="aclass_q_c_string_html_a87d2bfa3fcbf407c32fab784df368b2d"><div class="ttname"><a href="class_q_c_string.html#a87d2bfa3fcbf407c32fab784df368b2d">QCString::setNum</a></div><div class="ttdeci">QCString &amp; setNum(short n)</div><div class="ttdef"><b>Definition:</b> <a href="build_2doxygen_2src_2qcstring_8h_source.html#l00398">qcstring.h:398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="build_2doxygen_2src_2datetime_8cpp.html#aad46a931d39d3d99fc5d2ad2ecd5e0bf">getCurrentDateTime()</a>, and <a class="el" href="class_q_c_string.html#a87d2bfa3fcbf407c32fab784df368b2d">QCString::setNum()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5e9686f14545319595e61c6e8a55e345" name="a5e9686f14545319595e61c6e8a55e345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e9686f14545319595e61c6e8a55e345">&#9670;&nbsp;</a></span>g_assignValues</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="struct_date_time_field.html">DateTimeField</a>,6&gt; g_assignValues</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{{</div>
<div class="line">  </div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_year = value-1900; }, 1900,       9999,    <span class="stringliteral">&quot;year&quot;</span>   },</div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_mon  = value-1;    },    1,         12,    <span class="stringliteral">&quot;month&quot;</span>  },</div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_mday = value;      },    1,         31,    <span class="stringliteral">&quot;day&quot;</span>    },</div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_hour = value;      },    0,         23,    <span class="stringliteral">&quot;hour&quot;</span>   },</div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_min  = value;      },    0,         59,    <span class="stringliteral">&quot;minute&quot;</span> },</div>
<div class="line">  { [](std::tm &amp;tm,<span class="keywordtype">int</span> value) { tm.tm_sec  = value;      },    0,         59,    <span class="stringliteral">&quot;second&quot;</span> }</div>
<div class="line">}}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00110">110</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2datetime_8cpp.html#ad9d60769e8d4d67f018bc58c3e7b4e6f">dateTimeFromString()</a>.</p>

</div>
</div>
<a id="abf3afe3262b26ae5377b31af8df02d9e" name="abf3afe3262b26ae5377b31af8df02d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3afe3262b26ae5377b31af8df02d9e">&#9670;&nbsp;</a></span>g_specFormats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="struct_spec_format.html">SpecFormat</a>,5&gt; g_specFormats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{{</div>
<div class="line">  </div>
<div class="line">  { <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a>(R<span class="stringliteral">&quot;((\d+)-(\d+)-(\d+)\s*(\d+):(\d+):(\d+))&quot;),  6,  0,  <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>|<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>|<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a> }, </span></div>
<div class="line"><span class="stringliteral">  { <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a>(R</span><span class="stringliteral">&quot;((\d+)-(\d+)-(\d+)\s*(\d+):(\d+))&quot;),        5,  0,  <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>|<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>            }, </span></div>
<div class="line"><span class="stringliteral">  { <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a>(R</span><span class="stringliteral">&quot;((\d+)-(\d+)-(\d+))&quot;),                      3,  0,  <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#ac6960e6e1f68baad800350b86fed5213">SF_Date</a>                    }, </span></div>
<div class="line"><span class="stringliteral">  { <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a>(R</span><span class="stringliteral">&quot;((\d+):(\d+):(\d+))&quot;),                      3,  3,  <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>|<a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#a30a8258aa25f9421f924eb9d140f920d">SF_Seconds</a>         }, </span></div>
<div class="line"><span class="stringliteral">  { <a class="code hl_variable" href="build_2doxygen_2libmscgen_2gd_8h.html#ab316628fa3d58332c1756353c49316c1">std::string</a>(R</span><span class="stringliteral">&quot;((\d+):(\d+))&quot;),                            2,  3,  <a class="code hl_variable" href="build_2doxygen_2src_2datetime_8h.html#adc5ba2de9d9ec975cc60a694c13148a4">SF_Time</a>                    }  </span></div>
<div class="line"><span class="stringliteral">}}</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2datetime_8cpp_source.html#l00100">100</a> of file <a class="el" href="src_2datetime_8cpp_source.html">datetime.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2datetime_8cpp.html#ad9d60769e8d4d67f018bc58c3e7b4e6f">dateTimeFromString()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
