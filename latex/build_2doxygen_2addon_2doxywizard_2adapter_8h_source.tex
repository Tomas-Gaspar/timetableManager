\hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source}{}\doxysection{adapter.\+h}
\label{build_2doxygen_2addon_2doxywizard_2adapter_8h_source}\index{doxygen/build/doxygen/addon/doxywizard/adapter.h@{doxygen/build/doxygen/addon/doxywizard/adapter.h}}
\mbox{\hyperlink{build_2doxygen_2addon_2doxywizard_2adapter_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00001}00001 \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00002}00002 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00003}00003 \textcolor{comment}{ * Copyright (C) 1997-\/2022 by Dimitri van Heesch.}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00004}00004 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00005}00005 \textcolor{comment}{ * Permission to use, copy, modify, and distribute this software and its}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00006}00006 \textcolor{comment}{ * documentation under the terms of the GNU General Public License is hereby}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00007}00007 \textcolor{comment}{ * granted. No representations are made about the suitability of this software}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00008}00008 \textcolor{comment}{ * for any purpose. It is provided "{}as is"{} without express or implied warranty.}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00009}00009 \textcolor{comment}{ * See the GNU General Public License for more details.}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00010}00010 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00011}00011 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00013}00013 \textcolor{preprocessor}{\#ifndef ADAPTER\_H}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00014}00014 \textcolor{preprocessor}{\#define ADAPTER\_H}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00016}00016 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00017}00017 \textcolor{preprocessor}{\#include <QtGlobal>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00018}00018 \textcolor{preprocessor}{\#include <QString>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00019}00019 \textcolor{preprocessor}{\#include <QTextStream>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00020}00020 \textcolor{preprocessor}{\#include <QPointF>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00021}00021 \textcolor{preprocessor}{\#include <QMouseEvent>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00027}00027 \textcolor{preprocessor}{\#if QT\_VERSION < QT\_VERSION\_CHECK(6, 0, 0)}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00028}00028 \textcolor{preprocessor}{\#include <QTextCodec>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00029}00029 \textcolor{keyword}{class }\mbox{\hyperlink{class_text_codec_adapter}{TextCodecAdapter}}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00030}00030 \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00031}00031   \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00032}00032     \mbox{\hyperlink{class_text_codec_adapter_a924d9887780167f00503dd13f61d0a49}{TextCodecAdapter}}(\textcolor{keyword}{const} QByteArray \&\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}})}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00033}00033     \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00034}00034       m\_codec = QTextCodec::codecForName(\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}});}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00035}00035       \textcolor{keywordflow}{if} (m\_codec==0) \textcolor{comment}{// fallback: use UTF-\/8}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00036}00036       \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00037}00037         m\_codec = QTextCodec::codecForName(\textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00038}00038       \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00039}00039     \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00040}00040     QByteArray \mbox{\hyperlink{class_text_codec_adapter_acbc306ec5b793a18812a82deecb08070}{encode}}(\textcolor{keyword}{const} QString    \&input) \{ \textcolor{keywordflow}{return} m\_codec ? m\_codec-\/>fromUnicode(input) : input.toLatin1(); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00041}00041     QString    \mbox{\hyperlink{class_text_codec_adapter_a5adcc041e155f4733a69db0cf9adf6f3}{decode}}(\textcolor{keyword}{const} QByteArray \&input) \{ \textcolor{keywordflow}{return} m\_codec ? m\_codec-\/>toUnicode(input)   : QString::fromLatin1(input); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00042}00042     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_text_codec_adapter_af42653e70c06bb735eda98d22213ce35}{applyToStream}}(QTextStream \&t) \{ t.setCodec(m\_codec); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00043}00043     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_text_codec_adapter_a3edc6129fe7585f73fb588a33600c1f6}{isValid}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_codec!=0; \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00044}00044   \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00045}00045     QTextCodec *m\_codec = 0; \textcolor{comment}{// object is owned by Qt}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00046}00046 \};}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00047}00047 \textcolor{preprocessor}{\#else }\textcolor{comment}{// Qt6+}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00048}00048 \textcolor{preprocessor}{\#include <QStringEncoder>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00049}00049 \textcolor{preprocessor}{\#include <QStringDecoder>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00050}00050 \textcolor{preprocessor}{\#include <QStringConverter>}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00051}00051 \textcolor{keyword}{class }\mbox{\hyperlink{class_text_codec_adapter}{TextCodecAdapter}}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00052}00052 \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00053}00053   \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00054}\mbox{\hyperlink{class_text_codec_adapter_a924d9887780167f00503dd13f61d0a49}{00054}}     \mbox{\hyperlink{class_text_codec_adapter_a924d9887780167f00503dd13f61d0a49}{TextCodecAdapter}}(\textcolor{keyword}{const} QByteArray \&\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}})}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00055}00055     \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00056}00056       \textcolor{keyword}{auto} encodingOpt = QStringConverter::encodingForName(\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}});}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00057}00057       \textcolor{keywordflow}{if} (encodingOpt)}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00058}00058       \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00059}00059         \mbox{\hyperlink{class_text_codec_adapter_a891cd94d8796d24dcf666c7c6318f40d}{m\_encoding}} = *encodingOpt;}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00060}00060       \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00061}00061       \mbox{\hyperlink{class_text_codec_adapter_a4527f724b6addcba4ea0739ded343ef4}{m\_encoder}} = std::make\_unique<QStringEncoder>(\mbox{\hyperlink{class_text_codec_adapter_a891cd94d8796d24dcf666c7c6318f40d}{m\_encoding}});}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00062}00062       \mbox{\hyperlink{class_text_codec_adapter_a27e3dc0a6ff8f24eaa34c77e1c0a1c16}{m\_decoder}} = std::make\_unique<QStringDecoder>(\mbox{\hyperlink{class_text_codec_adapter_a891cd94d8796d24dcf666c7c6318f40d}{m\_encoding}});}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00063}00063     \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00064}\mbox{\hyperlink{class_text_codec_adapter_acbc306ec5b793a18812a82deecb08070}{00064}}     QByteArray \mbox{\hyperlink{class_text_codec_adapter_acbc306ec5b793a18812a82deecb08070}{encode}}(\textcolor{keyword}{const} QString \&input) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_text_codec_adapter_a4527f724b6addcba4ea0739ded343ef4}{m\_encoder}} ? \mbox{\hyperlink{class_text_codec_adapter_a4527f724b6addcba4ea0739ded343ef4}{m\_encoder}}-\/>encode(input) : input.toLatin1(); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00065}\mbox{\hyperlink{class_text_codec_adapter_a5adcc041e155f4733a69db0cf9adf6f3}{00065}}     QString \mbox{\hyperlink{class_text_codec_adapter_a5adcc041e155f4733a69db0cf9adf6f3}{decode}}(\textcolor{keyword}{const} QByteArray \&input) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_text_codec_adapter_a27e3dc0a6ff8f24eaa34c77e1c0a1c16}{m\_decoder}} ? \mbox{\hyperlink{class_text_codec_adapter_a27e3dc0a6ff8f24eaa34c77e1c0a1c16}{m\_decoder}}-\/>decode(input) : QString::fromLatin1(input); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00066}\mbox{\hyperlink{class_text_codec_adapter_af42653e70c06bb735eda98d22213ce35}{00066}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_text_codec_adapter_af42653e70c06bb735eda98d22213ce35}{applyToStream}}(QTextStream \&t) \{ t.setEncoding(\mbox{\hyperlink{class_text_codec_adapter_a891cd94d8796d24dcf666c7c6318f40d}{m\_encoding}}); \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00067}\mbox{\hyperlink{class_text_codec_adapter_a3edc6129fe7585f73fb588a33600c1f6}{00067}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_text_codec_adapter_a3edc6129fe7585f73fb588a33600c1f6}{isValid}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_text_codec_adapter_a27e3dc0a6ff8f24eaa34c77e1c0a1c16}{m\_decoder}}!=0; \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00068}00068   \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00069}00069     std::unique\_ptr<QStringEncoder> \mbox{\hyperlink{class_text_codec_adapter_a4527f724b6addcba4ea0739ded343ef4}{m\_encoder}};}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00070}00070     std::unique\_ptr<QStringDecoder> \mbox{\hyperlink{class_text_codec_adapter_a27e3dc0a6ff8f24eaa34c77e1c0a1c16}{m\_decoder}};}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00071}00071     QStringConverter::Encoding \mbox{\hyperlink{class_text_codec_adapter_a891cd94d8796d24dcf666c7c6318f40d}{m\_encoding}} = QStringConverter::Utf8;}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00072}00072 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00073}00073 \};}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00074}00074 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00076}\mbox{\hyperlink{build_2doxygen_2addon_2doxywizard_2adapter_8h_a477c9effaa5f7db2f9baf0f452aa31b0}{00076}} \textcolor{keyword}{inline} qreal \mbox{\hyperlink{addon_2doxywizard_2adapter_8h_a477c9effaa5f7db2f9baf0f452aa31b0}{getMouseYPositionFromEvent}}(QMouseEvent *m)}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00077}00077 \{}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00078}00078 \textcolor{preprocessor}{\#if QT\_VERSION < QT\_VERSION\_CHECK(6, 0, 0)}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00079}00079   \textcolor{keywordflow}{return} m-\/>y();}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00080}00080 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00081}00081   \textcolor{keywordflow}{return} m-\/>position().y();}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00082}00082 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00083}00083 \}}
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{build_2doxygen_2addon_2doxywizard_2adapter_8h_source_l00086}00086 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
