\hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h}{}\doxysection{doxygen/build/doxygen/libmscgen/mscgen\+\_\+api.h File Reference}
\label{build_2doxygen_2libmscgen_2mscgen__api_8h}\index{doxygen/build/doxygen/libmscgen/mscgen\_api.h@{doxygen/build/doxygen/libmscgen/mscgen\_api.h}}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a3238760373c3c231b44492b367a1f629}{MSCGEN\+\_\+\+OK}}~( 0)
\item 
\#define \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}{MSCGEN\+\_\+\+FILE\+\_\+\+ERROR}}~(-\/1)
\item 
\#define \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a025396930cff5774765d20f98379302e}{MSCGEN\+\_\+\+INPUT\+\_\+\+FORMAT\+\_\+\+ERROR}}~(-\/2)
\item 
\#define \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}{MSCGEN\+\_\+\+OUTPUT\+\_\+\+CONTEXT\+\_\+\+ERROR}}~(-\/3)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}{mscgen\+\_\+format\+\_\+t}} \{ \newline
\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}{mscgen\+\_\+format\+\_\+png}}
, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}{mscgen\+\_\+format\+\_\+eps}}
, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}{mscgen\+\_\+format\+\_\+svg}}
, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}{mscgen\+\_\+format\+\_\+pngmap}}
, \newline
\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}{mscgen\+\_\+format\+\_\+svgmap}}
, \mbox{\hyperlink{libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}{mscgen\+\_\+format\+\_\+png}}
, \mbox{\hyperlink{libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}{mscgen\+\_\+format\+\_\+eps}}
, \mbox{\hyperlink{libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}{mscgen\+\_\+format\+\_\+svg}}
, \newline
\mbox{\hyperlink{libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}{mscgen\+\_\+format\+\_\+pngmap}}
, \mbox{\hyperlink{libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}{mscgen\+\_\+format\+\_\+svgmap}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a3d4659fc3ee335a1e0acf59699ef1ffa}{mscgen\+\_\+generate}} (const char $\ast$input\+File, const char $\ast$output\+File, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}{mscgen\+\_\+format\+\_\+t}} format)
\item 
const char $\ast$ \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_ad887cc3cf37df8e82c9d01c7dee18a79}{mscgen\+\_\+error2str}} (int code)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}} 
\index{mscgen\_api.h@{mscgen\_api.h}!MSCGEN\_FILE\_ERROR@{MSCGEN\_FILE\_ERROR}}
\index{MSCGEN\_FILE\_ERROR@{MSCGEN\_FILE\_ERROR}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{MSCGEN\_FILE\_ERROR}{MSCGEN\_FILE\_ERROR}}
{\footnotesize\ttfamily \#define MSCGEN\+\_\+\+FILE\+\_\+\+ERROR~(-\/1)}



Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source_l00009}{9}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source}{mscgen\+\_\+api.\+h}}.

\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a025396930cff5774765d20f98379302e}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a025396930cff5774765d20f98379302e}} 
\index{mscgen\_api.h@{mscgen\_api.h}!MSCGEN\_INPUT\_FORMAT\_ERROR@{MSCGEN\_INPUT\_FORMAT\_ERROR}}
\index{MSCGEN\_INPUT\_FORMAT\_ERROR@{MSCGEN\_INPUT\_FORMAT\_ERROR}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{MSCGEN\_INPUT\_FORMAT\_ERROR}{MSCGEN\_INPUT\_FORMAT\_ERROR}}
{\footnotesize\ttfamily \#define MSCGEN\+\_\+\+INPUT\+\_\+\+FORMAT\+\_\+\+ERROR~(-\/2)}



Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source_l00010}{10}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source}{mscgen\+\_\+api.\+h}}.

\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a3238760373c3c231b44492b367a1f629}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a3238760373c3c231b44492b367a1f629}} 
\index{mscgen\_api.h@{mscgen\_api.h}!MSCGEN\_OK@{MSCGEN\_OK}}
\index{MSCGEN\_OK@{MSCGEN\_OK}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{MSCGEN\_OK}{MSCGEN\_OK}}
{\footnotesize\ttfamily \#define MSCGEN\+\_\+\+OK~( 0)}



Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source_l00008}{8}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source}{mscgen\+\_\+api.\+h}}.

\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}} 
\index{mscgen\_api.h@{mscgen\_api.h}!MSCGEN\_OUTPUT\_CONTEXT\_ERROR@{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}}
\index{MSCGEN\_OUTPUT\_CONTEXT\_ERROR@{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}}
{\footnotesize\ttfamily \#define MSCGEN\+\_\+\+OUTPUT\+\_\+\+CONTEXT\+\_\+\+ERROR~(-\/3)}



Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source_l00011}{11}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source}{mscgen\+\_\+api.\+h}}.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}} 
\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_t@{mscgen\_format\_t}}
\index{mscgen\_format\_t@{mscgen\_format\_t}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{mscgen\_format\_t}{mscgen\_format\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}{mscgen\+\_\+format\+\_\+t}}}

The supported image formats \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_png@{mscgen\_format\_png}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_png@{mscgen\_format\_png}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}} 
mscgen\+\_\+format\+\_\+png&PNG bitmap image file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_eps@{mscgen\_format\_eps}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_eps@{mscgen\_format\_eps}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}} 
mscgen\+\_\+format\+\_\+eps&Encapsulated Post\+Script file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_svg@{mscgen\_format\_svg}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_svg@{mscgen\_format\_svg}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}} 
mscgen\+\_\+format\+\_\+svg&Scalable Vector Graphics file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_pngmap@{mscgen\_format\_pngmap}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_pngmap@{mscgen\_format\_pngmap}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}} 
mscgen\+\_\+format\+\_\+pngmap&\mbox{\hyperlink{class_image}{Image}} map for a bitmap file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_svgmap@{mscgen\_format\_svgmap}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_svgmap@{mscgen\_format\_svgmap}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}} 
mscgen\+\_\+format\+\_\+svgmap&\mbox{\hyperlink{class_image}{Image}} map for a SVG file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_png@{mscgen\_format\_png}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_png@{mscgen\_format\_png}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}} 
mscgen\+\_\+format\+\_\+png&PNG bitmap image file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_eps@{mscgen\_format\_eps}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_eps@{mscgen\_format\_eps}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}} 
mscgen\+\_\+format\+\_\+eps&Encapsulated Post\+Script file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_svg@{mscgen\_format\_svg}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_svg@{mscgen\_format\_svg}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}} 
mscgen\+\_\+format\+\_\+svg&Scalable Vector Graphics file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_pngmap@{mscgen\_format\_pngmap}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_pngmap@{mscgen\_format\_pngmap}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}} 
mscgen\+\_\+format\+\_\+pngmap&\mbox{\hyperlink{class_image}{Image}} map for a bitmap file \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{mscgen\_format\_svgmap@{mscgen\_format\_svgmap}!mscgen\_api.h@{mscgen\_api.h}}\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_format\_svgmap@{mscgen\_format\_svgmap}}}\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}} 
mscgen\+\_\+format\+\_\+svgmap&\mbox{\hyperlink{class_image}{Image}} map for a SVG file \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source_l00014}{14}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_source}{mscgen\+\_\+api.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015 \{}
\DoxyCodeLine{00016   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}{mscgen\_format\_png}}, }
\DoxyCodeLine{00017   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}{mscgen\_format\_eps}}, }
\DoxyCodeLine{00018   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}{mscgen\_format\_svg}}, }
\DoxyCodeLine{00019   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}{mscgen\_format\_pngmap}}, }
\DoxyCodeLine{00020   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}{mscgen\_format\_svgmap}}  }
\DoxyCodeLine{00021 \} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}{mscgen\_format\_t}};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_ad887cc3cf37df8e82c9d01c7dee18a79}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_ad887cc3cf37df8e82c9d01c7dee18a79}} 
\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_error2str@{mscgen\_error2str}}
\index{mscgen\_error2str@{mscgen\_error2str}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{mscgen\_error2str()}{mscgen\_error2str()}}
{\footnotesize\ttfamily const char $\ast$ mscgen\+\_\+error2str (\begin{DoxyParamCaption}\item[{int}]{code }\end{DoxyParamCaption})}

Translates the error code returned by mscgen\+\_\+generate into a string 

Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_source_l01865}{1865}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_source}{mscgen\+\_\+api.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01866 \{}
\DoxyCodeLine{01867   \textcolor{keywordflow}{switch} (code)}
\DoxyCodeLine{01868   \{}
\DoxyCodeLine{01869     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a3238760373c3c231b44492b367a1f629}{MSCGEN\_OK}}: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}OK"{}};}
\DoxyCodeLine{01870     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}{MSCGEN\_FILE\_ERROR}}: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}FILE ERROR"{}};}
\DoxyCodeLine{01871     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a025396930cff5774765d20f98379302e}{MSCGEN\_INPUT\_FORMAT\_ERROR}}: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}INPUT FORMAT ERROR"{}};}
\DoxyCodeLine{01872     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}}: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}OUTPUT CONTEXT ERROR"{}};}
\DoxyCodeLine{01873     \textcolor{keywordflow}{default}: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}UNKNOWN\_ERROR"{}};}
\DoxyCodeLine{01874   \}}
\DoxyCodeLine{01875 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2libmscgen_2mscgen__api_8h_a3d4659fc3ee335a1e0acf59699ef1ffa}\label{build_2doxygen_2libmscgen_2mscgen__api_8h_a3d4659fc3ee335a1e0acf59699ef1ffa}} 
\index{mscgen\_api.h@{mscgen\_api.h}!mscgen\_generate@{mscgen\_generate}}
\index{mscgen\_generate@{mscgen\_generate}!mscgen\_api.h@{mscgen\_api.h}}
\doxysubsubsection{\texorpdfstring{mscgen\_generate()}{mscgen\_generate()}}
{\footnotesize\ttfamily int mscgen\+\_\+generate (\begin{DoxyParamCaption}\item[{const char $\ast$}]{input\+File,  }\item[{const char $\ast$}]{output\+File,  }\item[{\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85}{mscgen\+\_\+format\+\_\+t}}}]{format }\end{DoxyParamCaption})}

generate an image file for a given .msc file. 
\begin{DoxyParams}{Parameters}
{\em input\+File} & the name of the MSC file to process. \\
\hline
{\em output\+File} & the name of the image file to generate. \\
\hline
{\em format} & the format of the image file to generate. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, a non zero error code on failure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_source_l01472}{1472}} of file \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_source}{mscgen\+\_\+api.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01476 \{}
\DoxyCodeLine{01477   \textcolor{comment}{//printf("{}mscgen\_generate(in=\%s,out=\%s,format=\%d)\(\backslash\)n"{},inputFile,outputFile,format);}}
\DoxyCodeLine{01478   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1ab}{ADrawOutputType}}  outType;}
\DoxyCodeLine{01479   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_aaeece236b99530a557134ccceac162c1}{ADrawColour}}     *entColourRef = NULL;}
\DoxyCodeLine{01480   \textcolor{keyword}{const} \textcolor{keywordtype}{char}      *outImage = outputFile;}
\DoxyCodeLine{01481   \mbox{\hyperlink{struct_msc_tag}{Msc}}              m;}
\DoxyCodeLine{01482   \textcolor{keywordtype}{float}            \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}};}
\DoxyCodeLine{01483   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}}, row, col;}
\DoxyCodeLine{01484   \mbox{\hyperlink{struct_row_info}{RowInfo}}         *rowInfo = NULL;}
\DoxyCodeLine{01485   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__bool_8h_ae7d38601dfbd73adbe5c1b3ec34e0e13}{Boolean}}          addLines;}
\DoxyCodeLine{01486   FILE            *ismap = NULL;}
\DoxyCodeLine{01487 \textcolor{preprocessor}{\#if defined(\_WIN32) \&\& !defined(\_\_CYGWIN\_\_)}}
\DoxyCodeLine{01488   \textcolor{keyword}{const} \textcolor{keywordtype}{char}      *nullFile = \textcolor{stringliteral}{"{}nul"{}};}
\DoxyCodeLine{01489 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01490   \textcolor{keyword}{const} \textcolor{keywordtype}{char}      *nullFile = \textcolor{stringliteral}{"{}/dev/null"{}};}
\DoxyCodeLine{01491 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01492   \mbox{\hyperlink{struct_context_tag}{Context}} ctx;}
\DoxyCodeLine{01493   ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}} = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_ae82afa31410bf4f0caeda4c7726f09f8}{gDefaultOpts}};}
\DoxyCodeLine{01494 }
\DoxyCodeLine{01495   \textcolor{keywordflow}{switch} (format)}
\DoxyCodeLine{01496   \{}
\DoxyCodeLine{01497     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a1ae561f0b7b6e87cabaa148fca864a3a}{mscgen\_format\_png}}:}
\DoxyCodeLine{01498       outType = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1aba78c6324ce693c09ee87fbc649dcfddd8}{ADRAW\_FMT\_PNG}};}
\DoxyCodeLine{01499       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01500     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85afc2736b440a674a5442e4a803ca36ccd}{mscgen\_format\_eps}}:}
\DoxyCodeLine{01501       outType = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1ababe7c6605195b6b4d727877b64649e021}{ADRAW\_FMT\_EPS}};}
\DoxyCodeLine{01502       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01503     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a44b8bfdc7c372f7bf34d4ea01d9e1571}{mscgen\_format\_svg}}:}
\DoxyCodeLine{01504       outType = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1aba4d5ffc0f18ecee714b016a72016a3aa5}{ADRAW\_FMT\_SVG}};}
\DoxyCodeLine{01505       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01506     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}{mscgen\_format\_pngmap}}:}
\DoxyCodeLine{01507       outType = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1aba78c6324ce693c09ee87fbc649dcfddd8}{ADRAW\_FMT\_PNG}};}
\DoxyCodeLine{01508       outImage = nullFile;}
\DoxyCodeLine{01509       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01510     \textcolor{keywordflow}{case} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}{mscgen\_format\_svgmap}}:}
\DoxyCodeLine{01511       outType = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_a8e068ef737176c5caca39a4dad0bf1aba4d5ffc0f18ecee714b016a72016a3aa5}{ADRAW\_FMT\_SVG}};}
\DoxyCodeLine{01512       outImage = nullFile;}
\DoxyCodeLine{01513       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01514   \}}
\DoxyCodeLine{01515   \textcolor{comment}{/* open file */}}
\DoxyCodeLine{01516   FILE *in = \mbox{\hyperlink{namespace_portable_a4dbb08c3de409bd1a73be3da6d93ac57}{fopen}}(inputFile, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{01517   \textcolor{keywordflow}{if} (!in)}
\DoxyCodeLine{01518   \{}
\DoxyCodeLine{01519     fprintf(stderr, \textcolor{stringliteral}{"{}Failed to open input file '\%s'\(\backslash\)n"{}}, inputFile);}
\DoxyCodeLine{01520     \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}{MSCGEN\_FILE\_ERROR}};}
\DoxyCodeLine{01521   \}}
\DoxyCodeLine{01522   \textcolor{comment}{/* parse file */}}
\DoxyCodeLine{01523   m = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a3eaa93b34daead90735434a39eb1599f}{MscParse}}(in);}
\DoxyCodeLine{01524   \mbox{\hyperlink{namespace_portable_af099fa6239b4961887192d8eadfd2a44}{fclose}}(in);}
\DoxyCodeLine{01525   \textcolor{keywordflow}{if} (!m || !\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_aa5182633ab10e46d1877d0c87e126128}{checkMsc}}(m))}
\DoxyCodeLine{01526   \{}
\DoxyCodeLine{01527     fprintf(stderr, \textcolor{stringliteral}{"{}Input format error for '\%s'\(\backslash\)n"{}}, inputFile);}
\DoxyCodeLine{01528     \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a025396930cff5774765d20f98379302e}{MSCGEN\_INPUT\_FORMAT\_ERROR}};}
\DoxyCodeLine{01529   \}}
\DoxyCodeLine{01530 }
\DoxyCodeLine{01531   \textcolor{comment}{/* Check if an ismap file should also be generated */}}
\DoxyCodeLine{01532   \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a331e1bc87b7c9551e63e7127c5ac14ff}{mscgen\_format\_pngmap}} || format==\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a5c659bebb0290b3ce3b8fcf900369e85a189c946464e0808079cbb2223fc41767}{mscgen\_format\_svgmap}})}
\DoxyCodeLine{01533   \{}
\DoxyCodeLine{01534       ismap = \mbox{\hyperlink{namespace_portable_a4dbb08c3de409bd1a73be3da6d93ac57}{fopen}}(outputFile, \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{01535       \textcolor{keywordflow}{if} (!ismap)}
\DoxyCodeLine{01536       \{}
\DoxyCodeLine{01537         fprintf(stderr, \textcolor{stringliteral}{"{}Failed to open output file '\%s': \%s\(\backslash\)n"{}}, outputFile, strerror(\mbox{\hyperlink{build_2doxygen_2examples_2structcmd_8h_ad65a8842cc674e3ddf69355898c0ecbf}{errno}}));}
\DoxyCodeLine{01538         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_afbbf795cc4f95aa29c2c9243fd5e44dd}{MscFree}}(m);}
\DoxyCodeLine{01539         \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a02b6cbbeb5d053d498f445a715bcf31f}{MSCGEN\_FILE\_ERROR}};}
\DoxyCodeLine{01540       \}}
\DoxyCodeLine{01541   \}}
\DoxyCodeLine{01542 }
\DoxyCodeLine{01543   \textcolor{comment}{/* Open the drawing context with dummy dimensions */}}
\DoxyCodeLine{01544   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8c_a52b8f24e981052c7a0ac61b493d3a6bc}{ADrawOpen}}(10, 10, nullFile, \textcolor{stringliteral}{"{}"{}}, outType, \&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}))}
\DoxyCodeLine{01545   \{}
\DoxyCodeLine{01546     \textcolor{keywordflow}{if} (ismap)}
\DoxyCodeLine{01547     \{}
\DoxyCodeLine{01548       \mbox{\hyperlink{namespace_portable_af099fa6239b4961887192d8eadfd2a44}{fclose}}(ismap);}
\DoxyCodeLine{01549     \}}
\DoxyCodeLine{01550     \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_afbbf795cc4f95aa29c2c9243fd5e44dd}{MscFree}}(m);}
\DoxyCodeLine{01551     fprintf(stderr, \textcolor{stringliteral}{"{}Failed to open temporary drawing context\(\backslash\)n"{}});}
\DoxyCodeLine{01552     \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}};}
\DoxyCodeLine{01553   \}}
\DoxyCodeLine{01554 }
\DoxyCodeLine{01555   \textcolor{comment}{/* Now compute ideal canvas size, which may use text metrics */}}
\DoxyCodeLine{01556   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a7eb8c8f9cca64fcdb4251492de83212a}{MscGetOptAsFloat}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a717ccddb79223d268a69ad6010e2e432aef28d6f28f2db801e34cc365a7ed0e59}{MSC\_OPT\_WIDTH}}, \&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}))}
\DoxyCodeLine{01557   \{}
\DoxyCodeLine{01558      ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a13e36faf511295f09e207a508ce6091c}{idealCanvasWidth}} = (\textcolor{keywordtype}{unsigned} int)\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}};}
\DoxyCodeLine{01559   \}}
\DoxyCodeLine{01560   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a7eb8c8f9cca64fcdb4251492de83212a}{MscGetOptAsFloat}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a717ccddb79223d268a69ad6010e2e432a0d0edfc8cc0674cd4b2e4b25527076fd}{MSC\_OPT\_HSCALE}}, \&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}))}
\DoxyCodeLine{01561   \{}
\DoxyCodeLine{01562      ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a13e36faf511295f09e207a508ce6091c}{idealCanvasWidth}} *= (\textcolor{keywordtype}{unsigned} int)\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}};}
\DoxyCodeLine{01563   \}}
\DoxyCodeLine{01564 }
\DoxyCodeLine{01565   \textcolor{comment}{/* Set the arc gradient if needed */}}
\DoxyCodeLine{01566   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a7eb8c8f9cca64fcdb4251492de83212a}{MscGetOptAsFloat}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a717ccddb79223d268a69ad6010e2e432a3ce802c97a78dad6709009e16c1848ab}{MSC\_OPT\_ARCGRADIENT}}, \&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}))}
\DoxyCodeLine{01567   \{}
\DoxyCodeLine{01568      ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a09be132f56154e8e34175ad90bf310eb}{arcGradient}} = (int)\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}};}
\DoxyCodeLine{01569      ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}} += ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a09be132f56154e8e34175ad90bf310eb}{arcGradient}};}
\DoxyCodeLine{01570   \}}
\DoxyCodeLine{01571 }
\DoxyCodeLine{01572   \textcolor{comment}{/* Check if word wrapping on arcs other than boxes should be used */}}
\DoxyCodeLine{01573   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_abaa46a459359527ef5a3f01bc935f96c}{MscGetOptAsBoolean}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a717ccddb79223d268a69ad6010e2e432a0dbc5d9f211abffcd57edf2b0e0406fe}{MSC\_OPT\_WORDWRAPARCS}}, \&ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae225aa8595f80d623b9a0f1a4406fee0}{wordWrapArcLabels}});}
\DoxyCodeLine{01574 }
\DoxyCodeLine{01575   \textcolor{comment}{/* Work out the entitySpacing */}}
\DoxyCodeLine{01576   \textcolor{keywordflow}{if} (ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a13e36faf511295f09e207a508ce6091c}{idealCanvasWidth}} / \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m) > ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}})}
\DoxyCodeLine{01577   \{}
\DoxyCodeLine{01578     ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}} = ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a13e36faf511295f09e207a508ce6091c}{idealCanvasWidth}} / \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m);}
\DoxyCodeLine{01579   \}}
\DoxyCodeLine{01580 }
\DoxyCodeLine{01581   \textcolor{comment}{/* Work out the entityHeadGap */}}
\DoxyCodeLine{01582   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aab828ac5d9f453e51e38e917bff23be7}{MscResetEntityIterator}}(m);}
\DoxyCodeLine{01583   \textcolor{keywordflow}{for} (col = 0; col < \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m); col++)}
\DoxyCodeLine{01584   \{}
\DoxyCodeLine{01585     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} lines = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_aff653cd2e4fc91005b0b087ff5b630df}{countLines}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493addb3e339a1e553efd57604c902d6df73}{MSC\_ATTR\_LABEL}}));}
\DoxyCodeLine{01586     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} gap;}
\DoxyCodeLine{01587 }
\DoxyCodeLine{01588     \textcolor{comment}{/* Get the required gap */}}
\DoxyCodeLine{01589     gap = lines * ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_a41a387f1083b6b5aff4904adf23dc258}{textHeight}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}});}
\DoxyCodeLine{01590     \textcolor{keywordflow}{if} (gap > ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6c585fa7bbe6b83b0067e125efd695f2}{entityHeadGap}})}
\DoxyCodeLine{01591     \{}
\DoxyCodeLine{01592       ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6c585fa7bbe6b83b0067e125efd695f2}{entityHeadGap}} = gap;}
\DoxyCodeLine{01593     \}}
\DoxyCodeLine{01594 }
\DoxyCodeLine{01595     \mbox{\hyperlink{group___entity_funcs_ga7db00f9e9c7bce2af9a208712c84aa3d}{MscNextEntity}}(m);}
\DoxyCodeLine{01596   \}}
\DoxyCodeLine{01597 }
\DoxyCodeLine{01598   \textcolor{comment}{//printf("{}opts: idealCanvasWidth=\%d entitySpacing=\%d entityHeadGap=\%d "{}}}
\DoxyCodeLine{01599   \textcolor{comment}{//             "{}arcSpacing=\%d arcGradient=\%d boxSpacing=\%d boxInternalBorder=\%d "{}}}
\DoxyCodeLine{01600   \textcolor{comment}{//             "{}rboxArc=\%d noteCorner=\%d aboxSlope=\%d wordWrapArcLabels=\%d arrowWidth=\%d "{}}}
\DoxyCodeLine{01601   \textcolor{comment}{//             "{}arrowHeight=\%d loopArcHeight=\%d textHGapPre=\%d textHGapPost=\%d\(\backslash\)n"{},}}
\DoxyCodeLine{01602   \textcolor{comment}{//              ctx.opts.idealCanvasWidth,ctx.opts.entitySpacing,ctx.opts.entityHeadGap,}}
\DoxyCodeLine{01603   \textcolor{comment}{//              ctx.opts.arcSpacing,ctx.opts.arcGradient,ctx.opts.boxSpacing,ctx.opts.boxInternalBorder,}}
\DoxyCodeLine{01604   \textcolor{comment}{//              ctx.opts.rboxArc,ctx.opts.noteCorner,ctx.opts.aboxSlope,ctx.opts.wordWrapArcLabels,ctx.opts.arrowWidth,}}
\DoxyCodeLine{01605   \textcolor{comment}{//              ctx.opts.arrowHeight,ctx.opts.loopArcHeight,ctx.opts.textHGapPre,ctx.opts.textHGapPost);}}
\DoxyCodeLine{01606 }
\DoxyCodeLine{01607   \textcolor{comment}{/* Work out the width and height of the canvas */}}
\DoxyCodeLine{01608   rowInfo = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a1fcbc71716cb3a502ba3d547cae8c211}{computeCanvasSize}}(\&ctx, m, \&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}} , \&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}});}
\DoxyCodeLine{01609 }
\DoxyCodeLine{01610   \textcolor{comment}{/* Close the temporary output file */}}
\DoxyCodeLine{01611   ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_aff3218a040358831583c66b763a4a284}{close}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}});}
\DoxyCodeLine{01612 }
\DoxyCodeLine{01613   \textcolor{comment}{//printf("{}opening canvas \%d x \%d for \%s type=\%d\(\backslash\)n"{},w,h,outImage,outType);}}
\DoxyCodeLine{01614 }
\DoxyCodeLine{01615   \textcolor{comment}{/* Open the output */}}
\DoxyCodeLine{01616   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8c_a52b8f24e981052c7a0ac61b493d3a6bc}{ADrawOpen}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}}, outImage, \textcolor{stringliteral}{"{}"{}}, outType, \&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}))}
\DoxyCodeLine{01617   \{}
\DoxyCodeLine{01618     free(rowInfo);}
\DoxyCodeLine{01619     \textcolor{keywordflow}{if} (ismap)}
\DoxyCodeLine{01620     \{}
\DoxyCodeLine{01621       \mbox{\hyperlink{namespace_portable_af099fa6239b4961887192d8eadfd2a44}{fclose}}(ismap);}
\DoxyCodeLine{01622     \}}
\DoxyCodeLine{01623     \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_afbbf795cc4f95aa29c2c9243fd5e44dd}{MscFree}}(m);}
\DoxyCodeLine{01624     \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a256a2657f8a8d1a45080563bed59d3ef}{MSCGEN\_OUTPUT\_CONTEXT\_ERROR}};}
\DoxyCodeLine{01625   \}}
\DoxyCodeLine{01626 }
\DoxyCodeLine{01627   \textcolor{comment}{/* Allocate storage for entity heading colours */}}
\DoxyCodeLine{01628   entColourRef = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__safe_8c_a2b14167e1a2be2b9425446096e4c639e}{malloc\_s}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m) * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_aaeece236b99530a557134ccceac162c1}{ADrawColour}}));}
\DoxyCodeLine{01629 }
\DoxyCodeLine{01630   \textcolor{comment}{/* Draw the entity headings */}}
\DoxyCodeLine{01631   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aab828ac5d9f453e51e38e917bff23be7}{MscResetEntityIterator}}(m);}
\DoxyCodeLine{01632   \textcolor{keywordflow}{for} (col = 0; col < \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m); col++)}
\DoxyCodeLine{01633   \{}
\DoxyCodeLine{01634     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a6150e0515f7202e2fb518f7206ed97dc}{x}} = (ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}} / 2) + (ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}} * col);}
\DoxyCodeLine{01635     \textcolor{keyword}{const} \textcolor{keywordtype}{char}  *line;}
\DoxyCodeLine{01636 }
\DoxyCodeLine{01637     \textcolor{comment}{/* Titles */}}
\DoxyCodeLine{01638     \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a956241f3acaaacd442a5bd3521c6e362}{entityText}}(\&ctx, ismap,}
\DoxyCodeLine{01639         \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a6150e0515f7202e2fb518f7206ed97dc}{x}},}
\DoxyCodeLine{01640         ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6c585fa7bbe6b83b0067e125efd695f2}{entityHeadGap}} -\/ (ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_a41a387f1083b6b5aff4904adf23dc258}{textHeight}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}) / 2),}
\DoxyCodeLine{01641         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493addb3e339a1e553efd57604c902d6df73}{MSC\_ATTR\_LABEL}}),}
\DoxyCodeLine{01642         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a9816658756e80749625ab7b5d7dccdb1}{MSC\_ATTR\_URL}}),}
\DoxyCodeLine{01643         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a9c257844dab852907dba90d2e8fbe4cc}{MSC\_ATTR\_ID}}),}
\DoxyCodeLine{01644         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493ac407d421dbdd2711d46e5a062389d316}{MSC\_ATTR\_IDURL}}),}
\DoxyCodeLine{01645         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a167cc353f4a403ecafe8f15a986cb9d5}{MSC\_ATTR\_TEXT\_COLOUR}}),}
\DoxyCodeLine{01646         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493ad5a315b24ec7047dcb17ff5385571577}{MSC\_ATTR\_TEXT\_BGCOLOUR}}));}
\DoxyCodeLine{01647 }
\DoxyCodeLine{01648     \textcolor{comment}{/* Get the colours */}}
\DoxyCodeLine{01649     line = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aedbe236ccbe25452d252c4c3b5ad90bf}{MscGetCurrentEntAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a72c7ad2670a5e490a13a9ba284f992e3}{MSC\_ATTR\_LINE\_COLOUR}});}
\DoxyCodeLine{01650     \textcolor{keywordflow}{if} (line != NULL)}
\DoxyCodeLine{01651     \{}
\DoxyCodeLine{01652       entColourRef[col] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8c_a0156bf03ca0db741fc0d048da07dc291}{ADrawGetColour}}(line);}
\DoxyCodeLine{01653     \}}
\DoxyCodeLine{01654     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01655     \{}
\DoxyCodeLine{01656       entColourRef[col] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_aaeece236b99530a557134ccceac162c1aa87883e3ac4b08c3b4c355161b16de58}{ADRAW\_COL\_BLACK}};}
\DoxyCodeLine{01657     \}}
\DoxyCodeLine{01658 }
\DoxyCodeLine{01659     \mbox{\hyperlink{group___entity_funcs_ga7db00f9e9c7bce2af9a208712c84aa3d}{MscNextEntity}}(m);}
\DoxyCodeLine{01660   \}}
\DoxyCodeLine{01661 }
\DoxyCodeLine{01662   \textcolor{comment}{/* Draw the arcs */}}
\DoxyCodeLine{01663   addLines = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01664   row = 0;}
\DoxyCodeLine{01665 }
\DoxyCodeLine{01666   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_aa9e69d19085ee79b80a25f49080f0324}{MscResetArcIterator}}(m);}
\DoxyCodeLine{01667   \textcolor{keywordflow}{do}}
\DoxyCodeLine{01668   \{}
\DoxyCodeLine{01669     \textcolor{keyword}{const} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03d}{MscArcType}}   arcType           = \mbox{\hyperlink{group___arc_funcs_ga8490f0c8545f83868823e66bfa9253ab}{MscGetCurrentArcType}}(m);}
\DoxyCodeLine{01670     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcUrl            = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a9816658756e80749625ab7b5d7dccdb1}{MSC\_ATTR\_URL}});}
\DoxyCodeLine{01671     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcId             = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a9c257844dab852907dba90d2e8fbe4cc}{MSC\_ATTR\_ID}});}
\DoxyCodeLine{01672     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcIdUrl          = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493ac407d421dbdd2711d46e5a062389d316}{MSC\_ATTR\_IDURL}});}
\DoxyCodeLine{01673     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcTextColour     = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a167cc353f4a403ecafe8f15a986cb9d5}{MSC\_ATTR\_TEXT\_COLOUR}});}
\DoxyCodeLine{01674     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcTextBgColour   = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493ad5a315b24ec7047dcb17ff5385571577}{MSC\_ATTR\_TEXT\_BGCOLOUR}});}
\DoxyCodeLine{01675     \textcolor{keyword}{const} \textcolor{keywordtype}{char}        *arcLineColour     = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a72c7ad2670a5e490a13a9ba284f992e3}{MSC\_ATTR\_LINE\_COLOUR}});}
\DoxyCodeLine{01676     \textcolor{keyword}{const} \textcolor{keywordtype}{int}          arcGradient       = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a9ff0d559514e75ddc4552f870bfc5880}{isBoxArc}}(arcType) ? 0 : \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a3d7160cd554babbf0a98015939c4e96a}{getArcGradient}}(\&ctx, m, rowInfo, row);}
\DoxyCodeLine{01677     \textcolor{keyword}{const} \textcolor{keywordtype}{int}          arcHasArrows      = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493adcd64b62484cb3c0f82f5628834daa9f}{MSC\_ATTR\_NO\_ARROWS}}) == NULL;}
\DoxyCodeLine{01678     \textcolor{keyword}{const} \textcolor{keywordtype}{int}          arcHasBiArrows    = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a278c9b197a89366851b2143cba731d84}{MSC\_ATTR\_BI\_ARROWS}}) != NULL;}
\DoxyCodeLine{01679     \textcolor{keywordtype}{char}             **arcLabelLines     = NULL;}
\DoxyCodeLine{01680     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}       arcLabelLineCount = 0;}
\DoxyCodeLine{01681     \textcolor{keywordtype}{int}                startCol = -\/1, endCol = -\/1;}
\DoxyCodeLine{01682 }
\DoxyCodeLine{01683     \textcolor{keywordflow}{if} (arcType == \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da0654dc646a8b9bfaccf4f09daa5b7b32}{MSC\_ARC\_PARALLEL}})}
\DoxyCodeLine{01684     \{}
\DoxyCodeLine{01685       addLines = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01686 }
\DoxyCodeLine{01687       \textcolor{comment}{/* Rewind the row */}}
\DoxyCodeLine{01688       assert(row > 0);}
\DoxyCodeLine{01689       row-\/-\/;}
\DoxyCodeLine{01690     \}}
\DoxyCodeLine{01691     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01692     \{}
\DoxyCodeLine{01693       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ymin = rowInfo[row].\mbox{\hyperlink{struct_row_info_aea0296a957559753f4b3205d3894a68d}{ymin}};}
\DoxyCodeLine{01694       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ymid = rowInfo[row].\mbox{\hyperlink{struct_row_info_ad0cb453442ffd465b487c7841d215278}{arcliney}};}
\DoxyCodeLine{01695       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ymax = rowInfo[row].\mbox{\hyperlink{struct_row_info_a34438df2bc9b04aafbf9fd24c7b11f71}{ymax}};}
\DoxyCodeLine{01696 }
\DoxyCodeLine{01697 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{01698       \textcolor{comment}{/* For debug, mark the row spacing */}}
\DoxyCodeLine{01699       ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_aff877bbab3636dd9c39f208ea5aaf975}{line}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}, 0, ymin, 10, ymin);}
\DoxyCodeLine{01700       ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_aff877bbab3636dd9c39f208ea5aaf975}{line}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}, 0, ymid, 5, ymid);}
\DoxyCodeLine{01701       ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_aff877bbab3636dd9c39f208ea5aaf975}{line}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}, 0, ymax, 10, ymax);}
\DoxyCodeLine{01702 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01703       \textcolor{comment}{/* Get the entity indices */}}
\DoxyCodeLine{01704       \textcolor{keywordflow}{if} (arcType != \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da611dc93f1d881391340ba2291ed20422}{MSC\_ARC\_DISCO}} \&\& arcType != \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da15cc70cb38455f2f94e357f5ec61b939}{MSC\_ARC\_DIVIDER}} \&\& arcType != \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da3fc9c2f23e7feae4961d61a136fcd0fa}{MSC\_ARC\_SPACE}})}
\DoxyCodeLine{01705       \{}
\DoxyCodeLine{01706         startCol = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_ae347f7edc89ab393f0b05a767cdabd3d}{MscGetEntityIndex}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a67ea44dddd638f2ba61715cf79e25bdd}{MscGetCurrentArcSource}}(m));}
\DoxyCodeLine{01707         endCol   = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_ae347f7edc89ab393f0b05a767cdabd3d}{MscGetEntityIndex}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_ac9652122aa90ffa5cb2ef3a06baeb1a8}{MscGetCurrentArcDest}}(m));}
\DoxyCodeLine{01708 }
\DoxyCodeLine{01709         \textcolor{comment}{/* Check that the start column is known and the end column is}}
\DoxyCodeLine{01710 \textcolor{comment}{         *  known, or that it's a broadcast arc}}
\DoxyCodeLine{01711 \textcolor{comment}{         */}}
\DoxyCodeLine{01712         assert(startCol != -\/1);}
\DoxyCodeLine{01713         assert(endCol != -\/1 || \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a711fb6e82a6ce72770b7b06c97da1c3d}{isBroadcastArc}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_ac9652122aa90ffa5cb2ef3a06baeb1a8}{MscGetCurrentArcDest}}(m)));}
\DoxyCodeLine{01714 }
\DoxyCodeLine{01715         \textcolor{comment}{/* Check for entity colouring if not set explicitly on the arc */}}
\DoxyCodeLine{01716         \textcolor{keywordflow}{if} (arcTextColour == NULL)}
\DoxyCodeLine{01717         \{}
\DoxyCodeLine{01718           arcTextColour = \mbox{\hyperlink{group___entity_funcs_gaaeb9be4c7a14d9a213a0f0cc52d6d19f}{MscGetEntAttrib}}(m, startCol, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493af1e7222a7266db81115d4acef8e4a236}{MSC\_ATTR\_ARC\_TEXT\_COLOUR}});}
\DoxyCodeLine{01719         \}}
\DoxyCodeLine{01720 }
\DoxyCodeLine{01721         \textcolor{keywordflow}{if} (arcTextBgColour == NULL)}
\DoxyCodeLine{01722         \{}
\DoxyCodeLine{01723           arcTextBgColour = \mbox{\hyperlink{group___entity_funcs_gaaeb9be4c7a14d9a213a0f0cc52d6d19f}{MscGetEntAttrib}}(m, startCol, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493a48864444ef380d7cc0ed6398f3bcc7df}{MSC\_ATTR\_ARC\_TEXT\_BGCOLOUR}});}
\DoxyCodeLine{01724         \}}
\DoxyCodeLine{01725 }
\DoxyCodeLine{01726         \textcolor{keywordflow}{if} (arcLineColour == NULL)}
\DoxyCodeLine{01727         \{}
\DoxyCodeLine{01728           arcLineColour = \mbox{\hyperlink{group___entity_funcs_gaaeb9be4c7a14d9a213a0f0cc52d6d19f}{MscGetEntAttrib}}(m, startCol, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493adb9ead55ffdba19f9f7a3e99f48040b9}{MSC\_ATTR\_ARC\_LINE\_COLOUR}});}
\DoxyCodeLine{01729         \}}
\DoxyCodeLine{01730 }
\DoxyCodeLine{01731       \}}
\DoxyCodeLine{01732       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01733       \{}
\DoxyCodeLine{01734         \textcolor{comment}{/* Discontinuity or parallel arc spans whole chart */}}
\DoxyCodeLine{01735         startCol = 0;}
\DoxyCodeLine{01736         endCol   = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m) -\/ 1;}
\DoxyCodeLine{01737       \}}
\DoxyCodeLine{01738 }
\DoxyCodeLine{01739       \textcolor{comment}{/* Work out how the label fits the gap between entities */}}
\DoxyCodeLine{01740       arcLabelLineCount = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_aeba6321dd352d150b3db89b5469be64c}{computeLabelLines}}(\&ctx, m, arcType, \&arcLabelLines,}
\DoxyCodeLine{01741           \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a33385a8d75de0ef9e489deed7b40f3f4}{MscGetCurrentArcAttrib}}(m, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a12d8ecf070dca2e69c0fbaa7654f9493addb3e339a1e553efd57604c902d6df73}{MSC\_ATTR\_LABEL}}),}
\DoxyCodeLine{01742           startCol, endCol);}
\DoxyCodeLine{01743 }
\DoxyCodeLine{01744       \textcolor{comment}{/* Check if this is a broadcast message */}}
\DoxyCodeLine{01745       \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a711fb6e82a6ce72770b7b06c97da1c3d}{isBroadcastArc}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_ac9652122aa90ffa5cb2ef3a06baeb1a8}{MscGetCurrentArcDest}}(m)))}
\DoxyCodeLine{01746       \{}
\DoxyCodeLine{01747         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} t;}
\DoxyCodeLine{01748 }
\DoxyCodeLine{01749         \textcolor{comment}{/* Add in the entity lines */}}
\DoxyCodeLine{01750         \textcolor{keywordflow}{if} (addLines)}
\DoxyCodeLine{01751         \{}
\DoxyCodeLine{01752           \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m, ymin, ymax + ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, entColourRef);}
\DoxyCodeLine{01753         \}}
\DoxyCodeLine{01754 }
\DoxyCodeLine{01755         \textcolor{comment}{/* Draw arcs to each entity */}}
\DoxyCodeLine{01756         \textcolor{keywordflow}{for} (t = 0; t < \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m); t++)}
\DoxyCodeLine{01757         \{}
\DoxyCodeLine{01758           \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{signed})t != startCol)}
\DoxyCodeLine{01759           \{}
\DoxyCodeLine{01760             \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_aa13d19af09aed421b4e1069b687009bd}{arcLine}}(\&ctx, m, ymid, arcGradient, startCol,}
\DoxyCodeLine{01761                 t, arcLineColour, arcHasArrows,}
\DoxyCodeLine{01762                 arcHasBiArrows, arcType);}
\DoxyCodeLine{01763           \}}
\DoxyCodeLine{01764         \}}
\DoxyCodeLine{01765 }
\DoxyCodeLine{01766         \textcolor{comment}{/* Fix up the start/end columns to span chart */}}
\DoxyCodeLine{01767         startCol = 0;}
\DoxyCodeLine{01768         endCol   = \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m) -\/ 1;}
\DoxyCodeLine{01769       \}}
\DoxyCodeLine{01770       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01771       \{}
\DoxyCodeLine{01772         \textcolor{comment}{/* Check if it is a box, discontinuity arc etc... */}}
\DoxyCodeLine{01773         \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a9ff0d559514e75ddc4552f870bfc5880}{isBoxArc}}(arcType))}
\DoxyCodeLine{01774         \{}
\DoxyCodeLine{01775           \textcolor{keywordflow}{if} (addLines)}
\DoxyCodeLine{01776           \{}
\DoxyCodeLine{01777             \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m, ymin, ymax + ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, entColourRef);}
\DoxyCodeLine{01778           \}}
\DoxyCodeLine{01779           \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_af041d31d1e8c04d5e772207efdc5d30e}{arcBox}}(\&ctx, ymin, ymax, startCol, endCol, arcType, arcLineColour, arcTextBgColour);}
\DoxyCodeLine{01780         \}}
\DoxyCodeLine{01781         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arcType == \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da611dc93f1d881391340ba2291ed20422}{MSC\_ARC\_DISCO}})}
\DoxyCodeLine{01782         \{}
\DoxyCodeLine{01783           \textcolor{keywordflow}{if} (addLines)}
\DoxyCodeLine{01784           \{}
\DoxyCodeLine{01785             \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m, ymin, ymax + ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}} \textcolor{comment}{/* dotted */}, entColourRef);}
\DoxyCodeLine{01786           \}}
\DoxyCodeLine{01787         \}}
\DoxyCodeLine{01788         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arcType == \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da15cc70cb38455f2f94e357f5ec61b939}{MSC\_ARC\_DIVIDER}} || arcType == \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da3fc9c2f23e7feae4961d61a136fcd0fa}{MSC\_ARC\_SPACE}})}
\DoxyCodeLine{01789         \{}
\DoxyCodeLine{01790           \textcolor{keywordflow}{if} (addLines)}
\DoxyCodeLine{01791           \{}
\DoxyCodeLine{01792             \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m, ymin, ymax + ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, entColourRef);}
\DoxyCodeLine{01793           \}}
\DoxyCodeLine{01794 }
\DoxyCodeLine{01795           \textcolor{comment}{/* Dividers also have a horizontal line at the middle */}}
\DoxyCodeLine{01796           \textcolor{keywordflow}{if} (arcType == \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8h_a726ea06e08404159bf4b7f6f1efbb03da15cc70cb38455f2f94e357f5ec61b939}{MSC\_ARC\_DIVIDER}})}
\DoxyCodeLine{01797           \{}
\DoxyCodeLine{01798             \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} margin = ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}} / 4;}
\DoxyCodeLine{01799 }
\DoxyCodeLine{01800             \textcolor{keywordflow}{if} (arcLineColour != NULL)}
\DoxyCodeLine{01801             \{}
\DoxyCodeLine{01802               ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_a383706d40ba01b77c1f1268e63ca018b}{setPen}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8c_a0156bf03ca0db741fc0d048da07dc291}{ADrawGetColour}}(arcLineColour));}
\DoxyCodeLine{01803             \}}
\DoxyCodeLine{01804 }
\DoxyCodeLine{01805             \textcolor{comment}{/* Draw line through middle of text */}}
\DoxyCodeLine{01806             ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_a2932c94ea9cc3c09ad8c2f5db5a91917}{dottedLine}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}},}
\DoxyCodeLine{01807                 margin, ymid,}
\DoxyCodeLine{01808                 (\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a1da7dd87eca0843c533ae8d1cf4b9cb9}{MscGetNumEntities}}(m) * ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_ae2ce6abb4ddcf7e0c20fe83781fbafa6}{entitySpacing}}) -\/ margin,  ymid);}
\DoxyCodeLine{01809 }
\DoxyCodeLine{01810             \textcolor{keywordflow}{if} (arcLineColour != NULL)}
\DoxyCodeLine{01811             \{}
\DoxyCodeLine{01812               ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_a383706d40ba01b77c1f1268e63ca018b}{setPen}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__adraw_8h_aaeece236b99530a557134ccceac162c1aa87883e3ac4b08c3b4c355161b16de58}{ADRAW\_COL\_BLACK}});}
\DoxyCodeLine{01813             \}}
\DoxyCodeLine{01814           \}}
\DoxyCodeLine{01815         \}}
\DoxyCodeLine{01816         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01817         \{}
\DoxyCodeLine{01818           \textcolor{keywordflow}{if} (addLines)}
\DoxyCodeLine{01819           \{}
\DoxyCodeLine{01820             \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m, ymin, ymax + ctx.\mbox{\hyperlink{struct_context_tag_a196b205c7d7092eb03f971a34bb671ab}{opts}}.\mbox{\hyperlink{struct_global_options_tag_a6ccfc1c5ea15faa13c5589d692694456}{arcSpacing}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, entColourRef);}
\DoxyCodeLine{01821           \}}
\DoxyCodeLine{01822           \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_aa13d19af09aed421b4e1069b687009bd}{arcLine}}(\&ctx, m, ymid, arcGradient, startCol, endCol, arcLineColour,}
\DoxyCodeLine{01823               arcHasArrows, arcHasBiArrows, arcType);}
\DoxyCodeLine{01824         \}}
\DoxyCodeLine{01825       \}}
\DoxyCodeLine{01826 }
\DoxyCodeLine{01827       \textcolor{comment}{/* All may have text */}}
\DoxyCodeLine{01828       \textcolor{keywordflow}{if} (arcLabelLineCount > 0)}
\DoxyCodeLine{01829       \{}
\DoxyCodeLine{01830         \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a09a371fe698e29e77451029251acadc7}{arcText}}(\&ctx, m, ismap, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, ymid, arcGradient,}
\DoxyCodeLine{01831             startCol, endCol,}
\DoxyCodeLine{01832             arcLabelLineCount, arcLabelLines,}
\DoxyCodeLine{01833             arcUrl, arcId, arcIdUrl,}
\DoxyCodeLine{01834             arcTextColour, arcTextBgColour, arcType);}
\DoxyCodeLine{01835       \}}
\DoxyCodeLine{01836 }
\DoxyCodeLine{01837       \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a3d0b5aeb109aefd7ba3c4fe25bb76f9b}{freeLabelLines}}(arcLabelLineCount, arcLabelLines);}
\DoxyCodeLine{01838 }
\DoxyCodeLine{01839       \textcolor{comment}{/* Advance the row */}}
\DoxyCodeLine{01840       row++;}
\DoxyCodeLine{01841       addLines = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01842     \}}
\DoxyCodeLine{01843   \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___arc_funcs_ga1fe8a2bde88e688af26cabb0e89e8e8b}{MscNextArc}}(m));}
\DoxyCodeLine{01844 }
\DoxyCodeLine{01845   \textcolor{comment}{/* Skip arcs may require the entity lines to be extended */}}
\DoxyCodeLine{01846   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8c_a66e080a2e758752c6b8e3420986b4d47}{entityLines}}(\&ctx, m,}
\DoxyCodeLine{01847       rowInfo[(\mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a3b9e43fc298b66cf152e96d421fedef5}{MscGetNumArcs}}(m) -\/ \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_a591537c398ced68d3f5e0236c7093021}{MscGetNumParallelArcs}}(m)) -\/ 1].ymax,}
\DoxyCodeLine{01848       \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, entColourRef);}
\DoxyCodeLine{01849 }
\DoxyCodeLine{01850   \textcolor{keywordflow}{if} (ismap)}
\DoxyCodeLine{01851   \{}
\DoxyCodeLine{01852     \mbox{\hyperlink{namespace_portable_af099fa6239b4961887192d8eadfd2a44}{fclose}}(ismap);}
\DoxyCodeLine{01853   \}}
\DoxyCodeLine{01854 }
\DoxyCodeLine{01855   free(entColourRef);}
\DoxyCodeLine{01856   free(rowInfo);}
\DoxyCodeLine{01857   \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__msc_8c_afbbf795cc4f95aa29c2c9243fd5e44dd}{MscFree}}(m);}
\DoxyCodeLine{01858   \textcolor{comment}{/* Close the context */}}
\DoxyCodeLine{01859   ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}}.\mbox{\hyperlink{struct_a_draw_tag_aff3218a040358831583c66b763a4a284}{close}}(\&ctx.\mbox{\hyperlink{struct_context_tag_a75b740949218eb6a60de0aff70846af5}{drw}});}
\DoxyCodeLine{01860 }
\DoxyCodeLine{01861   \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2mscgen__api_8h_a3238760373c3c231b44492b367a1f629}{MSCGEN\_OK}};}
\DoxyCodeLine{01862 \}}

\end{DoxyCode}
