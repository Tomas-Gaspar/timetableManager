\hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php}{}\doxysection{doxygen/build/doxygen/templates/html/search\+\_\+opensearch.php File Reference}
\label{build_2doxygen_2templates_2html_2search__opensearch_8php}\index{doxygen/build/doxygen/templates/html/search\_opensearch.php@{doxygen/build/doxygen/templates/html/search\_opensearch.php}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
switch( \$\mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}) \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_a636d3b1f5e25698d5e9939ab4efb03ca}{opensearch\+\_\+description}} ()
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_a199311b321d5d0f239e83c11bfed253a}{opensearch\+\_\+xml\+\_\+results}} (\$query, array \$results)
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_ae2bf3060e481a6013d938c13eab3e791}{opensearch\+\_\+json\+\_\+results}} (\$query, array \$results)
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_aeff5624010b13b8ddc6c47ad727a6d85}{invalid\+\_\+format}} (\$query, array \$results)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_a3aaf40baac36e278c7d7c9139df1750c}{\$mode}} = array\+\_\+key\+\_\+exists(\textquotesingle{}v\textquotesingle{}, \$\+\_\+\+GET)?\$\+\_\+\+GET\mbox{[}\textquotesingle{}v\textquotesingle{}\mbox{]}\+:\char`\"{}\char`\"{}
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_af59a5f7cd609e592c41dc3643efd3c98}{\$query}} = array\+\_\+key\+\_\+exists(\textquotesingle{}query\textquotesingle{}, \$\+\_\+\+GET)?\$\+\_\+\+GET\mbox{[}\textquotesingle{}query\textquotesingle{}\mbox{]}\+:\char`\"{}\char`\"{}
\item 
\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_a13caef56b465ebd21f033497f40b5b85}{\$query\+\_\+results}} = \mbox{\hyperlink{templates_2html_2search__functions_8php_a96f249e14a4fe57b0c6cc9b9620f39c8}{run\+\_\+query}}(\$query)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_aeff5624010b13b8ddc6c47ad727a6d85}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_aeff5624010b13b8ddc6c47ad727a6d85}} 
\index{search\_opensearch.php@{search\_opensearch.php}!invalid\_format@{invalid\_format}}
\index{invalid\_format@{invalid\_format}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{invalid\_format()}{invalid\_format()}}
{\footnotesize\ttfamily invalid\+\_\+format (\begin{DoxyParamCaption}\item[{}]{\$query,  }\item[{array}]{\$results }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00123}{123}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00124 \{}
\DoxyCodeLine{00125   \mbox{\hyperlink{build_2doxygen_2src_2plantuml_8cpp_aaa383e6d12f58596fe30c0de9a8d82b1}{print}} \textcolor{stringliteral}{"{}Search results for '\$query':\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00126   print\_r(\$results);}
\DoxyCodeLine{00127 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2src_2plantuml_8cpp_aaa383e6d12f58596fe30c0de9a8d82b1}{print()}}.

\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_a636d3b1f5e25698d5e9939ab4efb03ca}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_a636d3b1f5e25698d5e9939ab4efb03ca}} 
\index{search\_opensearch.php@{search\_opensearch.php}!opensearch\_description@{opensearch\_description}}
\index{opensearch\_description@{opensearch\_description}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{opensearch\_description()}{opensearch\_description()}}
{\footnotesize\ttfamily switch(\$\mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}) opensearch\+\_\+description (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00026}{26}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027 \{}
\DoxyCodeLine{00028   global \$config;}
\DoxyCodeLine{00029   global \$translator;}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031   \$shortname = \$translator[\textcolor{stringliteral}{'search'}].\textcolor{stringliteral}{"{} "{}}.\$config[\textcolor{stringliteral}{'PROJECT\_NAME'}];}
\DoxyCodeLine{00032   \$link = \textcolor{stringliteral}{"{}http://"{}}.\$\_SERVER[\textcolor{stringliteral}{'HTTP\_HOST'}].dirname(\$\_SERVER[\textcolor{stringliteral}{'SCRIPT\_NAME'}]);}
\DoxyCodeLine{00033   header(\textcolor{stringliteral}{"{}Content-\/Type: application/xml"{}});}
\DoxyCodeLine{00034   echo <<<END\_OPENSEARCH}
\DoxyCodeLine{00035 <?xml \mbox{\hyperlink{namespacesetup_a2aa722b36a933088812b50ea79b97a5c}{version}}=\textcolor{stringliteral}{"{}1.0"{}} encoding=\textcolor{stringliteral}{"{}UTF-\/8"{}}?>}
\DoxyCodeLine{00036 <OpenSearchDescription xmlns=\textcolor{stringliteral}{"{}http://a9.com/-\//spec/opensearch/1.1/"{}}>}
\DoxyCodeLine{00037 <ShortName>\$shortname</ShortName>}
\DoxyCodeLine{00038 <Description>\mbox{\hyperlink{class_doxygen}{Doxygen}} Search</Description>}
\DoxyCodeLine{00039 <InputEncoding>UTF-\/8</InputEncoding>}
\DoxyCodeLine{00040 <!-\/-\/}
\DoxyCodeLine{00041 <\mbox{\hyperlink{class_image}{Image}} height=\textcolor{stringliteral}{"{}16"{}} width=\textcolor{stringliteral}{"{}16"{}} type=\textcolor{stringliteral}{"{}image/x-\/icon"{}}>}
\DoxyCodeLine{00042 http:\textcolor{comment}{//dev.squello.com/doc/html/favicon.ico</Image>}}
\DoxyCodeLine{00043 -\/-\/>}
\DoxyCodeLine{00044 <Url type=\textcolor{stringliteral}{"{}text/html"{}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adcc9a19ad3119f823a658f6a49a24e64}{method}}=\textcolor{stringliteral}{"{}GET"{}}}
\DoxyCodeLine{00045 \textcolor{keyword}{template}=\textcolor{stringliteral}{"{}\$link/search.php?query=\{searchTerms\}"{}} />}
\DoxyCodeLine{00046 <Url type=\textcolor{stringliteral}{"{}application/x-\/suggestions+json"{}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adcc9a19ad3119f823a658f6a49a24e64}{method}}=\textcolor{stringliteral}{"{}GET"{}}}
\DoxyCodeLine{00047 \textcolor{keyword}{template}=\textcolor{stringliteral}{"{}\$link/search\_opensearch.php?v=json\&amp;query=\{searchTerms\}"{}} />}
\DoxyCodeLine{00048 <Url type=\textcolor{stringliteral}{"{}application/x-\/suggestions+xml"{}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adcc9a19ad3119f823a658f6a49a24e64}{method}}=\textcolor{stringliteral}{"{}GET"{}}}
\DoxyCodeLine{00049 \textcolor{keyword}{template}=\textcolor{stringliteral}{"{}\$link/search\_opensearch.php?v=xml\&amp;query=\{searchTerms\}"{}} />}
\DoxyCodeLine{00050 </OpenSearchDescription>}
\DoxyCodeLine{00051 END\_OPENSEARCH;}
\DoxyCodeLine{00052 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adcc9a19ad3119f823a658f6a49a24e64}{method}}, and \mbox{\hyperlink{namespacesetup_a2aa722b36a933088812b50ea79b97a5c}{setup\textbackslash{}version}}.

\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_ae2bf3060e481a6013d938c13eab3e791}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_ae2bf3060e481a6013d938c13eab3e791}} 
\index{search\_opensearch.php@{search\_opensearch.php}!opensearch\_json\_results@{opensearch\_json\_results}}
\index{opensearch\_json\_results@{opensearch\_json\_results}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{opensearch\_json\_results()}{opensearch\_json\_results()}}
{\footnotesize\ttfamily opensearch\+\_\+json\+\_\+results (\begin{DoxyParamCaption}\item[{}]{\$query,  }\item[{array}]{\$results }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00092}{92}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093 \{}
\DoxyCodeLine{00094   \$qs\_results = array();}
\DoxyCodeLine{00095   \textcolor{keywordflow}{foreach} (\$results as \$i => \$val)}
\DoxyCodeLine{00096   \{}
\DoxyCodeLine{00097     \textcolor{keywordflow}{foreach} (\$val[\textcolor{stringliteral}{'words'}] as \$j => \$word)}
\DoxyCodeLine{00098     \{}
\DoxyCodeLine{00099       \textcolor{keywordflow}{if} (array\_key\_exists(\$word, \$qs\_results))}
\DoxyCodeLine{00100         \$qs\_results[\$word[\textcolor{stringliteral}{'match'}]]++;}
\DoxyCodeLine{00101       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00102         \$qs\_results[\$word[\textcolor{stringliteral}{'match'}]] = 1;}
\DoxyCodeLine{00103     \}}
\DoxyCodeLine{00104   \}}
\DoxyCodeLine{00105   \$result = \textcolor{stringliteral}{'["{}'}.\$query.\textcolor{stringliteral}{'"{}, ['};}
\DoxyCodeLine{00106   \$json\_words = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00107   \$json\_descriptions = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00108   \$i = 0;}
\DoxyCodeLine{00109   \textcolor{keywordflow}{foreach} (\$qs\_results as \$word => \$count)}
\DoxyCodeLine{00110   \{}
\DoxyCodeLine{00111     \textcolor{keywordflow}{if} (\$i != 0)}
\DoxyCodeLine{00112     \{}
\DoxyCodeLine{00113       \$json\_words .= \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{00114       \$json\_descriptions .= \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{00115     \}}
\DoxyCodeLine{00116     \$json\_words .= \textcolor{charliteral}{'"{}'}.\$word.\textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{00117     \$json\_descriptions .= \textcolor{charliteral}{'"{}'}.\$count.\textcolor{stringliteral}{' result'}.(\$count==1?\textcolor{stringliteral}{''}:\textcolor{charliteral}{'s'}).\textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{00118     \$i++;}
\DoxyCodeLine{00119   \}}
\DoxyCodeLine{00120   \mbox{\hyperlink{build_2doxygen_2src_2plantuml_8cpp_aaa383e6d12f58596fe30c0de9a8d82b1}{print}} \textcolor{stringliteral}{"{}[\(\backslash\)"{}\$query\(\backslash\)"{}, [\$json\_words],[\$json\_descriptions]]"{}};}
\DoxyCodeLine{00121 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2src_2plantuml_8cpp_aaa383e6d12f58596fe30c0de9a8d82b1}{print()}}.

\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_a199311b321d5d0f239e83c11bfed253a}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_a199311b321d5d0f239e83c11bfed253a}} 
\index{search\_opensearch.php@{search\_opensearch.php}!opensearch\_xml\_results@{opensearch\_xml\_results}}
\index{opensearch\_xml\_results@{opensearch\_xml\_results}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{opensearch\_xml\_results()}{opensearch\_xml\_results()}}
{\footnotesize\ttfamily opensearch\+\_\+xml\+\_\+results (\begin{DoxyParamCaption}\item[{}]{\$query,  }\item[{array}]{\$results }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00054}{54}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055 \{}
\DoxyCodeLine{00056   \textcolor{comment}{// Much as I hate copy'n'paste code re-\/use, this is for testing;}}
\DoxyCodeLine{00057   \textcolor{comment}{// I expect a richer version to come soon.}}
\DoxyCodeLine{00058   \textcolor{comment}{// Although I hate that IE does this richer than FF more...}}
\DoxyCodeLine{00059   \$qs\_results = array();}
\DoxyCodeLine{00060   \textcolor{keywordflow}{foreach} (\$results as \$i => \$val)}
\DoxyCodeLine{00061   \{}
\DoxyCodeLine{00062     \textcolor{keywordflow}{foreach} (\$val[\textcolor{stringliteral}{'words'}] as \$j => \$word)}
\DoxyCodeLine{00063     \{}
\DoxyCodeLine{00064       \textcolor{keywordflow}{if} (array\_key\_exists(\$word, \$qs\_results))}
\DoxyCodeLine{00065         \$qs\_results[\$word[\textcolor{stringliteral}{'match'}]]++;}
\DoxyCodeLine{00066       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00067         \$qs\_results[\$word[\textcolor{stringliteral}{'match'}]] = 1;}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069   \}}
\DoxyCodeLine{00070   \$result = <<<END\_FRAG}
\DoxyCodeLine{00071 <?xml \mbox{\hyperlink{namespacesetup_a2aa722b36a933088812b50ea79b97a5c}{version}}=\textcolor{stringliteral}{"{}1.0"{}}?>}
\DoxyCodeLine{00072 <SearchSuggestion xmlns=\textcolor{stringliteral}{"{}http://schemas.microsoft.com/Search/2008/suggestions"{}}>}
\DoxyCodeLine{00073 <Query>\mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_af59a5f7cd609e592c41dc3643efd3c98}{\$query}}</Query>}
\DoxyCodeLine{00074 <\mbox{\hyperlink{build_2doxygen_2src_2section_8h_a25c82173ed332876ea7c76359befda30ad2c24d59e0baff4d0155fbdf62590867}{Section}}>}
\DoxyCodeLine{00075 END\_FRAG;}
\DoxyCodeLine{00076   \textcolor{keywordflow}{foreach} (\$qs\_results as \$word => \$count)}
\DoxyCodeLine{00077   \{}
\DoxyCodeLine{00078     \$result .= <<<END\_FRAG}
\DoxyCodeLine{00079 <Item>}
\DoxyCodeLine{00080 <Text>\$word</Text>}
\DoxyCodeLine{00081 <Description>\$count results</Description>}
\DoxyCodeLine{00082 </Item>}
\DoxyCodeLine{00083 END\_FRAG;}
\DoxyCodeLine{00084   \}}
\DoxyCodeLine{00085   \$result .= <<<END\_FRAG}
\DoxyCodeLine{00086 </\mbox{\hyperlink{build_2doxygen_2src_2section_8h_a25c82173ed332876ea7c76359befda30ad2c24d59e0baff4d0155fbdf62590867}{Section}}>}
\DoxyCodeLine{00087 </SearchSuggestion>}
\DoxyCodeLine{00088 END\_FRAG;}
\DoxyCodeLine{00089   echo \$result;}
\DoxyCodeLine{00090 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_af59a5f7cd609e592c41dc3643efd3c98}{\$query}}, \mbox{\hyperlink{build_2doxygen_2src_2section_8h_a25c82173ed332876ea7c76359befda30ad2c24d59e0baff4d0155fbdf62590867}{Section}}, and \mbox{\hyperlink{namespacesetup_a2aa722b36a933088812b50ea79b97a5c}{setup\textbackslash{}version}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_a3aaf40baac36e278c7d7c9139df1750c}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_a3aaf40baac36e278c7d7c9139df1750c}} 
\index{search\_opensearch.php@{search\_opensearch.php}!\$mode@{\$mode}}
\index{\$mode@{\$mode}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{\$mode}{$mode}}
{\footnotesize\ttfamily \$\mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}} = array\+\_\+key\+\_\+exists(\textquotesingle{}v\textquotesingle{}, \$\+\_\+\+GET)?\$\+\_\+\+GET\mbox{[}\textquotesingle{}v\textquotesingle{}\mbox{]}\+:\char`\"{}\char`\"{}}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00004}{4}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.

\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_af59a5f7cd609e592c41dc3643efd3c98}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_af59a5f7cd609e592c41dc3643efd3c98}} 
\index{search\_opensearch.php@{search\_opensearch.php}!\$query@{\$query}}
\index{\$query@{\$query}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{\$query}{$query}}
{\footnotesize\ttfamily \$query = array\+\_\+key\+\_\+exists(\textquotesingle{}query\textquotesingle{}, \$\+\_\+\+GET)?\$\+\_\+\+GET\mbox{[}\textquotesingle{}query\textquotesingle{}\mbox{]}\+:\char`\"{}\char`\"{}}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00005}{5}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__functions_8php_a51af30a60f9f02777c6396b8247e356f}{main()}}, \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_a199311b321d5d0f239e83c11bfed253a}{opensearch\+\_\+xml\+\_\+results()}}, and \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__functions_8php_a96f249e14a4fe57b0c6cc9b9620f39c8}{run\+\_\+query()}}.

\mbox{\Hypertarget{build_2doxygen_2templates_2html_2search__opensearch_8php_a13caef56b465ebd21f033497f40b5b85}\label{build_2doxygen_2templates_2html_2search__opensearch_8php_a13caef56b465ebd21f033497f40b5b85}} 
\index{search\_opensearch.php@{search\_opensearch.php}!\$query\_results@{\$query\_results}}
\index{\$query\_results@{\$query\_results}!search\_opensearch.php@{search\_opensearch.php}}
\doxysubsubsection{\texorpdfstring{\$query\_results}{$query\_results}}
{\footnotesize\ttfamily \$query\+\_\+results = \mbox{\hyperlink{templates_2html_2search__functions_8php_a96f249e14a4fe57b0c6cc9b9620f39c8}{run\+\_\+query}}(\$query)}



Definition at line \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source_l00008}{8}} of file \mbox{\hyperlink{build_2doxygen_2templates_2html_2search__opensearch_8php_source}{search\+\_\+opensearch.\+php}}.

