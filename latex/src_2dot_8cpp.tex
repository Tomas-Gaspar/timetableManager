\hypertarget{src_2dot_8cpp}{}\doxysection{doxygen/src/dot.cpp File Reference}
\label{src_2dot_8cpp}\index{doxygen/src/dot.cpp@{doxygen/src/dot.cpp}}
{\ttfamily \#include $<$cstdlib$>$}\newline
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$mutex$>$}\newline
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dot.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dotrunner.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dotfilepatcher.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}portable.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}message.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}doxygen.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}language.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}indexlist.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dir.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}{MAP\+\_\+\+CMD}}~\char`\"{}cmapx\char`\"{}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{src_2dot_8cpp_a3d9eb667db4f11f9bd15cfc0b8fe45b4}{set\+Dot\+Font\+Path}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&path)
\item 
static void \mbox{\hyperlink{src_2dot_8cpp_a74cb640833073a036af5b7fa13cd16c6}{unset\+Dot\+Font\+Path}} ()
\item 
void \mbox{\hyperlink{src_2dot_8cpp_aee48308a96887ccde586df24f0b73ca4}{write\+Dot\+Graph\+From\+File}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&in\+File, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&out\+Dir, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&\mbox{\hyperlink{libmscgen_2gd_8h_a58b968b0b4c5babf4eafd809481c7a9f}{out\+File}}, \mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523f}{Graph\+Output\+Format}} format, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&src\+File, int src\+Line)
\item 
void \mbox{\hyperlink{src_2dot_8cpp_ada988a5303d67622cb43bd75c247fec2}{write\+Dot\+Image\+Map\+From\+File}} (\mbox{\hyperlink{class_text_stream}{Text\+Stream}} \&t, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&in\+File, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&out\+Dir, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&rel\+Path, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&base\+Name, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&context, int graph\+Id, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&src\+File, int src\+Line)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_q_c_string}{QCString}} \mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\+\_\+dot\+Font\+Path}}
\item 
static std\+::mutex \mbox{\hyperlink{src_2dot_8cpp_a9d46d0c5cbd8c8ac7d5d4f7f038ecb60}{g\+\_\+dot\+Manager\+Mutex}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}\label{src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}} 
\index{dot.cpp@{dot.cpp}!MAP\_CMD@{MAP\_CMD}}
\index{MAP\_CMD@{MAP\_CMD}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{MAP\_CMD}{MAP\_CMD}}
{\footnotesize\ttfamily \#define MAP\+\_\+\+CMD~\char`\"{}cmapx\char`\"{}}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00034}{34}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{src_2dot_8cpp_a3d9eb667db4f11f9bd15cfc0b8fe45b4}\label{src_2dot_8cpp_a3d9eb667db4f11f9bd15cfc0b8fe45b4}} 
\index{dot.cpp@{dot.cpp}!setDotFontPath@{setDotFontPath}}
\index{setDotFontPath@{setDotFontPath}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{setDotFontPath()}{setDotFontPath()}}
{\footnotesize\ttfamily static void set\+Dot\+Font\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00042}{42}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043 \{}
\DoxyCodeLine{00044   \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aca68c0d4ac8df0838e209fb5300f7be3}{ASSERT}}(\mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\_dotFontPath}}.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}());}
\DoxyCodeLine{00045   \mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\_dotFontPath}} = \mbox{\hyperlink{namespace_portable_ae1a7516287ca7c75eebc3fa7aa12e970}{Portable::getenv}}(\textcolor{stringliteral}{"{}DOTFONTPATH"{}});}
\DoxyCodeLine{00046   \mbox{\hyperlink{class_q_c_string}{QCString}} newFontPath = \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\_getString}}(DOT\_FONTPATH);}
\DoxyCodeLine{00047   \textcolor{keywordflow}{if} (!newFontPath.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}() \&\& !path.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}())}
\DoxyCodeLine{00048   \{}
\DoxyCodeLine{00049     newFontPath.\mbox{\hyperlink{class_q_c_string_a0a6a8fe99e596b149ee15138fa8dcf0c}{prepend}}(path+\mbox{\hyperlink{namespace_portable_a33ec52ac55c4d58e0748239920ee3e14}{Portable::pathListSeparator}}());}
\DoxyCodeLine{00050   \}}
\DoxyCodeLine{00051   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newFontPath.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}() \&\& !path.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}())}
\DoxyCodeLine{00052   \{}
\DoxyCodeLine{00053     newFontPath=path;}
\DoxyCodeLine{00054   \}}
\DoxyCodeLine{00055   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00056   \{}
\DoxyCodeLine{00057     \mbox{\hyperlink{namespace_portable_ac2e29048cffc72c3bed439cff5b02cd4}{Portable::unsetenv}}(\textcolor{stringliteral}{"{}DOTFONTPATH"{}});}
\DoxyCodeLine{00058     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00059   \}}
\DoxyCodeLine{00060   \mbox{\hyperlink{namespace_portable_abd244447df22d110ad410b69c357fdf3}{Portable::setenv}}(\textcolor{stringliteral}{"{}DOTFONTPATH"{}},newFontPath);}
\DoxyCodeLine{00061 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aca68c0d4ac8df0838e209fb5300f7be3}{ASSERT}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\+\_\+get\+String}}, \mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\+\_\+dot\+Font\+Path}}, \mbox{\hyperlink{namespace_portable_ae1a7516287ca7c75eebc3fa7aa12e970}{Portable\+::getenv()}}, \mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{QCString\+::is\+Empty()}}, \mbox{\hyperlink{namespace_portable_a33ec52ac55c4d58e0748239920ee3e14}{Portable\+::path\+List\+Separator()}}, \mbox{\hyperlink{class_q_c_string_a0a6a8fe99e596b149ee15138fa8dcf0c}{QCString\+::prepend()}}, \mbox{\hyperlink{namespace_portable_abd244447df22d110ad410b69c357fdf3}{Portable\+::setenv()}}, and \mbox{\hyperlink{namespace_portable_ac2e29048cffc72c3bed439cff5b02cd4}{Portable\+::unsetenv()}}.

\mbox{\Hypertarget{src_2dot_8cpp_a74cb640833073a036af5b7fa13cd16c6}\label{src_2dot_8cpp_a74cb640833073a036af5b7fa13cd16c6}} 
\index{dot.cpp@{dot.cpp}!unsetDotFontPath@{unsetDotFontPath}}
\index{unsetDotFontPath@{unsetDotFontPath}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{unsetDotFontPath()}{unsetDotFontPath()}}
{\footnotesize\ttfamily static void unset\+Dot\+Font\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00063}{63}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064 \{}
\DoxyCodeLine{00065   \textcolor{keywordflow}{if} (\mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\_dotFontPath}}.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}())}
\DoxyCodeLine{00066   \{}
\DoxyCodeLine{00067     \mbox{\hyperlink{namespace_portable_ac2e29048cffc72c3bed439cff5b02cd4}{Portable::unsetenv}}(\textcolor{stringliteral}{"{}DOTFONTPATH"{}});}
\DoxyCodeLine{00068   \}}
\DoxyCodeLine{00069   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00070   \{}
\DoxyCodeLine{00071     \mbox{\hyperlink{namespace_portable_abd244447df22d110ad410b69c357fdf3}{Portable::setenv}}(\textcolor{stringliteral}{"{}DOTFONTPATH"{}},\mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\_dotFontPath}});}
\DoxyCodeLine{00072   \}}
\DoxyCodeLine{00073   \mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\_dotFontPath}}=\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00074 \}}

\end{DoxyCode}


References \mbox{\hyperlink{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}{g\+\_\+dot\+Font\+Path}}, \mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{QCString\+::is\+Empty()}}, \mbox{\hyperlink{namespace_portable_abd244447df22d110ad410b69c357fdf3}{Portable\+::setenv()}}, and \mbox{\hyperlink{namespace_portable_ac2e29048cffc72c3bed439cff5b02cd4}{Portable\+::unsetenv()}}.

\mbox{\Hypertarget{src_2dot_8cpp_aee48308a96887ccde586df24f0b73ca4}\label{src_2dot_8cpp_aee48308a96887ccde586df24f0b73ca4}} 
\index{dot.cpp@{dot.cpp}!writeDotGraphFromFile@{writeDotGraphFromFile}}
\index{writeDotGraphFromFile@{writeDotGraphFromFile}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{writeDotGraphFromFile()}{writeDotGraphFromFile()}}
{\footnotesize\ttfamily void write\+Dot\+Graph\+From\+File (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{in\+File,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+Dir,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+File,  }\item[{\mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523f}{Graph\+Output\+Format}}}]{format,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{src\+File,  }\item[{int}]{src\+Line }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00269 \{}
\DoxyCodeLine{00270   \mbox{\hyperlink{class_dir}{Dir}} d(outDir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00271   \textcolor{keywordflow}{if} (!d.exists())}
\DoxyCodeLine{00272   \{}
\DoxyCodeLine{00273     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term}}(\textcolor{stringliteral}{"{}Output dir \%s does not exist!\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(outDir));}
\DoxyCodeLine{00274   \}}
\DoxyCodeLine{00275 }
\DoxyCodeLine{00276   \mbox{\hyperlink{class_q_c_string}{QCString}} imgExt = \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{getDotImageExtension}}();}
\DoxyCodeLine{00277   \mbox{\hyperlink{class_q_c_string}{QCString}} imgName = \mbox{\hyperlink{class_q_c_string}{QCString}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}})+\textcolor{stringliteral}{"{}."{}}+imgExt;}
\DoxyCodeLine{00278   \mbox{\hyperlink{class_q_c_string}{QCString}} absImgName = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+imgName;}
\DoxyCodeLine{00279   \mbox{\hyperlink{class_q_c_string}{QCString}} absOutFile = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}};}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   \mbox{\hyperlink{class_dot_runner}{DotRunner}} dotRun(inFile);}
\DoxyCodeLine{00282   \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523fa4cab0638aeb754692801b1e07fa3db74}{GOF\_BITMAP}})}
\DoxyCodeLine{00283   \{}
\DoxyCodeLine{00284     dotRun.addJob(\mbox{\hyperlink{build_2doxygen_2src_2config_8h_a251399cde30dd4c356bbd5634c6eb472}{Config\_getEnumAsString}}(DOT\_IMAGE\_FORMAT),absImgName,srcFile,srcLine);}
\DoxyCodeLine{00285   \}}
\DoxyCodeLine{00286   \textcolor{keywordflow}{else} \textcolor{comment}{// format==GOF\_EPS}}
\DoxyCodeLine{00287   \{}
\DoxyCodeLine{00288     \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2src_2config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\_getBool}}(USE\_PDFLATEX))}
\DoxyCodeLine{00289     \{}
\DoxyCodeLine{00290       dotRun.addJob(\textcolor{stringliteral}{"{}pdf"{}},absOutFile+\textcolor{stringliteral}{"{}.pdf"{}},srcFile,srcLine);}
\DoxyCodeLine{00291     \}}
\DoxyCodeLine{00292     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00293     \{}
\DoxyCodeLine{00294       dotRun.addJob(\textcolor{stringliteral}{"{}ps"{}},absOutFile+\textcolor{stringliteral}{"{}.eps"{}},srcFile,srcLine);}
\DoxyCodeLine{00295     \}}
\DoxyCodeLine{00296   \}}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   dotRun.preventCleanUp();}
\DoxyCodeLine{00299   \textcolor{keywordflow}{if} (!dotRun.run())}
\DoxyCodeLine{00300   \{}
\DoxyCodeLine{00301      \textcolor{keywordflow}{return};}
\DoxyCodeLine{00302   \}}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   \mbox{\hyperlink{class_doxygen_a52fd39c003e72f197e3ee164cbf2ff82}{Doxygen::indexList}}-\/>\mbox{\hyperlink{class_index_list_aac3c1b70be363f488269cd9054cc7621}{addImageFile}}(imgName);}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_dir_a226b0db1117e46393bbb241e545f8609}{Dir\+::abs\+Path()}}, \mbox{\hyperlink{class_index_list_aac3c1b70be363f488269cd9054cc7621}{Index\+List\+::add\+Image\+File()}}, \mbox{\hyperlink{class_dot_runner_aa225ccd454acbadc5b6a23d9534e574f}{Dot\+Runner\+::add\+Job()}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\+\_\+get\+Bool}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a251399cde30dd4c356bbd5634c6eb472}{Config\+\_\+get\+Enum\+As\+String}}, \mbox{\hyperlink{class_dir_ac6bf80b5b3a034e8c144c86ef48ae309}{Dir\+::exists()}}, \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{get\+Dot\+Image\+Extension()}}, \mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523fa4cab0638aeb754692801b1e07fa3db74}{GOF\+\_\+\+BITMAP}}, \mbox{\hyperlink{class_doxygen_a52fd39c003e72f197e3ee164cbf2ff82}{Doxygen\+::index\+List}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{out\+File}}, \mbox{\hyperlink{class_dot_runner_a2c9b6af873f263c04913504d0f420274}{Dot\+Runner\+::prevent\+Clean\+Up()}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{class_dot_runner_ac1afaee16ddd8bf0bc6b18aaed6b44fd}{Dot\+Runner\+::run()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, and \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term()}}.

\mbox{\Hypertarget{src_2dot_8cpp_ada988a5303d67622cb43bd75c247fec2}\label{src_2dot_8cpp_ada988a5303d67622cb43bd75c247fec2}} 
\index{dot.cpp@{dot.cpp}!writeDotImageMapFromFile@{writeDotImageMapFromFile}}
\index{writeDotImageMapFromFile@{writeDotImageMapFromFile}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{writeDotImageMapFromFile()}{writeDotImageMapFromFile()}}
{\footnotesize\ttfamily void write\+Dot\+Image\+Map\+From\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_text_stream}{Text\+Stream}} \&}]{t,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{in\+File,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+Dir,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{rel\+Path,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{base\+Name,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{context,  }\item[{int}]{graph\+Id,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{src\+File,  }\item[{int}]{src\+Line }\end{DoxyParamCaption})}

Writes user defined image map to the output. 
\begin{DoxyParams}{Parameters}
{\em t} & text stream to write to \\
\hline
{\em in\+File} & just the basename part of the filename \\
\hline
{\em out\+Dir} & output directory \\
\hline
{\em rel\+Path} & relative path the to root of the output dir \\
\hline
{\em base\+Name} & the base name of the output files \\
\hline
{\em context} & the scope in which this graph is found (for resolving links) \\
\hline
{\em graph\+Id} & a unique id for this graph, use for dynamic sections \\
\hline
{\em src\+File} & the source file \\
\hline
{\em src\+Line} & the line number in the source file \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00319}{319}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00324 \{}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   \mbox{\hyperlink{class_dir}{Dir}} d(outDir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00327   \textcolor{keywordflow}{if} (!d.exists())}
\DoxyCodeLine{00328   \{}
\DoxyCodeLine{00329     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term}}(\textcolor{stringliteral}{"{}Output dir \%s does not exist!\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(outDir));}
\DoxyCodeLine{00330   \}}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332   \mbox{\hyperlink{class_q_c_string}{QCString}} mapName = baseName+\textcolor{stringliteral}{"{}.map"{}};}
\DoxyCodeLine{00333   \mbox{\hyperlink{class_q_c_string}{QCString}} imgExt = \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{getDotImageExtension}}();}
\DoxyCodeLine{00334   \mbox{\hyperlink{class_q_c_string}{QCString}} imgName = baseName+\textcolor{stringliteral}{"{}."{}}+imgExt;}
\DoxyCodeLine{00335   \mbox{\hyperlink{class_q_c_string}{QCString}} absOutFile = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+mapName;}
\DoxyCodeLine{00336 }
\DoxyCodeLine{00337   \mbox{\hyperlink{class_dot_runner}{DotRunner}} dotRun(inFile);}
\DoxyCodeLine{00338   dotRun.addJob(\mbox{\hyperlink{src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}{MAP\_CMD}},absOutFile,srcFile,srcLine);}
\DoxyCodeLine{00339   dotRun.preventCleanUp();}
\DoxyCodeLine{00340   \textcolor{keywordflow}{if} (!dotRun.run())}
\DoxyCodeLine{00341   \{}
\DoxyCodeLine{00342     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00343   \}}
\DoxyCodeLine{00344 }
\DoxyCodeLine{00345   \textcolor{keywordflow}{if} (imgExt==\textcolor{stringliteral}{"{}svg"{}}) \textcolor{comment}{// vector graphics}}
\DoxyCodeLine{00346   \{}
\DoxyCodeLine{00347     \mbox{\hyperlink{class_q_c_string}{QCString}} svgName = outDir+\textcolor{stringliteral}{"{}/"{}}+baseName+\textcolor{stringliteral}{"{}.svg"{}};}
\DoxyCodeLine{00348     \mbox{\hyperlink{class_dot_file_patcher_ae41b4e8b1817e1d1de1732e4c4f9069c}{DotFilePatcher::writeSVGFigureLink}}(t,relPath,baseName,svgName);}
\DoxyCodeLine{00349     \mbox{\hyperlink{class_dot_file_patcher}{DotFilePatcher}} patcher(svgName);}
\DoxyCodeLine{00350     patcher.addSVGConversion(\textcolor{stringliteral}{"{}"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}},context,\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}},graphId);}
\DoxyCodeLine{00351     patcher.run();}
\DoxyCodeLine{00352   \}}
\DoxyCodeLine{00353   \textcolor{keywordflow}{else} \textcolor{comment}{// bitmap graphics}}
\DoxyCodeLine{00354   \{}
\DoxyCodeLine{00355     \mbox{\hyperlink{class_text_stream}{TextStream}} tt;}
\DoxyCodeLine{00356     t << \textcolor{stringliteral}{"{}<img src=\(\backslash\)"{}"{}} << relPath << imgName << \textcolor{stringliteral}{"{}\(\backslash\)"{} alt=\(\backslash\)"{}"{}}}
\DoxyCodeLine{00357       << imgName << \textcolor{stringliteral}{"{}\(\backslash\)"{} border=\(\backslash\)"{}0\(\backslash\)"{} usemap=\(\backslash\)"{}\#"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{}/>\(\backslash\)n"{}};}
\DoxyCodeLine{00358     \mbox{\hyperlink{class_dot_file_patcher_a28f0ce1e173d0f12f0a4425af69958a5}{DotFilePatcher::convertMapFile}}(tt, absOutFile, relPath ,\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}}, context);}
\DoxyCodeLine{00359     \textcolor{keywordflow}{if} (!tt.\mbox{\hyperlink{class_text_stream_a0859a9bfd6a7b6bafc7050d9f3aef046}{empty}}())}
\DoxyCodeLine{00360     \{}
\DoxyCodeLine{00361       t << \textcolor{stringliteral}{"{}<map name=\(\backslash\)"{}"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{} id=\(\backslash\)"{}"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{}>"{}};}
\DoxyCodeLine{00362       t << tt.\mbox{\hyperlink{class_text_stream_aca8457da22d874f4eb30b35ffe87ebd0}{str}}();}
\DoxyCodeLine{00363       t << \textcolor{stringliteral}{"{}</map>\(\backslash\)n"{}};}
\DoxyCodeLine{00364     \}}
\DoxyCodeLine{00365   \}}
\DoxyCodeLine{00366   d.remove(absOutFile.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00367 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_dir_a226b0db1117e46393bbb241e545f8609}{Dir\+::abs\+Path()}}, \mbox{\hyperlink{class_dot_runner_aa225ccd454acbadc5b6a23d9534e574f}{Dot\+Runner\+::add\+Job()}}, \mbox{\hyperlink{class_dot_file_patcher_aac97171a3985fd07e09fef2a25819a16}{Dot\+File\+Patcher\+::add\+SVGConversion()}}, \mbox{\hyperlink{class_dot_file_patcher_a28f0ce1e173d0f12f0a4425af69958a5}{Dot\+File\+Patcher\+::convert\+Map\+File()}}, \mbox{\hyperlink{class_text_stream_a0859a9bfd6a7b6bafc7050d9f3aef046}{Text\+Stream\+::empty()}}, \mbox{\hyperlink{class_dir_ac6bf80b5b3a034e8c144c86ef48ae309}{Dir\+::exists()}}, \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{get\+Dot\+Image\+Extension()}}, \mbox{\hyperlink{src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}{MAP\+\_\+\+CMD}}, \mbox{\hyperlink{class_dot_runner_a2c9b6af873f263c04913504d0f420274}{Dot\+Runner\+::prevent\+Clean\+Up()}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{class_dir_a5a64060f8e1731e8f00da7e8f7051e4b}{Dir\+::remove()}}, \mbox{\hyperlink{class_dot_runner_ac1afaee16ddd8bf0bc6b18aaed6b44fd}{Dot\+Runner\+::run()}}, \mbox{\hyperlink{class_dot_file_patcher_a02cd92c7c61a35c61c601ff6b409c5e5}{Dot\+File\+Patcher\+::run()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{class_text_stream_aca8457da22d874f4eb30b35ffe87ebd0}{Text\+Stream\+::str()}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term()}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}}, and \mbox{\hyperlink{class_dot_file_patcher_ae41b4e8b1817e1d1de1732e4c4f9069c}{Dot\+File\+Patcher\+::write\+SVGFigure\+Link()}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}\label{src_2dot_8cpp_a60d30e2e6c2496b226540c48f7a6fca7}} 
\index{dot.cpp@{dot.cpp}!g\_dotFontPath@{g\_dotFontPath}}
\index{g\_dotFontPath@{g\_dotFontPath}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{g\_dotFontPath}{g\_dotFontPath}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_q_c_string}{QCString}} g\+\_\+dot\+Font\+Path\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00038}{38}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.



Referenced by \mbox{\hyperlink{src_2dot_8cpp_a3d9eb667db4f11f9bd15cfc0b8fe45b4}{set\+Dot\+Font\+Path()}}, and \mbox{\hyperlink{src_2dot_8cpp_a74cb640833073a036af5b7fa13cd16c6}{unset\+Dot\+Font\+Path()}}.

\mbox{\Hypertarget{src_2dot_8cpp_a9d46d0c5cbd8c8ac7d5d4f7f038ecb60}\label{src_2dot_8cpp_a9d46d0c5cbd8c8ac7d5d4f7f038ecb60}} 
\index{dot.cpp@{dot.cpp}!g\_dotManagerMutex@{g\_dotManagerMutex}}
\index{g\_dotManagerMutex@{g\_dotManagerMutex}!dot.cpp@{dot.cpp}}
\doxysubsubsection{\texorpdfstring{g\_dotManagerMutex}{g\_dotManagerMutex}}
{\footnotesize\ttfamily std\+::mutex g\+\_\+dot\+Manager\+Mutex\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{src_2dot_8cpp_source_l00040}{40}} of file \mbox{\hyperlink{src_2dot_8cpp_source}{dot.\+cpp}}.

