\hypertarget{build_2doxygen_2src_2dot_8h}{}\doxysection{doxygen/build/doxygen/src/dot.h File Reference}
\label{build_2doxygen_2src_2dot_8h}\index{doxygen/build/doxygen/src/dot.h@{doxygen/build/doxygen/src/dot.h}}
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include \char`\"{}qcstring.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dotgraph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dotfilepatcher.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dotrunner.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}doxygen.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_dot_manager}{Dot\+Manager}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_a2fa6e2664ce75b8d7f751147c883e3c6}{Dot\+Worker\+Thread\+Ptr}} = std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_dot_worker_thread}{Dot\+Worker\+Thread}}, \mbox{\hyperlink{struct_non_terminating_deleter}{Non\+Terminating\+Deleter}}$<$ \mbox{\hyperlink{class_dot_worker_thread}{Dot\+Worker\+Thread}} $>$ $>$
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_aee48308a96887ccde586df24f0b73ca4}{write\+Dot\+Graph\+From\+File}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&in\+File, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&out\+Dir, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&\mbox{\hyperlink{libmscgen_2gd_8h_a58b968b0b4c5babf4eafd809481c7a9f}{out\+File}}, \mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523f}{Graph\+Output\+Format}} format, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&src\+File, int src\+Line)
\item 
void \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_ada988a5303d67622cb43bd75c247fec2}{write\+Dot\+Image\+Map\+From\+File}} (\mbox{\hyperlink{class_text_stream}{Text\+Stream}} \&t, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&in\+File, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&out\+Dir, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&rel\+Path, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&base\+Name, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&context, int graph\+Id, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&src\+File, int src\+Line)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{build_2doxygen_2src_2dot_8h_a2fa6e2664ce75b8d7f751147c883e3c6}\label{build_2doxygen_2src_2dot_8h_a2fa6e2664ce75b8d7f751147c883e3c6}} 
\index{dot.h@{dot.h}!DotWorkerThreadPtr@{DotWorkerThreadPtr}}
\index{DotWorkerThreadPtr@{DotWorkerThreadPtr}!dot.h@{dot.h}}
\doxysubsubsection{\texorpdfstring{DotWorkerThreadPtr}{DotWorkerThreadPtr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_a2fa6e2664ce75b8d7f751147c883e3c6}{Dot\+Worker\+Thread\+Ptr}} =  std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_dot_worker_thread}{Dot\+Worker\+Thread}}, \mbox{\hyperlink{struct_non_terminating_deleter}{Non\+Terminating\+Deleter}}$<$\mbox{\hyperlink{class_dot_worker_thread}{Dot\+Worker\+Thread}} $>$ $>$}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_source_l00031}{31}} of file \mbox{\hyperlink{build_2doxygen_2src_2dot_8h_source}{dot.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{build_2doxygen_2src_2dot_8h_aee48308a96887ccde586df24f0b73ca4}\label{build_2doxygen_2src_2dot_8h_aee48308a96887ccde586df24f0b73ca4}} 
\index{dot.h@{dot.h}!writeDotGraphFromFile@{writeDotGraphFromFile}}
\index{writeDotGraphFromFile@{writeDotGraphFromFile}!dot.h@{dot.h}}
\doxysubsubsection{\texorpdfstring{writeDotGraphFromFile()}{writeDotGraphFromFile()}}
{\footnotesize\ttfamily void write\+Dot\+Graph\+From\+File (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{in\+File,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+Dir,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+File,  }\item[{\mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523f}{Graph\+Output\+Format}}}]{format,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{src\+File,  }\item[{int}]{src\+Line }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2dot_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{build_2doxygen_2src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00269 \{}
\DoxyCodeLine{00270   \mbox{\hyperlink{class_dir}{Dir}} d(outDir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00271   \textcolor{keywordflow}{if} (!d.exists())}
\DoxyCodeLine{00272   \{}
\DoxyCodeLine{00273     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term}}(\textcolor{stringliteral}{"{}Output dir \%s does not exist!\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(outDir));}
\DoxyCodeLine{00274   \}}
\DoxyCodeLine{00275 }
\DoxyCodeLine{00276   \mbox{\hyperlink{class_q_c_string}{QCString}} imgExt = \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{getDotImageExtension}}();}
\DoxyCodeLine{00277   \mbox{\hyperlink{class_q_c_string}{QCString}} imgName = \mbox{\hyperlink{class_q_c_string}{QCString}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}})+\textcolor{stringliteral}{"{}."{}}+imgExt;}
\DoxyCodeLine{00278   \mbox{\hyperlink{class_q_c_string}{QCString}} absImgName = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+imgName;}
\DoxyCodeLine{00279   \mbox{\hyperlink{class_q_c_string}{QCString}} absOutFile = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}};}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   \mbox{\hyperlink{class_dot_runner}{DotRunner}} dotRun(inFile);}
\DoxyCodeLine{00282   \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{build_2doxygen_2src_2dotgraph_8h_ac60ef98d62b78366a17c9f1bda96523fa4cab0638aeb754692801b1e07fa3db74}{GOF\_BITMAP}})}
\DoxyCodeLine{00283   \{}
\DoxyCodeLine{00284     dotRun.addJob(\mbox{\hyperlink{build_2doxygen_2src_2config_8h_a251399cde30dd4c356bbd5634c6eb472}{Config\_getEnumAsString}}(DOT\_IMAGE\_FORMAT),absImgName,srcFile,srcLine);}
\DoxyCodeLine{00285   \}}
\DoxyCodeLine{00286   \textcolor{keywordflow}{else} \textcolor{comment}{// format==GOF\_EPS}}
\DoxyCodeLine{00287   \{}
\DoxyCodeLine{00288     \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2src_2config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\_getBool}}(USE\_PDFLATEX))}
\DoxyCodeLine{00289     \{}
\DoxyCodeLine{00290       dotRun.addJob(\textcolor{stringliteral}{"{}pdf"{}},absOutFile+\textcolor{stringliteral}{"{}.pdf"{}},srcFile,srcLine);}
\DoxyCodeLine{00291     \}}
\DoxyCodeLine{00292     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00293     \{}
\DoxyCodeLine{00294       dotRun.addJob(\textcolor{stringliteral}{"{}ps"{}},absOutFile+\textcolor{stringliteral}{"{}.eps"{}},srcFile,srcLine);}
\DoxyCodeLine{00295     \}}
\DoxyCodeLine{00296   \}}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   dotRun.preventCleanUp();}
\DoxyCodeLine{00299   \textcolor{keywordflow}{if} (!dotRun.run())}
\DoxyCodeLine{00300   \{}
\DoxyCodeLine{00301      \textcolor{keywordflow}{return};}
\DoxyCodeLine{00302   \}}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   \mbox{\hyperlink{class_doxygen_a52fd39c003e72f197e3ee164cbf2ff82}{Doxygen::indexList}}-\/>\mbox{\hyperlink{class_index_list_aac3c1b70be363f488269cd9054cc7621}{addImageFile}}(imgName);}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2src_2dot_8h_ada988a5303d67622cb43bd75c247fec2}\label{build_2doxygen_2src_2dot_8h_ada988a5303d67622cb43bd75c247fec2}} 
\index{dot.h@{dot.h}!writeDotImageMapFromFile@{writeDotImageMapFromFile}}
\index{writeDotImageMapFromFile@{writeDotImageMapFromFile}!dot.h@{dot.h}}
\doxysubsubsection{\texorpdfstring{writeDotImageMapFromFile()}{writeDotImageMapFromFile()}}
{\footnotesize\ttfamily void write\+Dot\+Image\+Map\+From\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_text_stream}{Text\+Stream}} \&}]{t,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{in\+File,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+Dir,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{rel\+Path,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{base\+Name,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{context,  }\item[{int}]{graph\+Id,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{src\+File,  }\item[{int}]{src\+Line }\end{DoxyParamCaption})}

Writes user defined image map to the output. 
\begin{DoxyParams}{Parameters}
{\em t} & text stream to write to \\
\hline
{\em in\+File} & just the basename part of the filename \\
\hline
{\em out\+Dir} & output directory \\
\hline
{\em rel\+Path} & relative path the to root of the output dir \\
\hline
{\em base\+Name} & the base name of the output files \\
\hline
{\em context} & the scope in which this graph is found (for resolving links) \\
\hline
{\em graph\+Id} & a unique id for this graph, use for dynamic sections \\
\hline
{\em src\+File} & the source file \\
\hline
{\em src\+Line} & the line number in the source file \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{build_2doxygen_2src_2dot_8cpp_source_l00319}{319}} of file \mbox{\hyperlink{build_2doxygen_2src_2dot_8cpp_source}{dot.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00324 \{}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   \mbox{\hyperlink{class_dir}{Dir}} d(outDir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00327   \textcolor{keywordflow}{if} (!d.exists())}
\DoxyCodeLine{00328   \{}
\DoxyCodeLine{00329     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term}}(\textcolor{stringliteral}{"{}Output dir \%s does not exist!\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(outDir));}
\DoxyCodeLine{00330   \}}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332   \mbox{\hyperlink{class_q_c_string}{QCString}} mapName = baseName+\textcolor{stringliteral}{"{}.map"{}};}
\DoxyCodeLine{00333   \mbox{\hyperlink{class_q_c_string}{QCString}} imgExt = \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ab1cc08326518f249ccae693a16f6a10d}{getDotImageExtension}}();}
\DoxyCodeLine{00334   \mbox{\hyperlink{class_q_c_string}{QCString}} imgName = baseName+\textcolor{stringliteral}{"{}."{}}+imgExt;}
\DoxyCodeLine{00335   \mbox{\hyperlink{class_q_c_string}{QCString}} absOutFile = \mbox{\hyperlink{class_q_c_string}{QCString}}(d.absPath())+\textcolor{stringliteral}{"{}/"{}}+mapName;}
\DoxyCodeLine{00336 }
\DoxyCodeLine{00337   \mbox{\hyperlink{class_dot_runner}{DotRunner}} dotRun(inFile);}
\DoxyCodeLine{00338   dotRun.addJob(\mbox{\hyperlink{build_2doxygen_2src_2dot_8cpp_a8e61450eb94b16e866568ad3aed2d9f1}{MAP\_CMD}},absOutFile,srcFile,srcLine);}
\DoxyCodeLine{00339   dotRun.preventCleanUp();}
\DoxyCodeLine{00340   \textcolor{keywordflow}{if} (!dotRun.run())}
\DoxyCodeLine{00341   \{}
\DoxyCodeLine{00342     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00343   \}}
\DoxyCodeLine{00344 }
\DoxyCodeLine{00345   \textcolor{keywordflow}{if} (imgExt==\textcolor{stringliteral}{"{}svg"{}}) \textcolor{comment}{// vector graphics}}
\DoxyCodeLine{00346   \{}
\DoxyCodeLine{00347     \mbox{\hyperlink{class_q_c_string}{QCString}} svgName = outDir+\textcolor{stringliteral}{"{}/"{}}+baseName+\textcolor{stringliteral}{"{}.svg"{}};}
\DoxyCodeLine{00348     \mbox{\hyperlink{class_dot_file_patcher_ae41b4e8b1817e1d1de1732e4c4f9069c}{DotFilePatcher::writeSVGFigureLink}}(t,relPath,baseName,svgName);}
\DoxyCodeLine{00349     \mbox{\hyperlink{class_dot_file_patcher}{DotFilePatcher}} patcher(svgName);}
\DoxyCodeLine{00350     patcher.addSVGConversion(\textcolor{stringliteral}{"{}"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}},context,\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}},graphId);}
\DoxyCodeLine{00351     patcher.run();}
\DoxyCodeLine{00352   \}}
\DoxyCodeLine{00353   \textcolor{keywordflow}{else} \textcolor{comment}{// bitmap graphics}}
\DoxyCodeLine{00354   \{}
\DoxyCodeLine{00355     \mbox{\hyperlink{class_text_stream}{TextStream}} tt;}
\DoxyCodeLine{00356     t << \textcolor{stringliteral}{"{}<img src=\(\backslash\)"{}"{}} << relPath << imgName << \textcolor{stringliteral}{"{}\(\backslash\)"{} alt=\(\backslash\)"{}"{}}}
\DoxyCodeLine{00357       << imgName << \textcolor{stringliteral}{"{}\(\backslash\)"{} border=\(\backslash\)"{}0\(\backslash\)"{} usemap=\(\backslash\)"{}\#"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{}/>\(\backslash\)n"{}};}
\DoxyCodeLine{00358     \mbox{\hyperlink{class_dot_file_patcher_a28f0ce1e173d0f12f0a4425af69958a5}{DotFilePatcher::convertMapFile}}(tt, absOutFile, relPath ,\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}}, context);}
\DoxyCodeLine{00359     \textcolor{keywordflow}{if} (!tt.\mbox{\hyperlink{class_text_stream_a0859a9bfd6a7b6bafc7050d9f3aef046}{empty}}())}
\DoxyCodeLine{00360     \{}
\DoxyCodeLine{00361       t << \textcolor{stringliteral}{"{}<map name=\(\backslash\)"{}"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{} id=\(\backslash\)"{}"{}} << mapName << \textcolor{stringliteral}{"{}\(\backslash\)"{}>"{}};}
\DoxyCodeLine{00362       t << tt.\mbox{\hyperlink{class_text_stream_aca8457da22d874f4eb30b35ffe87ebd0}{str}}();}
\DoxyCodeLine{00363       t << \textcolor{stringliteral}{"{}</map>\(\backslash\)n"{}};}
\DoxyCodeLine{00364     \}}
\DoxyCodeLine{00365   \}}
\DoxyCodeLine{00366   d.remove(absOutFile.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00367 \}}

\end{DoxyCode}
