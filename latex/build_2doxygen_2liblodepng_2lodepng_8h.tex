\hypertarget{build_2doxygen_2liblodepng_2lodepng_8h}{}\doxysection{doxygen/build/doxygen/liblodepng/lodepng.h File Reference}
\label{build_2doxygen_2liblodepng_2lodepng_8h}\index{doxygen/build/doxygen/liblodepng/lodepng.h@{doxygen/build/doxygen/liblodepng/lodepng.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_lode_zlib___deflate_settings}{Lode\+Zlib\+\_\+\+Deflate\+Settings}}
\item 
struct \mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}}
\item 
struct \mbox{\hyperlink{struct_lode_p_n_g___info_png}{Lode\+PNG\+\_\+\+Info\+Png}}
\item 
struct \mbox{\hyperlink{struct_lode_p_n_g___info_raw}{Lode\+PNG\+\_\+\+Info\+Raw}}
\item 
struct \mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}}
\item 
struct \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_lode_zlib___deflate_settings}{Lode\+Zlib\+\_\+\+Deflate\+Settings}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a5485ac26ac185074a5b0e18ed20537b9}{Lode\+Zlib\+\_\+\+Deflate\+Settings}}
\item 
typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a1bb44ad8e9f9ec4f76ad229d406b5342}{Lode\+PNG\+\_\+\+Info\+Color}}
\item 
typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_png}{Lode\+PNG\+\_\+\+Info\+Png}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a5f65f872907d378691d34f4904eb52e8}{Lode\+PNG\+\_\+\+Info\+Png}}
\item 
typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_raw}{Lode\+PNG\+\_\+\+Info\+Raw}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a11d900baf420f1c7d801637c5b171e2e}{Lode\+PNG\+\_\+\+Info\+Raw}}
\item 
typedef struct \mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_af3617ac650b3e38bdc259fd658d05a44}{Lode\+PNG\+\_\+\+Encode\+Settings}}
\item 
typedef struct \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a5e248bdc4cee22c9e966eeb24a0fc314}{Lode\+PNG\+\_\+\+Encoder}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_af062c1db1f9e18f47aa2d9a86651dea3}{Lode\+PNG\+\_\+\+Info\+Color\+\_\+add\+Palette}} (\mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}} $\ast$info, unsigned char \mbox{\hyperlink{libmscgen_2gd_8h_acab531abaa74a7e664e3986f2522b33a}{r}}, unsigned char \mbox{\hyperlink{libmscgen_2gd_8h_a16304bc747437a168e633f9186eed1bf}{g}}, unsigned char \mbox{\hyperlink{testing_2094__old__style__fortran__routines_8f90_a9b3d88ab6bb1494c77a80097bf7f2fbb}{b}}, unsigned char \mbox{\hyperlink{testing_2094__old__style__fortran__routines_8f90_ab5236747aa3f22ed246ba71a3596be53}{a}})
\item 
void \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a3cd7cc1583795fd14b7fe1179e005ab1}{Lode\+PNG\+\_\+\+Encode\+Settings\+\_\+init}} (\mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}} $\ast$settings)
\item 
void \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a187956c5e5784f77f5b17181310be304}{Lode\+PNG\+\_\+\+Encoder\+\_\+init}} (\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$encoder)
\item 
void \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a7269f380122edb94715d5e2e87eab835}{Lode\+PNG\+\_\+\+Encoder\+\_\+cleanup}} (\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$encoder)
\item 
void \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a0c0160b2f998d5966324922a153ee557}{Lode\+PNG\+\_\+\+Encoder\+\_\+copy}} (\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$dest, const \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$source)
\item 
void \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_aeb8588ff6ad7dae8c5322b1520aa5687}{Lode\+PNG\+\_\+encode}} (\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$encoder, unsigned char $\ast$$\ast$\mbox{\hyperlink{libmscgen_2gd_8h_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}, size\+\_\+t $\ast$outsize, const unsigned char $\ast$image, unsigned \mbox{\hyperlink{libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, unsigned \mbox{\hyperlink{libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}})
\item 
unsigned \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8h_a35604ddb7255afb1526979ca40815987}{Lode\+PNG\+\_\+save\+File}} (const unsigned char $\ast$buffer, size\+\_\+t buffersize, const char $\ast$\mbox{\hyperlink{libmscgen_2gd_8h_a7efa5e9c7494c7d4586359300221aa5d}{filename}})
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a5e248bdc4cee22c9e966eeb24a0fc314}\label{build_2doxygen_2liblodepng_2lodepng_8h_a5e248bdc4cee22c9e966eeb24a0fc314}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_Encoder@{LodePNG\_Encoder}}
\index{LodePNG\_Encoder@{LodePNG\_Encoder}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_Encoder}{LodePNG\_Encoder}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}}}

\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_af3617ac650b3e38bdc259fd658d05a44}\label{build_2doxygen_2liblodepng_2lodepng_8h_af3617ac650b3e38bdc259fd658d05a44}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_EncodeSettings@{LodePNG\_EncodeSettings}}
\index{LodePNG\_EncodeSettings@{LodePNG\_EncodeSettings}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_EncodeSettings}{LodePNG\_EncodeSettings}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}} \mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}}}

\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a1bb44ad8e9f9ec4f76ad229d406b5342}\label{build_2doxygen_2liblodepng_2lodepng_8h_a1bb44ad8e9f9ec4f76ad229d406b5342}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_InfoColor@{LodePNG\_InfoColor}}
\index{LodePNG\_InfoColor@{LodePNG\_InfoColor}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_InfoColor}{LodePNG\_InfoColor}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}} \mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}}}

\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a5f65f872907d378691d34f4904eb52e8}\label{build_2doxygen_2liblodepng_2lodepng_8h_a5f65f872907d378691d34f4904eb52e8}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_InfoPng@{LodePNG\_InfoPng}}
\index{LodePNG\_InfoPng@{LodePNG\_InfoPng}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_InfoPng}{LodePNG\_InfoPng}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_png}{Lode\+PNG\+\_\+\+Info\+Png}} \mbox{\hyperlink{struct_lode_p_n_g___info_png}{Lode\+PNG\+\_\+\+Info\+Png}}}

\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a11d900baf420f1c7d801637c5b171e2e}\label{build_2doxygen_2liblodepng_2lodepng_8h_a11d900baf420f1c7d801637c5b171e2e}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_InfoRaw@{LodePNG\_InfoRaw}}
\index{LodePNG\_InfoRaw@{LodePNG\_InfoRaw}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_InfoRaw}{LodePNG\_InfoRaw}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_p_n_g___info_raw}{Lode\+PNG\+\_\+\+Info\+Raw}} \mbox{\hyperlink{struct_lode_p_n_g___info_raw}{Lode\+PNG\+\_\+\+Info\+Raw}}}

\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a5485ac26ac185074a5b0e18ed20537b9}\label{build_2doxygen_2liblodepng_2lodepng_8h_a5485ac26ac185074a5b0e18ed20537b9}} 
\index{lodepng.h@{lodepng.h}!LodeZlib\_DeflateSettings@{LodeZlib\_DeflateSettings}}
\index{LodeZlib\_DeflateSettings@{LodeZlib\_DeflateSettings}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodeZlib\_DeflateSettings}{LodeZlib\_DeflateSettings}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_lode_zlib___deflate_settings}{Lode\+Zlib\+\_\+\+Deflate\+Settings}} \mbox{\hyperlink{struct_lode_zlib___deflate_settings}{Lode\+Zlib\+\_\+\+Deflate\+Settings}}}

Minified version of Lode\+PNG, with only the encoder code 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_aeb8588ff6ad7dae8c5322b1520aa5687}\label{build_2doxygen_2liblodepng_2lodepng_8h_aeb8588ff6ad7dae8c5322b1520aa5687}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_encode@{LodePNG\_encode}}
\index{LodePNG\_encode@{LodePNG\_encode}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_encode()}{LodePNG\_encode()}}
{\footnotesize\ttfamily void Lode\+PNG\+\_\+encode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$}]{encoder,  }\item[{unsigned char $\ast$$\ast$}]{out,  }\item[{size\+\_\+t $\ast$}]{outsize,  }\item[{const unsigned char $\ast$}]{image,  }\item[{unsigned}]{w,  }\item[{unsigned}]{h }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02320}{2320}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02321 \{}
\DoxyCodeLine{02322   \mbox{\hyperlink{struct_lode_p_n_g___info_png}{LodePNG\_InfoPng}} info;}
\DoxyCodeLine{02323   \mbox{\hyperlink{structucvector}{ucvector}} outv;}
\DoxyCodeLine{02324   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}} = 0; \textcolor{comment}{/*uncompressed version of the IDAT chunk data*/}}
\DoxyCodeLine{02325   \textcolor{keywordtype}{size\_t} datasize = 0;}
\DoxyCodeLine{02326 }
\DoxyCodeLine{02327   \textcolor{comment}{/*provide some proper output values if error will happen*/}}
\DoxyCodeLine{02328   *\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{out}} = 0;}
\DoxyCodeLine{02329   *outsize = 0;}
\DoxyCodeLine{02330   encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 0;}
\DoxyCodeLine{02331 }
\DoxyCodeLine{02332   info = encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}}; \textcolor{comment}{/*UNSAFE copy to avoid having to cleanup! but we will only change primitive parameters, and not invoke the cleanup function nor touch the palette's buffer so we use it safely*/}}
\DoxyCodeLine{02333   info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_a74be99b177b28f3178c02139c4b7f149}{width}} = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}};}
\DoxyCodeLine{02334   info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_a4b87ec9649e7177af7a5f5e08e5bc491}{height}} = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}};}
\DoxyCodeLine{02335 }
\DoxyCodeLine{02336   \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}}.\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_a5074182840fae2ac4399ca9fa6660b41}{autoLeaveOutAlphaChannel}} \&\& \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a2f88c6042dadfbca407902809012a408}{isFullyOpaque}}(image, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}}, \&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}.\mbox{\hyperlink{struct_lode_p_n_g___info_raw_ae9fa1c020358980be41f861ab71589fb}{color}}))}
\DoxyCodeLine{02337   \{}
\DoxyCodeLine{02338     \textcolor{comment}{/*go to a color type without alpha channel*/}}
\DoxyCodeLine{02339     \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 6) info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} = 2;}
\DoxyCodeLine{02340     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 4) info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} = 0;}
\DoxyCodeLine{02341   \}}
\DoxyCodeLine{02342 }
\DoxyCodeLine{02343   \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}}.\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_addba4b351da6bace64c02a264be74f53}{zlibsettings}}.\mbox{\hyperlink{struct_lode_zlib___deflate_settings_ab4db0ff77376a9a8b9af7f85cafc6028}{windowSize}} > 32768) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 60; \textcolor{keywordflow}{return}; \} \textcolor{comment}{/*error: windowsize larger than allowed*/}}
\DoxyCodeLine{02344   \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}}.\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_addba4b351da6bace64c02a264be74f53}{zlibsettings}}.\mbox{\hyperlink{struct_lode_zlib___deflate_settings_a9a016a3b62b8efae335eb585f7f40cfd}{btype}} > 2) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 61; \textcolor{keywordflow}{return}; \} \textcolor{comment}{/*error: nonexistent btype*/}}
\DoxyCodeLine{02345   \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}}.\mbox{\hyperlink{struct_lode_p_n_g___info_png_ad261cbe064eb69a92638e880d99347ca}{interlaceMethod}} > 1) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 71; \textcolor{keywordflow}{return}; \} \textcolor{comment}{/*error: nonexistent interlace mode*/}}
\DoxyCodeLine{02346   \textcolor{keywordflow}{if}((encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a83a90dcbc8adcba8293158785d264bb8}{checkColorValidity}}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}}, info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a9d538965a46d59bbdea744da8b290591}{bitDepth}}))) \textcolor{keywordflow}{return}; \textcolor{comment}{/*error: nonexistent color type given*/}}
\DoxyCodeLine{02347   \textcolor{keywordflow}{if}((encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a83a90dcbc8adcba8293158785d264bb8}{checkColorValidity}}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}.\mbox{\hyperlink{struct_lode_p_n_g___info_raw_ae9fa1c020358980be41f861ab71589fb}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}}, encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}.\mbox{\hyperlink{struct_lode_p_n_g___info_raw_ae9fa1c020358980be41f861ab71589fb}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a9d538965a46d59bbdea744da8b290591}{bitDepth}}))) \textcolor{keywordflow}{return}; \textcolor{comment}{/*error: nonexistent color type given*/}}
\DoxyCodeLine{02348 }
\DoxyCodeLine{02349   \textcolor{keywordflow}{if}(!\mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_afa9f9dc4d70561a39c15ccac3459e3de}{LodePNG\_InfoColor\_equal}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}.\mbox{\hyperlink{struct_lode_p_n_g___info_raw_ae9fa1c020358980be41f861ab71589fb}{color}}, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}))}
\DoxyCodeLine{02350   \{}
\DoxyCodeLine{02351     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* converted;}
\DoxyCodeLine{02352     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a1e79fade784ffb450b103ad42e120fa0}{size}} = (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}} * \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}} * \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a2ff4c2a69c357378cf11dfeca7383b31}{LodePNG\_InfoColor\_getBpp}}(\&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}) + 7) / 8;}
\DoxyCodeLine{02353 }
\DoxyCodeLine{02354     \textcolor{keywordflow}{if}((info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} != 6 \&\& info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} != 2) || (info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a9d538965a46d59bbdea744da8b290591}{bitDepth}} != 8)) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 59; \textcolor{keywordflow}{return}; \} \textcolor{comment}{/*for the output image, only these types are supported*/}}
\DoxyCodeLine{02355     converted = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*)malloc(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a1e79fade784ffb450b103ad42e120fa0}{size}});}
\DoxyCodeLine{02356     \textcolor{keywordflow}{if}(!converted \&\& \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a1e79fade784ffb450b103ad42e120fa0}{size}}) encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 9955; \textcolor{comment}{/*error: malloc failed*/}}
\DoxyCodeLine{02357     \textcolor{keywordflow}{if}(!encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aeb70a14a3e3d525bddd824f5aa6bffb8}{LodePNG\_convert}}(converted, image, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}, \&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}.\mbox{\hyperlink{struct_lode_p_n_g___info_raw_ae9fa1c020358980be41f861ab71589fb}{color}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}});}
\DoxyCodeLine{02358     \textcolor{keywordflow}{if}(!encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a18dd1f62212e629248128eec9ee2641d}{preProcessScanlines}}(\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}}, \&datasize, converted, \&info);\textcolor{comment}{/*filter(data.data, converted.data, w, h, LodePNG\_InfoColor\_getBpp(\&info.color));*/}}
\DoxyCodeLine{02359     free(converted);}
\DoxyCodeLine{02360   \}}
\DoxyCodeLine{02361   \textcolor{keywordflow}{else} \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a18dd1f62212e629248128eec9ee2641d}{preProcessScanlines}}(\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}}, \&datasize, image, \&info);\textcolor{comment}{/*filter(data.data, image, w, h, LodePNG\_InfoColor\_getBpp(\&info.color));*/}}
\DoxyCodeLine{02362 }
\DoxyCodeLine{02363   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a1b58c07819eec4ff7e903138c08eb502}{ucvector\_init}}(\&outv);}
\DoxyCodeLine{02364   \textcolor{keywordflow}{while}(!encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) \textcolor{comment}{/*not really a while loop, this is only used to break out if an error happens to avoid goto's to do the ucvector cleanup*/}}
\DoxyCodeLine{02365   \{}
\DoxyCodeLine{02366     \textcolor{comment}{/*write signature and chunks*/}}
\DoxyCodeLine{02367     \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a3ef7410c8765fdbed5e61e206c1b68a9}{writeSignature}}(\&outv);}
\DoxyCodeLine{02368     \textcolor{comment}{/*IHDR*/}}
\DoxyCodeLine{02369     \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a6d2c08601522a93dcfff80c45d1624dd}{addChunk\_IHDR}}(\&outv, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a0133765daeaba536cb40f54e1eaa43c9}{w}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acfbdb216bf2d5701c935da2190f4629a}{h}}, info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a9d538965a46d59bbdea744da8b290591}{bitDepth}}, info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}}, info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_ad261cbe064eb69a92638e880d99347ca}{interlaceMethod}});}
\DoxyCodeLine{02370     \textcolor{comment}{/*PLTE*/}}
\DoxyCodeLine{02371     \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 3)}
\DoxyCodeLine{02372     \{}
\DoxyCodeLine{02373       \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} == 0 || info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} > 256) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 68; \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{02374       \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_ac47e572c85623e55bb4ca5b75767bad9}{addChunk\_PLTE}}(\&outv, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}});}
\DoxyCodeLine{02375     \}}
\DoxyCodeLine{02376     \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}}.\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_a44de1047cd9f3bfd55bf8c5313620065}{force\_palette}} \&\& (info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 2 || info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 6))}
\DoxyCodeLine{02377     \{}
\DoxyCodeLine{02378       \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} == 0 || info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} > 256) \{ encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 68; \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{02379       \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_ac47e572c85623e55bb4ca5b75767bad9}{addChunk\_PLTE}}(\&outv, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}});}
\DoxyCodeLine{02380     \}}
\DoxyCodeLine{02381     \textcolor{comment}{/*tRNS*/}}
\DoxyCodeLine{02382     \textcolor{keywordflow}{if}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 3 \&\& !\mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_ae752ee94f1a6acf5103584bdf2882fb5}{isPaletteFullyOpaque}}(info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}, info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}})) \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aeabf2a41d047b03ce98475fe940446d8}{addChunk\_tRNS}}(\&outv, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}});}
\DoxyCodeLine{02383     \textcolor{keywordflow}{if}((info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 0 || info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_a4ed18d179c5078137a18e742b1c41a00}{colorType}} == 2) \&\& info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}}.\mbox{\hyperlink{struct_lode_p_n_g___info_color_aa0193ce13025c776a0dfb1e6d1bed14a}{key\_defined}}) \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aeabf2a41d047b03ce98475fe940446d8}{addChunk\_tRNS}}(\&outv, \&info.\mbox{\hyperlink{struct_lode_p_n_g___info_png_acce58518f72f42ba94db4c1cfd69336b}{color}});}
\DoxyCodeLine{02384     \textcolor{comment}{/*IDAT (multiple IDAT chunks must be consecutive)*/}}
\DoxyCodeLine{02385     encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a366b19b8d9a1b17cce6de1e984c95c59}{addChunk\_IDAT}}(\&outv, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}}, datasize, \&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}}.\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_addba4b351da6bace64c02a264be74f53}{zlibsettings}});}
\DoxyCodeLine{02386     \textcolor{keywordflow}{if}(encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02387     \textcolor{comment}{/*IEND*/}}
\DoxyCodeLine{02388     \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aca4038c773ca0f7cdc7b324c3c3df167}{addChunk\_IEND}}(\&outv);}
\DoxyCodeLine{02389 }
\DoxyCodeLine{02390     \textcolor{keywordflow}{break}; \textcolor{comment}{/*this isn't really a while loop; no error happened so break out now!*/}}
\DoxyCodeLine{02391   \}}
\DoxyCodeLine{02392 }
\DoxyCodeLine{02393   free(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}});}
\DoxyCodeLine{02394   \textcolor{comment}{/*instead of cleaning the vector up, give it to the output*/}}
\DoxyCodeLine{02395   *\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{out}} = outv.\mbox{\hyperlink{structucvector_a803973058c172963314ff05217b57d60}{data}};}
\DoxyCodeLine{02396   *outsize = outv.\mbox{\hyperlink{structucvector_a27c99c34de0c5b3ca0c242d402c69499}{size}};}
\DoxyCodeLine{02397 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a7269f380122edb94715d5e2e87eab835}\label{build_2doxygen_2liblodepng_2lodepng_8h_a7269f380122edb94715d5e2e87eab835}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_Encoder\_cleanup@{LodePNG\_Encoder\_cleanup}}
\index{LodePNG\_Encoder\_cleanup@{LodePNG\_Encoder\_cleanup}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_Encoder\_cleanup()}{LodePNG\_Encoder\_cleanup()}}
{\footnotesize\ttfamily void Lode\+PNG\+\_\+\+Encoder\+\_\+cleanup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$}]{encoder }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02414}{2414}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02415 \{}
\DoxyCodeLine{02416   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a2236a6b7f7bc1c047658a40f24db2658}{LodePNG\_InfoPng\_cleanup}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}});}
\DoxyCodeLine{02417   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aa460b4664eff1376c02a8d15ce6843ca}{LodePNG\_InfoRaw\_cleanup}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}});}
\DoxyCodeLine{02418 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a0c0160b2f998d5966324922a153ee557}\label{build_2doxygen_2liblodepng_2lodepng_8h_a0c0160b2f998d5966324922a153ee557}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_Encoder\_copy@{LodePNG\_Encoder\_copy}}
\index{LodePNG\_Encoder\_copy@{LodePNG\_Encoder\_copy}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_Encoder\_copy()}{LodePNG\_Encoder\_copy()}}
{\footnotesize\ttfamily void Lode\+PNG\+\_\+\+Encoder\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$}]{dest,  }\item[{const \mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$}]{source }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02420}{2420}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02421 \{}
\DoxyCodeLine{02422   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a7269f380122edb94715d5e2e87eab835}{LodePNG\_Encoder\_cleanup}}(dest);}
\DoxyCodeLine{02423   *dest = *source;}
\DoxyCodeLine{02424   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_ab7971f0b72f02afb5ce07151fc59d78d}{LodePNG\_InfoPng\_init}}(\&dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}});}
\DoxyCodeLine{02425   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a1aac734c511454ca4d3d05144695d7b4}{LodePNG\_InfoRaw\_init}}(\&dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}});}
\DoxyCodeLine{02426   dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aab31a4b50678870f58d9b4fb90570dc6}{LodePNG\_InfoPng\_copy}}(\&dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}}, \&source-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}}); \textcolor{keywordflow}{if}(dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02427   dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a7c7a74518cbbfeade8e271556152b683}{LodePNG\_InfoRaw\_copy}}(\&dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}, \&source-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}}); \textcolor{keywordflow}{if}(dest-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02428 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a187956c5e5784f77f5b17181310be304}\label{build_2doxygen_2liblodepng_2lodepng_8h_a187956c5e5784f77f5b17181310be304}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_Encoder\_init@{LodePNG\_Encoder\_init}}
\index{LodePNG\_Encoder\_init@{LodePNG\_Encoder\_init}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_Encoder\_init()}{LodePNG\_Encoder\_init()}}
{\footnotesize\ttfamily void Lode\+PNG\+\_\+\+Encoder\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___encoder}{Lode\+PNG\+\_\+\+Encoder}} $\ast$}]{encoder }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02406}{2406}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02407 \{}
\DoxyCodeLine{02408   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a3cd7cc1583795fd14b7fe1179e005ab1}{LodePNG\_EncodeSettings\_init}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_ae36ceb21b9d1007491f4edbb2be12bab}{settings}});}
\DoxyCodeLine{02409   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_ab7971f0b72f02afb5ce07151fc59d78d}{LodePNG\_InfoPng\_init}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a5c4bc6d9be898fbcc14b5d762d69457e}{infoPng}});}
\DoxyCodeLine{02410   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_a1aac734c511454ca4d3d05144695d7b4}{LodePNG\_InfoRaw\_init}}(\&encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_af37ca9b0bcecd5d1d68756fd293ab998}{infoRaw}});}
\DoxyCodeLine{02411   encoder-\/>\mbox{\hyperlink{struct_lode_p_n_g___encoder_a18e658a08db22dd34fc26c138f3eb2df}{error}} = 1;}
\DoxyCodeLine{02412 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a3cd7cc1583795fd14b7fe1179e005ab1}\label{build_2doxygen_2liblodepng_2lodepng_8h_a3cd7cc1583795fd14b7fe1179e005ab1}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_EncodeSettings\_init@{LodePNG\_EncodeSettings\_init}}
\index{LodePNG\_EncodeSettings\_init@{LodePNG\_EncodeSettings\_init}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_EncodeSettings\_init()}{LodePNG\_EncodeSettings\_init()}}
{\footnotesize\ttfamily void Lode\+PNG\+\_\+\+Encode\+Settings\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___encode_settings}{Lode\+PNG\+\_\+\+Encode\+Settings}} $\ast$}]{settings }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02399}{2399}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02400 \{}
\DoxyCodeLine{02401   \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_aa3c00d6565b6bf50aa7e68516941da40}{LodeZlib\_DeflateSettings\_init}}(\&settings-\/>\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_addba4b351da6bace64c02a264be74f53}{zlibsettings}});}
\DoxyCodeLine{02402   settings-\/>\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_a5074182840fae2ac4399ca9fa6660b41}{autoLeaveOutAlphaChannel}} = 1;}
\DoxyCodeLine{02403   settings-\/>\mbox{\hyperlink{struct_lode_p_n_g___encode_settings_a44de1047cd9f3bfd55bf8c5313620065}{force\_palette}} = 0;}
\DoxyCodeLine{02404 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_af062c1db1f9e18f47aa2d9a86651dea3}\label{build_2doxygen_2liblodepng_2lodepng_8h_af062c1db1f9e18f47aa2d9a86651dea3}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_InfoColor\_addPalette@{LodePNG\_InfoColor\_addPalette}}
\index{LodePNG\_InfoColor\_addPalette@{LodePNG\_InfoColor\_addPalette}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_InfoColor\_addPalette()}{LodePNG\_InfoColor\_addPalette()}}
{\footnotesize\ttfamily unsigned Lode\+PNG\+\_\+\+Info\+Color\+\_\+add\+Palette (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lode_p_n_g___info_color}{Lode\+PNG\+\_\+\+Info\+Color}} $\ast$}]{info,  }\item[{unsigned char}]{r,  }\item[{unsigned char}]{g,  }\item[{unsigned char}]{b,  }\item[{unsigned char}]{a }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l01543}{1543}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01544 \{}
\DoxyCodeLine{01545   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}};}
\DoxyCodeLine{01546   \textcolor{comment}{/*the same resize technique as C++ std::vectors is used, and here it's made so that for a palette with the max of 256 colors, it'll have the exact alloc size*/}}
\DoxyCodeLine{01547   \textcolor{keywordflow}{if}(!(info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} \& (info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} -\/ 1))) \textcolor{comment}{/*if palettesize is 0 or a power of two*/}}
\DoxyCodeLine{01548   \{}
\DoxyCodeLine{01549     \textcolor{comment}{/*allocated data must be at least 4* palettesize (for 4 color bytes)*/}}
\DoxyCodeLine{01550     \textcolor{keywordtype}{size\_t} alloc\_size = info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} == 0 ? 4 : info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} * 4 * 2;}
\DoxyCodeLine{01551     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}} = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*)realloc(info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}, alloc\_size);}
\DoxyCodeLine{01552     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}}) \textcolor{keywordflow}{return} 9931;}
\DoxyCodeLine{01553     \textcolor{keywordflow}{else} info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}} = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ac5c5967f62e5c3601479be651a8ed76c}{data}};}
\DoxyCodeLine{01554   \}}
\DoxyCodeLine{01555   info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}[4 * info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} + 0] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acab531abaa74a7e664e3986f2522b33a}{r}};}
\DoxyCodeLine{01556   info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}[4 * info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} + 1] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a16304bc747437a168e633f9186eed1bf}{g}};}
\DoxyCodeLine{01557   info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}[4 * info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} + 2] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aadf2a4297af25f4a140ea29500e8d47d}{b}};}
\DoxyCodeLine{01558   info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a3b3862dd05e3f9f0bd9e95741d49e266}{palette}}[4 * info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}} + 3] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ae1c02e9f36a12e377487affe87df4bb6}{a}};}
\DoxyCodeLine{01559   info-\/>\mbox{\hyperlink{struct_lode_p_n_g___info_color_a49842a304ffd0abc8aa791030c5fa5dd}{palettesize}}++;}
\DoxyCodeLine{01560   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01561 \}}

\end{DoxyCode}
\mbox{\Hypertarget{build_2doxygen_2liblodepng_2lodepng_8h_a35604ddb7255afb1526979ca40815987}\label{build_2doxygen_2liblodepng_2lodepng_8h_a35604ddb7255afb1526979ca40815987}} 
\index{lodepng.h@{lodepng.h}!LodePNG\_saveFile@{LodePNG\_saveFile}}
\index{LodePNG\_saveFile@{LodePNG\_saveFile}!lodepng.h@{lodepng.h}}
\doxysubsubsection{\texorpdfstring{LodePNG\_saveFile()}{LodePNG\_saveFile()}}
{\footnotesize\ttfamily unsigned Lode\+PNG\+\_\+save\+File (\begin{DoxyParamCaption}\item[{const unsigned char $\ast$}]{buffer,  }\item[{size\+\_\+t}]{buffersize,  }\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source_l02435}{2435}} of file \mbox{\hyperlink{build_2doxygen_2liblodepng_2lodepng_8cpp_source}{lodepng.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02436 \{}
\DoxyCodeLine{02437   FILE* \mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}} = \mbox{\hyperlink{namespace_portable_a4dbb08c3de409bd1a73be3da6d93ac57}{fopen}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a7efa5e9c7494c7d4586359300221aa5d}{filename}},\textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{02438   \textcolor{keywordflow}{if}(!\mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}}) \textcolor{keywordflow}{return} 79;}
\DoxyCodeLine{02439   fwrite((\textcolor{keywordtype}{char}*)buffer , 1 , buffersize, \mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}});}
\DoxyCodeLine{02440   \mbox{\hyperlink{namespace_portable_af099fa6239b4961887192d8eadfd2a44}{fclose}}(\mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}});}
\DoxyCodeLine{02441   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{02442 \}}

\end{DoxyCode}
