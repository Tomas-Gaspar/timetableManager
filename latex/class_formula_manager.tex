\hypertarget{class_formula_manager}{}\doxysection{Formula\+Manager Class Reference}
\label{class_formula_manager}\index{FormulaManager@{FormulaManager}}


{\ttfamily \#include $<$formula.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_formula_manager_1_1_private}{Private}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{Indent}\textbf{ repository functions}\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}{init\+From\+Repository}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&dir)
\item 
void \mbox{\hyperlink{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}{check\+Repositories}} ()
\item 
void \mbox{\hyperlink{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}{init\+From\+Repository}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&dir)
\item 
void \mbox{\hyperlink{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}{check\+Repositories}} ()
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ formula functions}\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}{clear}} ()
\item 
int \mbox{\hyperlink{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}{add\+Formula}} (const \mbox{\hyperlink{libmscgen_2gd_8h_a13690c1a2aacb1c8261e3be3c4a4f4b2}{std\+::string}} \&formula\+Text, int width=-\/1, int height=-\/1)
\item 
const \mbox{\hyperlink{class_formula}{Formula}} $\ast$ \mbox{\hyperlink{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}{find\+Formula}} (int formula\+Id) const
\item 
bool \mbox{\hyperlink{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}{has\+Formulas}} () const
\item 
void \mbox{\hyperlink{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}{clear}} ()
\item 
int \mbox{\hyperlink{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}{add\+Formula}} (const \mbox{\hyperlink{libmscgen_2gd_8h_a13690c1a2aacb1c8261e3be3c4a4f4b2}{std\+::string}} \&formula\+Text, int width=-\/1, int height=-\/1)
\item 
const \mbox{\hyperlink{class_formula}{Formula}} $\ast$ \mbox{\hyperlink{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}{find\+Formula}} (int formula\+Id) const
\item 
bool \mbox{\hyperlink{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}{has\+Formulas}} () const
\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_formula_manager}{Formula\+Manager}} \& \mbox{\hyperlink{class_formula_manager_ab5c33a247a1b081414e3350552beb6ee}{instance}} ()
\item 
static \mbox{\hyperlink{class_formula_manager}{Formula\+Manager}} \& \mbox{\hyperlink{class_formula_manager_ab33305f61d136b5862a11da020c05e03}{instance}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \{ \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}
 \}
\item 
enum class \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \{ \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}
, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File}} (\mbox{\hyperlink{class_dir}{Dir}} \&d, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} hd, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}})
\item 
void \mbox{\hyperlink{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}{create\+Latex\+File}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&file\+Name, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}, \mbox{\hyperlink{build_2doxygen_2src_2containers_8h_a0b244579717fb04b2fb4ac89ee2f0f35}{Int\+Vector}} \&formulas\+To\+Generate)
\item 
double \mbox{\hyperlink{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}{update\+Formula\+Size}} (int page\+Num, int \mbox{\hyperlink{libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}}, int \mbox{\hyperlink{libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}}, int \mbox{\hyperlink{libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}, int \mbox{\hyperlink{libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}})
\item 
\mbox{\hyperlink{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}{Formula\+Manager}} ()
\item 
void \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File}} (\mbox{\hyperlink{class_dir}{Dir}} \&d, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} hd, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}})
\item 
void \mbox{\hyperlink{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}{create\+Latex\+File}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&file\+Name, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}} \mbox{\hyperlink{libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}, \mbox{\hyperlink{build_2doxygen_2src_2containers_8h_a0b244579717fb04b2fb4ac89ee2f0f35}{Int\+Vector}} \&formulas\+To\+Generate)
\item 
double \mbox{\hyperlink{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}{update\+Formula\+Size}} (int page\+Num, int \mbox{\hyperlink{libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}}, int \mbox{\hyperlink{libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}}, int \mbox{\hyperlink{libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}, int \mbox{\hyperlink{libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}})
\item 
\mbox{\hyperlink{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}{Formula\+Manager}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{struct_formula_manager_1_1_private}{Private}} $>$ \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}
\end{DoxyCompactItemize}
\doxysubsection*{generator functions}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} \{ \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}{Bitmap}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}{Bitmap}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}
 \}
\item 
enum class \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} \{ \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{On}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{Off}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{On}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{Off}}
 \}
\item 
enum class \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} \{ \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}{Bitmap}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}{Bitmap}}
, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}
 \}
\item 
enum class \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} \{ \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{On}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{Off}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{On}}
, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{Off}}
 \}
\item 
void \mbox{\hyperlink{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}{generate\+Images}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&output\+Dir, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} hd=\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{High\+DPI\+::\+Off}})
\item 
void \mbox{\hyperlink{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}{generate\+Images}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&output\+Dir, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}} format, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}} hd=\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{High\+DPI\+::\+Off}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manager class to handle formulas 

Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source_l00058}{58}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source}{formula.\+h}}.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}} 
\index{FormulaManager@{FormulaManager}!Format@{Format}}
\index{Format@{Format}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{Format}{Format}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Formula\+Manager\+::\+Format}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Bitmap@{Bitmap}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Bitmap@{Bitmap}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}} 
Bitmap&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Vector@{Vector}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Vector@{Vector}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}} 
Vector&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Bitmap@{Bitmap}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Bitmap@{Bitmap}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}} 
Bitmap&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Vector@{Vector}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Vector@{Vector}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}} 
Vector&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source_l00079}{79}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079 \{ Bitmap, Vector \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}} 
\index{FormulaManager@{FormulaManager}!Format@{Format}}
\index{Format@{Format}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{Format}{Format}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Formula\+Manager\+::\+Format}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Bitmap@{Bitmap}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Bitmap@{Bitmap}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}} 
Bitmap&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Vector@{Vector}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Vector@{Vector}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}} 
Vector&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Bitmap@{Bitmap}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Bitmap@{Bitmap}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a86ee74baff479d85d18f2cda9f8a9518}} 
Bitmap&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Vector@{Vector}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Vector@{Vector}}}\mbox{\Hypertarget{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}\label{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}} 
Vector&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{src_2formula_8h_source_l00079}{79}} of file \mbox{\hyperlink{src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079 \{ Bitmap, Vector \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}} 
\index{FormulaManager@{FormulaManager}!HighDPI@{HighDPI}}
\index{HighDPI@{HighDPI}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{HighDPI}{HighDPI}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{Formula\+Manager\+::\+High\+DPI}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{On@{On}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!On@{On}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}} 
On&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Off@{Off}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Off@{Off}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}} 
Off&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{On@{On}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!On@{On}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}} 
On&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Off@{Off}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Off@{Off}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}} 
Off&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source_l00080}{80}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080 \{ On, Off \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}} 
\index{FormulaManager@{FormulaManager}!HighDPI@{HighDPI}}
\index{HighDPI@{HighDPI}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{HighDPI}{HighDPI}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{Formula\+Manager\+::\+High\+DPI}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{On@{On}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!On@{On}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}} 
On&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Off@{Off}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Off@{Off}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}} 
Off&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{On@{On}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!On@{On}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}} 
On&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Off@{Off}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Off@{Off}}}\mbox{\Hypertarget{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}\label{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}} 
Off&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{src_2formula_8h_source_l00080}{80}} of file \mbox{\hyperlink{src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080 \{ On, Off \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419}} 
\index{FormulaManager@{FormulaManager}!Mode@{Mode}}
\index{Mode@{Mode}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{Mode}{Mode}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Formula\+Manager\+::\+Mode}}\hspace{0.3cm}{\ttfamily [strong]}, {\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Dark@{Dark}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Dark@{Dark}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}} 
Dark&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Light@{Light}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Light@{Light}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}} 
Light&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Dark@{Dark}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Dark@{Dark}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}} 
Dark&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Light@{Light}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Light@{Light}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}} 
Light&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source_l00085}{85}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085 \{ Dark, Light \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419}} 
\index{FormulaManager@{FormulaManager}!Mode@{Mode}}
\index{Mode@{Mode}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{Mode}{Mode}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Formula\+Manager\+::\+Mode}}\hspace{0.3cm}{\ttfamily [strong]}, {\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Dark@{Dark}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Dark@{Dark}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}} 
Dark&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Light@{Light}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Light@{Light}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}} 
Light&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Dark@{Dark}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Dark@{Dark}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}} 
Dark&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Light@{Light}!FormulaManager@{FormulaManager}}\index{FormulaManager@{FormulaManager}!Light@{Light}}}\mbox{\Hypertarget{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}\label{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}} 
Light&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{src_2formula_8h_source_l00085}{85}} of file \mbox{\hyperlink{src_2formula_8h_source}{formula.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085 \{ Dark, Light \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}\label{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}} 
\index{FormulaManager@{FormulaManager}!FormulaManager@{FormulaManager}}
\index{FormulaManager@{FormulaManager}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{FormulaManager()}{FormulaManager()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Formula\+Manager\+::\+Formula\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00051}{51}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051                                : \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}(std::make\_unique<Private>())}
\DoxyCodeLine{00052 \{}
\DoxyCodeLine{00053 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}\label{class_formula_manager_a13fd2eedbb1c7f086bd66cbd6e049911}} 
\index{FormulaManager@{FormulaManager}!FormulaManager@{FormulaManager}}
\index{FormulaManager@{FormulaManager}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{FormulaManager()}{FormulaManager()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Formula\+Manager\+::\+Formula\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}\label{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}} 
\index{FormulaManager@{FormulaManager}!addFormula@{addFormula}}
\index{addFormula@{addFormula}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{addFormula()}{addFormula()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int Formula\+Manager\+::add\+Formula (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{libmscgen_2gd_8h_a13690c1a2aacb1c8261e3be3c4a4f4b2}{std\+::string}} \&}]{formula\+Text,  }\item[{int}]{width = {\ttfamily -\/1},  }\item[{int}]{height = {\ttfamily -\/1} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00653}{653}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00654 \{}
\DoxyCodeLine{00655   \mbox{\hyperlink{class_formula}{Formula}} *formula = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.find(formulaText);}
\DoxyCodeLine{00656   \textcolor{keywordflow}{if} (formula) \textcolor{comment}{// same formula already stored}}
\DoxyCodeLine{00657   \{}
\DoxyCodeLine{00658     \textcolor{keywordflow}{return} formula-\/>\mbox{\hyperlink{class_formula_ae4b7648ae0124da8456fa2c8e51991ba}{id}}();}
\DoxyCodeLine{00659   \}}
\DoxyCodeLine{00660   \textcolor{comment}{// add new formula}}
\DoxyCodeLine{00661   \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.size());}
\DoxyCodeLine{00662   formula = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.add(formulaText.c\_str(),\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a65841f8ec0ab4e93010736388282aada}{id}},width,height);}
\DoxyCodeLine{00663   \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.insert(std::make\_pair(\textcolor{keywordtype}{id},formula));}
\DoxyCodeLine{00664   \textcolor{keywordflow}{return} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a65841f8ec0ab4e93010736388282aada}{id}};}
\DoxyCodeLine{00665 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a65841f8ec0ab4e93010736388282aada}{id}}, \mbox{\hyperlink{class_formula_ae4b7648ae0124da8456fa2c8e51991ba}{Formula\+::id()}}, and \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2commentscan_8l_ad7328f0606e5f8d93daecd7d5babee1d}{add\+Formula()}}.

\mbox{\Hypertarget{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}\label{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}} 
\index{FormulaManager@{FormulaManager}!addFormula@{addFormula}}
\index{addFormula@{addFormula}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{addFormula()}{addFormula()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int Formula\+Manager\+::add\+Formula (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{libmscgen_2gd_8h_a13690c1a2aacb1c8261e3be3c4a4f4b2}{std\+::string}} \&}]{formula\+Text,  }\item[{int}]{width = {\ttfamily -\/1},  }\item[{int}]{height = {\ttfamily -\/1} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}\label{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}} 
\index{FormulaManager@{FormulaManager}!checkRepositories@{checkRepositories}}
\index{checkRepositories@{checkRepositories}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{checkRepositories()}{checkRepositories()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::check\+Repositories (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00175}{175}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00176 \{}
\DoxyCodeLine{00177   \textcolor{comment}{//printf("{}checkRepositories valid=\%d\(\backslash\)n"{},p-\/>repositoriesValid);}}
\DoxyCodeLine{00178   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid)}
\DoxyCodeLine{00179   \{}
\DoxyCodeLine{00180     \mbox{\hyperlink{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}{clear}}(); \textcolor{comment}{// clear cached formulas, so the corresponding images and repository files}}
\DoxyCodeLine{00181              \textcolor{comment}{// are regenerated}}
\DoxyCodeLine{00182     \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{true};}
\DoxyCodeLine{00183   \}}
\DoxyCodeLine{00184 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}{clear()}}, and \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a59d66805ece9da6ffd55fa4cc8252ef1}{parse\+Input()}}.

\mbox{\Hypertarget{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}\label{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}} 
\index{FormulaManager@{FormulaManager}!checkRepositories@{checkRepositories}}
\index{checkRepositories@{checkRepositories}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{checkRepositories()}{checkRepositories()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::check\+Repositories (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}\label{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}} 
\index{FormulaManager@{FormulaManager}!clear@{clear}}
\index{clear@{clear}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00647}{647}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00648 \{}
\DoxyCodeLine{00649   \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.clear();}
\DoxyCodeLine{00650   \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.clear();}
\DoxyCodeLine{00651 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}.



Referenced by \mbox{\hyperlink{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}{check\+Repositories()}}, \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_ae12e94f5218f3afc8df4086a2121cd4d}{clean\+Up\+Doxygen()}}, and \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a798729dca95209ecdc609807a653a2bf}{clear\+All()}}.

\mbox{\Hypertarget{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}\label{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}} 
\index{FormulaManager@{FormulaManager}!clear@{clear}}
\index{clear@{clear}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}\label{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}} 
\index{FormulaManager@{FormulaManager}!createFormulasTexFile@{createFormulasTexFile}}
\index{createFormulasTexFile@{createFormulasTexFile}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{createFormulasTexFile()}{createFormulasTexFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::create\+Formulas\+Tex\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_dir}{Dir}} \&}]{d,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}}}]{hd,  }\item[{\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00494}{494}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00495 \{}
\DoxyCodeLine{00496   \mbox{\hyperlink{build_2doxygen_2src_2containers_8h_a0b244579717fb04b2fb4ac89ee2f0f35}{IntVector}} formulasToGenerate;}
\DoxyCodeLine{00497   \mbox{\hyperlink{class_q_c_string}{QCString}} formulaFileName = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}} ? \textcolor{stringliteral}{"{}\_formulas"{}} : \textcolor{stringliteral}{"{}\_formulas\_dark"{}};}
\DoxyCodeLine{00498   \mbox{\hyperlink{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}{createLatexFile}}(formulaFileName,format,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}},formulasToGenerate);}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00500   \textcolor{keywordflow}{if} (!formulasToGenerate.empty()) \textcolor{comment}{// there are new formulas}}
\DoxyCodeLine{00501   \{}
\DoxyCodeLine{00502     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a704ccf2352fafe16ddf093abbaa6f7b4}{createDVIFile}}(formulaFileName)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00503 }
\DoxyCodeLine{00504     \textcolor{comment}{//printf("{}Running dvips...\(\backslash\)n"{});}}
\DoxyCodeLine{00505     \textcolor{keywordtype}{int} pageIndex=1;}
\DoxyCodeLine{00506     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} pageNum : formulasToGenerate)}
\DoxyCodeLine{00507     \{}
\DoxyCodeLine{00508       \mbox{\hyperlink{class_q_c_string}{QCString}} outputFile;}
\DoxyCodeLine{00509       outputFile.\mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{sprintf}}(\textcolor{stringliteral}{"{}form\_\%d\%s.\%s"{}},pageNum, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}}?\textcolor{stringliteral}{"{}"{}}:\textcolor{stringliteral}{"{}\_dark"{}}, format==\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Format::Vector}}?\textcolor{stringliteral}{"{}svg"{}}:\textcolor{stringliteral}{"{}png"{}});}
\DoxyCodeLine{00510       \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg}}(\textcolor{stringliteral}{"{}Generating image \%s for formula\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(outputFile));}
\DoxyCodeLine{00511 }
\DoxyCodeLine{00512       \mbox{\hyperlink{class_q_c_string}{QCString}} formBase;}
\DoxyCodeLine{00513       formBase.\mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{sprintf}}(\textcolor{stringliteral}{"{}\_form\%d\%s"{}},pageNum,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}}?\textcolor{stringliteral}{"{}"{}}:\textcolor{stringliteral}{"{}\_dark"{}});}
\DoxyCodeLine{00514 }
\DoxyCodeLine{00515       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a57b6802045cb92594d1f65e5b8821456}{createPostscriptFile}}(formulaFileName,formBase,pageIndex)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00516 }
\DoxyCodeLine{00517       \textcolor{keywordtype}{int} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}}=0,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}}=0,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}=0,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}}=0;}
\DoxyCodeLine{00518       \textcolor{keywordtype}{double} x1hi=0.0,y1hi=0.0,x2hi=0.0,y2hi=0.0;}
\DoxyCodeLine{00519       \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}})}
\DoxyCodeLine{00520       \{}
\DoxyCodeLine{00521         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a92954fc40f0e05879c1726f8d8207b1f}{createEPSbboxFile}}(formBase)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00522         \textcolor{comment}{// extract the bounding box info from the generated .epsi file}}
\DoxyCodeLine{00523         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_ac7978878c5e2989e9739423aa06f805a}{extractBoundingBox}}(formBase,\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}},\&x1hi,\&y1hi,\&x2hi,\&y2hi)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00524       \}}
\DoxyCodeLine{00525       \textcolor{keywordflow}{else} \textcolor{comment}{// for dark images the bounding box is wrong (includes the black) so}}
\DoxyCodeLine{00526            \textcolor{comment}{// use the bounding box of the light image instead.}}
\DoxyCodeLine{00527       \{}
\DoxyCodeLine{00528         \mbox{\hyperlink{class_q_c_string}{QCString}} formBaseLight;}
\DoxyCodeLine{00529         formBaseLight.\mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{sprintf}}(\textcolor{stringliteral}{"{}\_form\%d"{}},pageNum);}
\DoxyCodeLine{00530         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_ac7978878c5e2989e9739423aa06f805a}{extractBoundingBox}}(formBaseLight,\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}},\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}},\&x1hi,\&y1hi,\&x2hi,\&y2hi)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00531       \}}
\DoxyCodeLine{00532 }
\DoxyCodeLine{00533       \textcolor{comment}{// convert the corrected EPS to a bitmap}}
\DoxyCodeLine{00534       \textcolor{keywordtype}{double} scaleFactor = \mbox{\hyperlink{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}{updateFormulaSize}}(pageNum,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}});}
\DoxyCodeLine{00535 }
\DoxyCodeLine{00536       \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Format::Vector}})}
\DoxyCodeLine{00537       \{}
\DoxyCodeLine{00538         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a751decfa83144bf64f1cd1cb492db3fe}{createCroppedPDF}}(formBase,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}})) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00539 }
\DoxyCodeLine{00540         \textcolor{comment}{// if we have pdf2svg available use it to create a SVG image}}
\DoxyCodeLine{00541         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_portable_a39228795dec07d8121645b0348e91712}{Portable::checkForExecutable}}(\textcolor{stringliteral}{"{}pdf2svg"{}}))}
\DoxyCodeLine{00542         \{}
\DoxyCodeLine{00543           \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_ad88d54d53a499dad6fda6617d2dc952e}{createSVGFromPDF}}(formBase,outputFile);}
\DoxyCodeLine{00544         \}}
\DoxyCodeLine{00545         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_portable_a39228795dec07d8121645b0348e91712}{Portable::checkForExecutable}}(\textcolor{stringliteral}{"{}inkscape"{}})) \textcolor{comment}{// alternative is to use inkscape}}
\DoxyCodeLine{00546         \{}
\DoxyCodeLine{00547           \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a4a9f805d74ef5c5e0e38427ccf5719f7}{createSVGFromPDFviaInkscape}}(thisDir,formBase,outputFile);}
\DoxyCodeLine{00548         \}}
\DoxyCodeLine{00549         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00550         \{}
\DoxyCodeLine{00551           \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aede5746344fdce99647541101eaa7f06}{err}}(\textcolor{stringliteral}{"{}Neither 'pdf2svg' nor 'inkscape' present for conversion of formula to 'svg'\(\backslash\)n"{}});}
\DoxyCodeLine{00552           \textcolor{keywordflow}{return};}
\DoxyCodeLine{00553         \}}
\DoxyCodeLine{00554 }
\DoxyCodeLine{00555         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formBase.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}\_tmp.pdf"{}});}
\DoxyCodeLine{00556       \}}
\DoxyCodeLine{00557       \textcolor{keywordflow}{else} \textcolor{comment}{// format==Format::Bitmap}}
\DoxyCodeLine{00558       \{}
\DoxyCodeLine{00559         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a322962831f30dce16a3323a67d6e2c44}{createCroppedEPS}}(formBase)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00560 }
\DoxyCodeLine{00561         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_afa25bb4d45f6063809f1c8cd70038d94}{updateEPSBoundingBox}}(formBase,\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}},x1hi,y1hi,x2hi,y2hi)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00562 }
\DoxyCodeLine{00563         \textcolor{keywordflow}{if} (hd==\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{HighDPI::On}}) \textcolor{comment}{// for high DPI display it looks much better if the}}
\DoxyCodeLine{00564                              \textcolor{comment}{// image resolution is higher than the display resolution}}
\DoxyCodeLine{00565         \{}
\DoxyCodeLine{00566           scaleFactor*=2;}
\DoxyCodeLine{00567         \}}
\DoxyCodeLine{00568 }
\DoxyCodeLine{00569         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a0cc00317e5a4482a2e7df401bd480f38}{createPNG}}(formBase,outputFile,scaleFactor)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00570 }
\DoxyCodeLine{00571         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formBase.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}\_tmp.eps"{}});}
\DoxyCodeLine{00572         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formBase.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}\_tmp\_corr.eps"{}});}
\DoxyCodeLine{00573       \}}
\DoxyCodeLine{00574 }
\DoxyCodeLine{00575       \textcolor{comment}{// remove intermediate image files}}
\DoxyCodeLine{00576       \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formBase.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}\_tmp.ps"{}});}
\DoxyCodeLine{00577       \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}})}
\DoxyCodeLine{00578       \{}
\DoxyCodeLine{00579         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formBase.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}\_tmp.epsi"{}});}
\DoxyCodeLine{00580       \}}
\DoxyCodeLine{00581       pageIndex++;}
\DoxyCodeLine{00582     \}}
\DoxyCodeLine{00583     \textcolor{comment}{// remove intermediate files produced by latex}}
\DoxyCodeLine{00584     \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formulaFileName.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}.dvi"{}});}
\DoxyCodeLine{00585     \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formulaFileName.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}.log"{}});}
\DoxyCodeLine{00586     \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formulaFileName.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}.aux"{}});}
\DoxyCodeLine{00587   \}}
\DoxyCodeLine{00588   \textcolor{comment}{// remove the latex file itself}}
\DoxyCodeLine{00589   \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles.push\_back(formulaFileName.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}.tex"{}});}
\DoxyCodeLine{00590 }
\DoxyCodeLine{00591   \textcolor{comment}{// write/update the formula repository so we know what text the}}
\DoxyCodeLine{00592   \textcolor{comment}{// generated images represent (we use this next time to avoid regeneration}}
\DoxyCodeLine{00593   \textcolor{comment}{// of the images, and to avoid forcing the user to delete all images in order}}
\DoxyCodeLine{00594   \textcolor{comment}{// to let a browser refresh the images).}}
\DoxyCodeLine{00595   \mbox{\hyperlink{namespaceghc_1_1filesystem_a5a9df37f9ba2cf3b2dabb4a221b71b09}{std::ofstream}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}};}
\DoxyCodeLine{00596   \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}.open(\textcolor{stringliteral}{"{}formula.repository"{}},\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{std::ofstream::out}} | std::ofstream::binary);}
\DoxyCodeLine{00597   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}.is\_open())}
\DoxyCodeLine{00598   \{}
\DoxyCodeLine{00599     \mbox{\hyperlink{class_text_stream}{TextStream}} t(\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}});}
\DoxyCodeLine{00600     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&formula : \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas)}
\DoxyCodeLine{00601     \{}
\DoxyCodeLine{00602       t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\_form\#"{}} << formula-\/>id();}
\DoxyCodeLine{00603       \textcolor{keywordflow}{if} (formula-\/>width()!=-\/1 \&\& formula-\/>height()!=-\/1)}
\DoxyCodeLine{00604       \{}
\DoxyCodeLine{00605         t << \textcolor{stringliteral}{"{}="{}} << formula-\/>width() << \textcolor{stringliteral}{"{}x"{}} << formula-\/>height();}
\DoxyCodeLine{00606       \}}
\DoxyCodeLine{00607       t << \textcolor{stringliteral}{"{}:"{}} << formula-\/>text() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00608     \}}
\DoxyCodeLine{00609   \}}
\DoxyCodeLine{00610 \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespace_portable_a39228795dec07d8121645b0348e91712}{Portable\+::check\+For\+Executable()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a322962831f30dce16a3323a67d6e2c44}{create\+Cropped\+EPS()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a751decfa83144bf64f1cd1cb492db3fe}{create\+Cropped\+PDF()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a704ccf2352fafe16ddf093abbaa6f7b4}{create\+DVIFile()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a92954fc40f0e05879c1726f8d8207b1f}{create\+EPSbbox\+File()}}, \mbox{\hyperlink{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}{create\+Latex\+File()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a0cc00317e5a4482a2e7df401bd480f38}{create\+PNG()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a57b6802045cb92594d1f65e5b8821456}{create\+Postscript\+File()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_ad88d54d53a499dad6fda6617d2dc952e}{create\+SVGFrom\+PDF()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a4a9f805d74ef5c5e0e38427ccf5719f7}{create\+SVGFrom\+PDFvia\+Inkscape()}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aede5746344fdce99647541101eaa7f06}{err()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_ac7978878c5e2989e9739423aa06f805a}{extract\+Bounding\+Box()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg()}}, \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ea521c36a31c2762741cf0f8890cbe05e3}{On}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{out}}, \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{QCString\+::sprintf()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_afa25bb4d45f6063809f1c8cd70038d94}{update\+EPSBounding\+Box()}}, \mbox{\hyperlink{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}{update\+Formula\+Size()}}, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}}, and \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}}.



Referenced by \mbox{\hyperlink{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}{generate\+Images()}}.

\mbox{\Hypertarget{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}\label{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}} 
\index{FormulaManager@{FormulaManager}!createFormulasTexFile@{createFormulasTexFile}}
\index{createFormulasTexFile@{createFormulasTexFile}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{createFormulasTexFile()}{createFormulasTexFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::create\+Formulas\+Tex\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_dir}{Dir}} \&}]{d,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}}}]{hd,  }\item[{\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}\label{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}} 
\index{FormulaManager@{FormulaManager}!createLatexFile@{createLatexFile}}
\index{createLatexFile@{createLatexFile}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{createLatexFile()}{createLatexFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::create\+Latex\+File (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{file\+Name,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}}}]{mode,  }\item[{\mbox{\hyperlink{build_2doxygen_2src_2containers_8h_a0b244579717fb04b2fb4ac89ee2f0f35}{Int\+Vector}} \&}]{formulas\+To\+Generate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00186}{186}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00187 \{}
\DoxyCodeLine{00188   \mbox{\hyperlink{class_q_c_string}{QCString}} macroFile = \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\_getString}}(FORMULA\_MACROFILE);}
\DoxyCodeLine{00189   \mbox{\hyperlink{class_q_c_string}{QCString}} stripMacroFile;}
\DoxyCodeLine{00190   \textcolor{keywordflow}{if} (!macroFile.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}())}
\DoxyCodeLine{00191   \{}
\DoxyCodeLine{00192     \mbox{\hyperlink{class_file_info}{FileInfo}} fi(macroFile.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00193     macroFile=fi.absFilePath();}
\DoxyCodeLine{00194     stripMacroFile = fi.fileName();}
\DoxyCodeLine{00195   \}}
\DoxyCodeLine{00196 }
\DoxyCodeLine{00197   \textcolor{comment}{// generate a latex file containing one formula per page.}}
\DoxyCodeLine{00198   \mbox{\hyperlink{class_q_c_string}{QCString}} texName=fileName+\textcolor{stringliteral}{"{}.tex"{}};}
\DoxyCodeLine{00199   \mbox{\hyperlink{namespaceghc_1_1filesystem_a5a9df37f9ba2cf3b2dabb4a221b71b09}{std::ofstream}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}(texName.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}(),\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{std::ofstream::out}} | std::ofstream::binary);}
\DoxyCodeLine{00200   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}.is\_open())}
\DoxyCodeLine{00201   \{}
\DoxyCodeLine{00202     \mbox{\hyperlink{class_text_stream}{TextStream}} t(\&\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}});}
\DoxyCodeLine{00203     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)documentclass\{article\}\(\backslash\)n"{}};}
\DoxyCodeLine{00204     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)usepackage\{ifthen\}\(\backslash\)n"{}};}
\DoxyCodeLine{00205     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)usepackage\{epsfig\}\(\backslash\)n"{}}; \textcolor{comment}{// for those who want to include images}}
\DoxyCodeLine{00206     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)usepackage[utf8]\{inputenc\}\(\backslash\)n"{}}; \textcolor{comment}{// looks like some older distributions with newunicode package 1.1 need this option.}}
\DoxyCodeLine{00207     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)usepackage\{xcolor\}\(\backslash\)n"{}};}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209     \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Mode::Dark}}) \textcolor{comment}{// invert page and text colors}}
\DoxyCodeLine{00210     \{}
\DoxyCodeLine{00211       t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)color\{white\}\(\backslash\)n"{}};}
\DoxyCodeLine{00212       t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)pagecolor\{black\}\(\backslash\)n"{}};}
\DoxyCodeLine{00213     \}}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215     \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ace2411e2a91d0794515d7319a05a96e4}{writeExtraLatexPackages}}(t);}
\DoxyCodeLine{00216     \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_afb096be4b2c37adc54becb763cc99470}{writeLatexSpecialFormulaChars}}(t);}
\DoxyCodeLine{00217     \textcolor{keywordflow}{if} (!macroFile.\mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{isEmpty}}())}
\DoxyCodeLine{00218     \{}
\DoxyCodeLine{00219       \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ad35d4038b3882fdd09976d28f4a043bf}{copyFile}}(macroFile,stripMacroFile);}
\DoxyCodeLine{00220       t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)input\{"{}} << stripMacroFile << \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00221     \}}
\DoxyCodeLine{00222     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)pagestyle\{empty\}\(\backslash\)n"{}};}
\DoxyCodeLine{00223     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)begin\{document\}\(\backslash\)n"{}};}
\DoxyCodeLine{00224     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&formula : \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas)}
\DoxyCodeLine{00225     \{}
\DoxyCodeLine{00226       \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = formula-\/>id();}
\DoxyCodeLine{00227       \textcolor{comment}{// only formulas for which no image is cached are generated}}
\DoxyCodeLine{00228       \textcolor{comment}{//printf("{}check formula \%d: cached=\%d cachedDark=\%d\(\backslash\)n"{},formula-\/>id(),formula-\/>isCached(),formula-\/>isCachedDark());}}
\DoxyCodeLine{00229       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}} \&\& !formula-\/>isCached()) ||}
\DoxyCodeLine{00230           (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Mode::Dark}} \&\& !formula-\/>isCachedDark())}
\DoxyCodeLine{00231          )}
\DoxyCodeLine{00232       \{}
\DoxyCodeLine{00233         \textcolor{comment}{// we force a pagebreak after each formula}}
\DoxyCodeLine{00234         t << formula-\/>text() << \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)\(\backslash\)pagebreak\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00235         formulasToGenerate.push\_back(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00236       \}}
\DoxyCodeLine{00237       \mbox{\hyperlink{class_q_c_string}{QCString}} resultName;}
\DoxyCodeLine{00238       resultName.\mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{sprintf}}(\textcolor{stringliteral}{"{}form\_\%d\%s.\%s"{}},\textcolor{keywordtype}{id}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}==\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}}?\textcolor{stringliteral}{"{}"{}}:\textcolor{stringliteral}{"{}\_dark"{}}, format==\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Format::Vector}}?\textcolor{stringliteral}{"{}svg"{}}:\textcolor{stringliteral}{"{}png"{}});}
\DoxyCodeLine{00239       \mbox{\hyperlink{class_doxygen_a52fd39c003e72f197e3ee164cbf2ff82}{Doxygen::indexList}}-\/>\mbox{\hyperlink{class_index_list_aac3c1b70be363f488269cd9054cc7621}{addImageFile}}(resultName);}
\DoxyCodeLine{00240     \}}
\DoxyCodeLine{00241     t << \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)end\{document\}\(\backslash\)n"{}};}
\DoxyCodeLine{00242     t.flush();}
\DoxyCodeLine{00243     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}.close();}
\DoxyCodeLine{00244   \}}
\DoxyCodeLine{00245 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_file_info_af69e3949475014dcdbd504d742bdf270}{File\+Info\+::abs\+File\+Path()}}, \mbox{\hyperlink{class_index_list_aac3c1b70be363f488269cd9054cc7621}{Index\+List\+::add\+Image\+File()}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\+\_\+get\+String}}, \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ad35d4038b3882fdd09976d28f4a043bf}{copy\+File()}}, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}, \mbox{\hyperlink{class_file_info_a8ae2069796787d27306bb49bd70e3e3a}{File\+Info\+::file\+Name()}}, \mbox{\hyperlink{class_text_stream_a907937b613a56aa4124608b3a092b820}{Text\+Stream\+::flush()}}, \mbox{\hyperlink{class_doxygen_a52fd39c003e72f197e3ee164cbf2ff82}{Doxygen\+::index\+List}}, \mbox{\hyperlink{class_q_c_string_a621c4090d69ad7d05ef8e5234376c3d8}{QCString\+::is\+Empty()}}, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adfd79db267a2c3b3684968e06c3b9155}{mode}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a48bc11919b2752df9d14ce89557cfb25}{out}}, \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}, \mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{QCString\+::sprintf()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69a57dea6f5039281b7fee517fc43bf3110}{Vector}}, \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_ace2411e2a91d0794515d7319a05a96e4}{write\+Extra\+Latex\+Packages()}}, and \mbox{\hyperlink{build_2doxygen_2src_2util_8cpp_afb096be4b2c37adc54becb763cc99470}{write\+Latex\+Special\+Formula\+Chars()}}.



Referenced by \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File()}}.

\mbox{\Hypertarget{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}\label{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}} 
\index{FormulaManager@{FormulaManager}!createLatexFile@{createLatexFile}}
\index{createLatexFile@{createLatexFile}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{createLatexFile()}{createLatexFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::create\+Latex\+File (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{file\+Name,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419}{Mode}}}]{mode,  }\item[{\mbox{\hyperlink{build_2doxygen_2src_2containers_8h_a0b244579717fb04b2fb4ac89ee2f0f35}{Int\+Vector}} \&}]{formulas\+To\+Generate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}\label{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}} 
\index{FormulaManager@{FormulaManager}!findFormula@{findFormula}}
\index{findFormula@{findFormula}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{findFormula()}{findFormula()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_formula}{Formula}} $\ast$ Formula\+Manager\+::find\+Formula (\begin{DoxyParamCaption}\item[{int}]{formula\+Id }\end{DoxyParamCaption}) const}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00667}{667}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00668 \{}
\DoxyCodeLine{00669   \textcolor{keyword}{auto}   it  = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.find(formulaId);}
\DoxyCodeLine{00670   \textcolor{keywordflow}{return} it != \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.end() ? it-\/>second : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00671 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}.



Referenced by \mbox{\hyperlink{class_doc_formula_ae40d1dafb6c93681ddf0a9bc2e961053}{Doc\+Formula\+::\+Doc\+Formula()}}, and \mbox{\hyperlink{class_html_doc_visitor_aa9e3a7cf34aceba68750ff3ff94acf34}{Html\+Doc\+Visitor\+::operator()()}}.

\mbox{\Hypertarget{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}\label{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}} 
\index{FormulaManager@{FormulaManager}!findFormula@{findFormula}}
\index{findFormula@{findFormula}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{findFormula()}{findFormula()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_formula}{Formula}} $\ast$ Formula\+Manager\+::find\+Formula (\begin{DoxyParamCaption}\item[{int}]{formula\+Id }\end{DoxyParamCaption}) const}

\mbox{\Hypertarget{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}\label{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}} 
\index{FormulaManager@{FormulaManager}!generateImages@{generateImages}}
\index{generateImages@{generateImages}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{generateImages()}{generateImages()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::generate\+Images (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{output\+Dir,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}}}]{hd = {\ttfamily \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{High\+DPI\+::\+Off}}} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00612}{612}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00613 \{}
\DoxyCodeLine{00614   \mbox{\hyperlink{class_dir}{Dir}} d(path.str());}
\DoxyCodeLine{00615   \textcolor{comment}{// store the original directory}}
\DoxyCodeLine{00616   \textcolor{keywordflow}{if} (!d.exists())}
\DoxyCodeLine{00617   \{}
\DoxyCodeLine{00618     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term}}(\textcolor{stringliteral}{"{}Output directory '\%s' does not exist!\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(path));}
\DoxyCodeLine{00619   \}}
\DoxyCodeLine{00620   \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} oldDir = \mbox{\hyperlink{class_dir_a0f62ab07068c5f966bca7ce280f4ed49}{Dir::currentDirPath}}();}
\DoxyCodeLine{00621 }
\DoxyCodeLine{00622   \textcolor{comment}{// go to the html output directory (i.e. path)}}
\DoxyCodeLine{00623   \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir::setCurrent}}(d.absPath());}
\DoxyCodeLine{00624   \mbox{\hyperlink{class_dir}{Dir}} thisDir;}
\DoxyCodeLine{00625 }
\DoxyCodeLine{00626   \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{createFormulasTexFile}}(thisDir,format,hd,\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Mode::Light}});}
\DoxyCodeLine{00627   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2src_2config_8h_afe899eec751dfb75a60c37ec3840e288}{Config\_getEnum}}(HTML\_COLORSTYLE)!=HTML\_COLORSTYLE\_t::LIGHT) \textcolor{comment}{// all modes other than light need a dark version}}
\DoxyCodeLine{00628   \{}
\DoxyCodeLine{00629     \textcolor{comment}{// note that the dark version reuses the bounding box of the light version so it needs to be}}
\DoxyCodeLine{00630     \textcolor{comment}{// created after the light version.}}
\DoxyCodeLine{00631     \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{createFormulasTexFile}}(thisDir,format,hd,\mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Mode::Dark}});}
\DoxyCodeLine{00632   \}}
\DoxyCodeLine{00633 }
\DoxyCodeLine{00634   \textcolor{comment}{// clean up temporary files}}
\DoxyCodeLine{00635   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a6e85eab155453f359a60e118e7e64fba}{RM\_TMP\_FILES}})}
\DoxyCodeLine{00636   \{}
\DoxyCodeLine{00637     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}} : \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>tempFiles)}
\DoxyCodeLine{00638     \{}
\DoxyCodeLine{00639       thisDir.\mbox{\hyperlink{class_dir_a5a64060f8e1731e8f00da7e8f7051e4b}{remove}}(\mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{file}});}
\DoxyCodeLine{00640     \}}
\DoxyCodeLine{00641   \}}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \textcolor{comment}{// reset the directory to the original location.}}
\DoxyCodeLine{00644   \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir::setCurrent}}(oldDir);}
\DoxyCodeLine{00645 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_dir_a226b0db1117e46393bbb241e545f8609}{Dir\+::abs\+Path()}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_afe899eec751dfb75a60c37ec3840e288}{Config\+\_\+get\+Enum}}, \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File()}}, \mbox{\hyperlink{class_dir_a0f62ab07068c5f966bca7ce280f4ed49}{Dir\+::current\+Dir\+Path()}}, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419aa18366b217ebf811ad1886e4f4f865b2}{Dark}}, \mbox{\hyperlink{class_dir_ac6bf80b5b3a034e8c144c86ef48ae309}{Dir\+::exists()}}, \mbox{\hyperlink{namespacecaseconvert_ad3d65a3e98ad183dea4b1904045afa08}{caseconvert\+::file}}, \mbox{\hyperlink{class_formula_manager_a417a154a8ce0abdc51353d4475005419a9914a0ce04a7b7b6a8e39bec55064b82}{Light}}, \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{class_dir_a5a64060f8e1731e8f00da7e8f7051e4b}{Dir\+::remove()}}, \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_a6e85eab155453f359a60e118e7e64fba}{RM\+\_\+\+TMP\+\_\+\+FILES}}, \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir\+::set\+Current()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{string}}, and \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_ad8f29ff28015ffeb164a592dd68f89c7}{term()}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a3efb8cd50f4362e3d58e72febfb872fa}{generate\+Output()}}.

\mbox{\Hypertarget{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}\label{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}} 
\index{FormulaManager@{FormulaManager}!generateImages@{generateImages}}
\index{generateImages@{generateImages}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{generateImages()}{generateImages()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::generate\+Images (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{output\+Dir,  }\item[{\mbox{\hyperlink{class_formula_manager_aa538ca4ffea4dd937920ebdd41222e69}{Format}}}]{format,  }\item[{\mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761e}{High\+DPI}}}]{hd = {\ttfamily \mbox{\hyperlink{class_formula_manager_ae7fe54b64ef2fa9eff2494118fab761ead15305d7a4e34e02489c74a5ef542f36}{High\+DPI\+::\+Off}}} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}\label{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}} 
\index{FormulaManager@{FormulaManager}!hasFormulas@{hasFormulas}}
\index{hasFormulas@{hasFormulas}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{hasFormulas()}{hasFormulas()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Formula\+Manager\+::has\+Formulas (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00682}{682}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00683 \{}
\DoxyCodeLine{00684   \textcolor{keywordflow}{return} !\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.empty();}
\DoxyCodeLine{00685 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a3efb8cd50f4362e3d58e72febfb872fa}{generate\+Output()}}.

\mbox{\Hypertarget{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}\label{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}} 
\index{FormulaManager@{FormulaManager}!hasFormulas@{hasFormulas}}
\index{hasFormulas@{hasFormulas}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{hasFormulas()}{hasFormulas()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Formula\+Manager\+::has\+Formulas (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\mbox{\Hypertarget{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}\label{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}} 
\index{FormulaManager@{FormulaManager}!initFromRepository@{initFromRepository}}
\index{initFromRepository@{initFromRepository}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{initFromRepository()}{initFromRepository()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::init\+From\+Repository (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{dir }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00061}{61}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00062 \{}
\DoxyCodeLine{00063   \mbox{\hyperlink{namespaceghc_1_1filesystem_ac5ce4cc34ef910b06b64f6110c866e2e}{std::ifstream}} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}(dir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()+\textcolor{stringliteral}{"{}/formula.repository"{}},std::ifstream::in);}
\DoxyCodeLine{00064   \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}.is\_open())}
\DoxyCodeLine{00065   \{}
\DoxyCodeLine{00066     \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a4d3943ddea65db7163a58e6c7e8df95a}{uint}} formulaCount=0;}
\DoxyCodeLine{00067     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg}}(\textcolor{stringliteral}{"{}Reading formula repository...\(\backslash\)n"{}});}
\DoxyCodeLine{00068     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} readLine;}
\DoxyCodeLine{00069     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} line;}
\DoxyCodeLine{00070     \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} prefix(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\_form\#"{}});}
\DoxyCodeLine{00071     \textcolor{keywordtype}{int} lineNr;}
\DoxyCodeLine{00072     \textcolor{keywordtype}{int} nextLineNr=1;}
\DoxyCodeLine{00073     \textcolor{keywordtype}{bool} hasNextLine = !getline(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}},readLine).fail();}
\DoxyCodeLine{00074     \textcolor{keywordflow}{while} (hasNextLine)}
\DoxyCodeLine{00075     \{}
\DoxyCodeLine{00076       line = readLine;}
\DoxyCodeLine{00077       lineNr = nextLineNr;}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079       \textcolor{comment}{// look ahead a bit because a formula can be spread over several lines}}
\DoxyCodeLine{00080       \textcolor{keywordflow}{while} ((hasNextLine = !getline(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}},readLine).fail()))}
\DoxyCodeLine{00081       \{}
\DoxyCodeLine{00082         nextLineNr+=1;}
\DoxyCodeLine{00083         \textcolor{keywordflow}{if} (!readLine.compare(0, prefix.size(), prefix)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00084         line += \textcolor{stringliteral}{"{}\(\backslash\)n"{}} + readLine;}
\DoxyCodeLine{00085       \}}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087       \textcolor{comment}{// new format: \(\backslash\)\_form\#<digits>=<digits>x<digits>:formula}}
\DoxyCodeLine{00088       \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{classreg_1_1_ex}{reg::Ex}} re\_new(R\textcolor{stringliteral}{"{}(\(\backslash\)\(\backslash\)\_form\#(\(\backslash\)d+)=(\(\backslash\)d+)x(\(\backslash\)d+):)"{});}}
\DoxyCodeLine{00089 \textcolor{stringliteral}{      }\textcolor{comment}{// old format: \(\backslash\)\_form\#<digits>:formula}}
\DoxyCodeLine{00090       \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{classreg_1_1_ex}{reg::Ex}} re\_old(R\textcolor{stringliteral}{"{}(\(\backslash\)\(\backslash\)\_form\#(\(\backslash\)d+):)"{});}}
\DoxyCodeLine{00091 \textcolor{stringliteral}{}}
\DoxyCodeLine{00092 \textcolor{stringliteral}{      \mbox{\hyperlink{classreg_1_1_match}{reg::Match}} \mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}};}}
\DoxyCodeLine{00093 \textcolor{stringliteral}{      }\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}     = -\/1;}
\DoxyCodeLine{00094       \textcolor{keywordtype}{int} width  = -\/1;}
\DoxyCodeLine{00095       \textcolor{keywordtype}{int} height = -\/1;}
\DoxyCodeLine{00096       \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} text;}
\DoxyCodeLine{00097       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacereg_a66de3a25d4b9ff13d33f4d3e416fb948}{reg::search}}(line,\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}},re\_new)) \textcolor{comment}{// try new format first}}
\DoxyCodeLine{00098       \{}
\DoxyCodeLine{00099         \textcolor{keywordtype}{id}     = std::stoi(\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}}[1].str());}
\DoxyCodeLine{00100         width  = std::stoi(\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}}[2].str());}
\DoxyCodeLine{00101         height = std::stoi(\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}}[3].str());}
\DoxyCodeLine{00102         text   = line.substr(\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}}.position()+\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}}.length());}
\DoxyCodeLine{00103         \textcolor{comment}{//printf("{}new format found id=\%d width=\%d height=\%d text=\%s\(\backslash\)n"{},id,width,height,text.c\_str());}}
\DoxyCodeLine{00104       \}}
\DoxyCodeLine{00105       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacereg_a66de3a25d4b9ff13d33f4d3e416fb948}{reg::search}}(line,\mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{match}},re\_old)) \textcolor{comment}{// check for old format}}
\DoxyCodeLine{00106       \{}
\DoxyCodeLine{00107         \textcolor{comment}{//id     = std::stoi(match[1].str());}}
\DoxyCodeLine{00108         \textcolor{comment}{//text   = line.substr(match.position()+match.length());}}
\DoxyCodeLine{00109         \textcolor{comment}{//printf("{}old format found id=\%d text=\%s\(\backslash\)n"{},id,text.c\_str());}}
\DoxyCodeLine{00110         \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg}}(\textcolor{stringliteral}{"{}old formula.repository format detected; forcing upgrade.\(\backslash\)n"{}});}
\DoxyCodeLine{00111         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00112         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00113       \}}
\DoxyCodeLine{00114       \textcolor{keywordflow}{else} \textcolor{comment}{// unexpected content}}
\DoxyCodeLine{00115       \{}
\DoxyCodeLine{00116         \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_a1fd98c6976d3826490804976e17eb83f}{warn\_uncond}}(\textcolor{stringliteral}{"{}\%s/formula.repository contains invalid content at line \%d: found: '\%s'\(\backslash\)n"{}},\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(dir),lineNr,line.c\_str());}
\DoxyCodeLine{00117         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00118         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00119       \}}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121       \textcolor{keyword}{auto} it = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00122       \mbox{\hyperlink{class_formula}{Formula}} *formula=0;}
\DoxyCodeLine{00123       \textcolor{keywordflow}{if} (it!=\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.end()) \textcolor{comment}{// formula already found in a repository for another output format}}
\DoxyCodeLine{00124       \{}
\DoxyCodeLine{00125         formula = it-\/>second;}
\DoxyCodeLine{00126         \textcolor{keywordflow}{if} (formula-\/>\mbox{\hyperlink{class_formula_a67b9ebbbe7e4814eb09bbf734af69b0e}{text}}().\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}()!=text) \textcolor{comment}{// inconsistency between repositories detected}}
\DoxyCodeLine{00127         \{}
\DoxyCodeLine{00128           \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg}}(\textcolor{stringliteral}{"{}differences detected between formula.repository files; forcing upgrade.\(\backslash\)n"{}});}
\DoxyCodeLine{00129           \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00130           \textcolor{keywordflow}{break};}
\DoxyCodeLine{00131         \}}
\DoxyCodeLine{00132         formulaCount++;}
\DoxyCodeLine{00133       \}}
\DoxyCodeLine{00134       \textcolor{keywordflow}{else} \textcolor{comment}{// create new formula from cache}}
\DoxyCodeLine{00135       \{}
\DoxyCodeLine{00136         \textcolor{comment}{//printf("{}formula not found adding it under id=\%d\(\backslash\)n"{},id);}}
\DoxyCodeLine{00137         formula = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.add(text.c\_str(),\textcolor{keywordtype}{id},width,height);}
\DoxyCodeLine{00138         \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.insert(std::make\_pair(\textcolor{keywordtype}{id},formula));}
\DoxyCodeLine{00139       \}}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141       \textcolor{keywordflow}{if} (formula) \textcolor{comment}{// if an entry in the repository exists also check if there is a generated image}}
\DoxyCodeLine{00142       \{}
\DoxyCodeLine{00143         \mbox{\hyperlink{class_q_c_string}{QCString}} formImgName;}
\DoxyCodeLine{00144         formImgName.\mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{sprintf}}(\textcolor{stringliteral}{"{}form\_\%d"{}},formula-\/>\mbox{\hyperlink{class_formula_ae4b7648ae0124da8456fa2c8e51991ba}{id}}());}
\DoxyCodeLine{00145         \mbox{\hyperlink{class_file_info}{FileInfo}} fiPng((dir+\textcolor{stringliteral}{"{}/"{}}+formImgName+\textcolor{stringliteral}{"{}.png"{}}).str());}
\DoxyCodeLine{00146         \mbox{\hyperlink{class_file_info}{FileInfo}} fiSvg((dir+\textcolor{stringliteral}{"{}/"{}}+formImgName+\textcolor{stringliteral}{"{}.svg"{}}).str());}
\DoxyCodeLine{00147         \textcolor{comment}{// mark formula as cached, so we do not need to regenerate the images}}
\DoxyCodeLine{00148         \textcolor{keywordtype}{bool} isCached = fiPng.exists() || fiSvg.exists();}
\DoxyCodeLine{00149         formula-\/>\mbox{\hyperlink{class_formula_ab1e3947577b724a83ee9f51124abc71e}{setCached}}(isCached);}
\DoxyCodeLine{00150         \textcolor{comment}{//printf("{}formula \%d: cached=\%d\(\backslash\)n"{},formula-\/>id(),isCached);}}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152         \mbox{\hyperlink{class_file_info}{FileInfo}} fiPngDark((dir+\textcolor{stringliteral}{"{}/"{}}+formImgName+\textcolor{stringliteral}{"{}\_dark.png"{}}).str());}
\DoxyCodeLine{00153         \mbox{\hyperlink{class_file_info}{FileInfo}} fiSvgDark((dir+\textcolor{stringliteral}{"{}/"{}}+formImgName+\textcolor{stringliteral}{"{}\_dark.svg"{}}).str());}
\DoxyCodeLine{00154         \textcolor{keywordtype}{bool} isCachedDark = fiPngDark.exists() || fiSvgDark.exists();}
\DoxyCodeLine{00155         formula-\/>\mbox{\hyperlink{class_formula_a3a025efe9a3c4850b11efd9f5905213e}{setCachedDark}}(isCachedDark);}
\DoxyCodeLine{00156         \textcolor{comment}{//printf("{}formula \%d: cachedDark=\%d\(\backslash\)n"{},formula-\/>id(),isCachedDark);}}
\DoxyCodeLine{00157       \}}
\DoxyCodeLine{00158     \}}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160     \textcolor{comment}{// For the first repository all formulas should be new (e.g. formulaCount==0).}}
\DoxyCodeLine{00161     \textcolor{comment}{// For the other repositories the same number of formulas should be found}}
\DoxyCodeLine{00162     \textcolor{comment}{// (and number of formulas should be the same for all repositories, content is already check above)}}
\DoxyCodeLine{00163     \textcolor{keywordflow}{if} (formulaCount>0 \&\& formulaCount!=\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulas.size()) \textcolor{comment}{// inconsistency between repositories}}
\DoxyCodeLine{00164     \{}
\DoxyCodeLine{00165       \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg}}(\textcolor{stringliteral}{"{}differences detected between formula.repository files; forcing upgrade.\(\backslash\)n"{}});}
\DoxyCodeLine{00166       \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00167     \}}
\DoxyCodeLine{00168   \}}
\DoxyCodeLine{00169   \textcolor{keywordflow}{else} \textcolor{comment}{// no repository found for an output format}}
\DoxyCodeLine{00170   \{}
\DoxyCodeLine{00171     \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>repositoriesValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00172   \}}
\DoxyCodeLine{00173 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_file_info_a47d49db8cb8797153885c4d5b7b0911f}{File\+Info\+::exists()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a26bd95fde4dbe225dd861231581fc268}{f}}, \mbox{\hyperlink{class_formula_ae4b7648ae0124da8456fa2c8e51991ba}{Formula\+::id()}}, \mbox{\hyperlink{namespacereg_a1a29dcc7e2ccf462503adc5d496881ae}{reg\+::match()}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aba549a028419cd48a3f373037c2c57eb}{msg()}}, \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{namespacereg_a66de3a25d4b9ff13d33f4d3e416fb948}{reg\+::search()}}, \mbox{\hyperlink{class_formula_ab1e3947577b724a83ee9f51124abc71e}{Formula\+::set\+Cached()}}, \mbox{\hyperlink{class_formula_a3a025efe9a3c4850b11efd9f5905213e}{Formula\+::set\+Cached\+Dark()}}, \mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{QCString\+::sprintf()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{string}}, \mbox{\hyperlink{class_formula_a67b9ebbbe7e4814eb09bbf734af69b0e}{Formula\+::text()}}, and \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_a1fd98c6976d3826490804976e17eb83f}{warn\+\_\+uncond()}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a59d66805ece9da6ffd55fa4cc8252ef1}{parse\+Input()}}.

\mbox{\Hypertarget{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}\label{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}} 
\index{FormulaManager@{FormulaManager}!initFromRepository@{initFromRepository}}
\index{initFromRepository@{initFromRepository}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{initFromRepository()}{initFromRepository()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Formula\+Manager\+::init\+From\+Repository (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{dir }\end{DoxyParamCaption})}

\mbox{\Hypertarget{class_formula_manager_ab5c33a247a1b081414e3350552beb6ee}\label{class_formula_manager_ab5c33a247a1b081414e3350552beb6ee}} 
\index{FormulaManager@{FormulaManager}!instance@{instance}}
\index{instance@{instance}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_formula_manager}{Formula\+Manager}} \& Formula\+Manager\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00055}{55}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00056 \{}
\DoxyCodeLine{00057   \textcolor{keyword}{static} \mbox{\hyperlink{class_formula_manager}{FormulaManager}} fm;}
\DoxyCodeLine{00058   \textcolor{keywordflow}{return} fm;}
\DoxyCodeLine{00059 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{build_2doxygen_2src_2commentscan_8l_ad7328f0606e5f8d93daecd7d5babee1d}{add\+Formula()}}, \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_ae12e94f5218f3afc8df4086a2121cd4d}{clean\+Up\+Doxygen()}}, \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a798729dca95209ecdc609807a653a2bf}{clear\+All()}}, \mbox{\hyperlink{class_doc_formula_ae40d1dafb6c93681ddf0a9bc2e961053}{Doc\+Formula\+::\+Doc\+Formula()}}, \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a3efb8cd50f4362e3d58e72febfb872fa}{generate\+Output()}}, \mbox{\hyperlink{class_html_doc_visitor_aa9e3a7cf34aceba68750ff3ff94acf34}{Html\+Doc\+Visitor\+::operator()()}}, and \mbox{\hyperlink{build_2doxygen_2src_2doxygen_8cpp_a59d66805ece9da6ffd55fa4cc8252ef1}{parse\+Input()}}.

\mbox{\Hypertarget{class_formula_manager_ab33305f61d136b5862a11da020c05e03}\label{class_formula_manager_ab33305f61d136b5862a11da020c05e03}} 
\index{FormulaManager@{FormulaManager}!instance@{instance}}
\index{instance@{instance}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_formula_manager}{Formula\+Manager}} \& Formula\+Manager\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}\label{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}} 
\index{FormulaManager@{FormulaManager}!updateFormulaSize@{updateFormulaSize}}
\index{updateFormulaSize@{updateFormulaSize}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{updateFormulaSize()}{updateFormulaSize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily double Formula\+Manager\+::update\+Formula\+Size (\begin{DoxyParamCaption}\item[{int}]{page\+Num,  }\item[{int}]{x1,  }\item[{int}]{y1,  }\item[{int}]{x2,  }\item[{int}]{y2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source_l00344}{344}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp_source}{formula.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00345 \{}
\DoxyCodeLine{00346   \textcolor{keywordtype}{double} scaleFactor = 1.25;}
\DoxyCodeLine{00347   \textcolor{keywordtype}{int} zoomFactor = \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a06b59c3720174e9078f613095a89b295}{Config\_getInt}}(FORMULA\_FONTSIZE);}
\DoxyCodeLine{00348   \textcolor{keywordflow}{if} (zoomFactor<8 || zoomFactor>50) zoomFactor=10;}
\DoxyCodeLine{00349   scaleFactor *= zoomFactor/10.0;}
\DoxyCodeLine{00350 }
\DoxyCodeLine{00351   \textcolor{keyword}{auto} it = \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.find(pageNum);}
\DoxyCodeLine{00352   \textcolor{keywordflow}{if} (it!=\mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}-\/>formulaIdMap.end())}
\DoxyCodeLine{00353   \{}
\DoxyCodeLine{00354     \mbox{\hyperlink{class_formula}{Formula}} *formula = it-\/>second;}
\DoxyCodeLine{00355     formula-\/>\mbox{\hyperlink{class_formula_ad6f4bcbc9d72789367acac83a3ea6846}{setWidth}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}-\/\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}})*scaleFactor+0.5));}
\DoxyCodeLine{00356     formula-\/>\mbox{\hyperlink{class_formula_aa98f77319800a11b67fc2be1a2b5f0d4}{setHeight}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}}-\/\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}})*scaleFactor+0.5));}
\DoxyCodeLine{00357   \}}
\DoxyCodeLine{00358   \textcolor{keywordflow}{return} scaleFactor;}
\DoxyCodeLine{00359 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a06b59c3720174e9078f613095a89b295}{Config\+\_\+get\+Int}}, \mbox{\hyperlink{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}{p}}, \mbox{\hyperlink{class_formula_aa98f77319800a11b67fc2be1a2b5f0d4}{Formula\+::set\+Height()}}, \mbox{\hyperlink{class_formula_ad6f4bcbc9d72789367acac83a3ea6846}{Formula\+::set\+Width()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a97fcb0e1731b36905e90757f211b1340}{x1}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_acf9f5399062fd8bf1dde083f15dcd1fc}{x2}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a460698fb30c144b9b1a9508012ef1e43}{y1}}, and \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_aa7986c9249de185e59245a0f83431db9}{y2}}.



Referenced by \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File()}}.

\mbox{\Hypertarget{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}\label{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}} 
\index{FormulaManager@{FormulaManager}!updateFormulaSize@{updateFormulaSize}}
\index{updateFormulaSize@{updateFormulaSize}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{updateFormulaSize()}{updateFormulaSize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily double Formula\+Manager\+::update\+Formula\+Size (\begin{DoxyParamCaption}\item[{int}]{page\+Num,  }\item[{int}]{x1,  }\item[{int}]{y1,  }\item[{int}]{x2,  }\item[{int}]{y2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}\label{class_formula_manager_a7f877924c5f316b95f0b56d78871b379}} 
\index{FormulaManager@{FormulaManager}!p@{p}}
\index{p@{p}!FormulaManager@{FormulaManager}}
\doxysubsubsection{\texorpdfstring{p}{p}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{struct_formula_manager_1_1_private}{Private}} $>$ Formula\+Manager\+::p\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source_l00091}{91}} of file \mbox{\hyperlink{build_2doxygen_2src_2formula_8h_source}{formula.\+h}}.



Referenced by \mbox{\hyperlink{class_formula_manager_a263c84263295a94dd1593d39f2c435f5}{add\+Formula()}}, \mbox{\hyperlink{class_formula_manager_a9ff2d153c001e2b9d9b054200d34c6a2}{check\+Repositories()}}, \mbox{\hyperlink{class_formula_manager_a5a181349991e3e72a331b231c9c25f8b}{clear()}}, \mbox{\hyperlink{class_formula_manager_ab24723d7cedd2c780f895fea971fb484}{create\+Formulas\+Tex\+File()}}, \mbox{\hyperlink{class_formula_manager_a0f96928dbcf6279d70d38ee11b35ea55}{create\+Latex\+File()}}, \mbox{\hyperlink{class_formula_manager_aa15bea658260218b4b6c3193df2c5856}{find\+Formula()}}, \mbox{\hyperlink{class_formula_manager_aef1d730d619e5441ab6206a8fd5b1a45}{generate\+Images()}}, \mbox{\hyperlink{class_formula_manager_a4b5c2d7e0c8001ae48514de0b468eb87}{has\+Formulas()}}, \mbox{\hyperlink{class_formula_manager_a10998c967b5e151acf3dad299deb0bc9}{init\+From\+Repository()}}, and \mbox{\hyperlink{class_formula_manager_a70aa26f8a815b1f65663e06a2af49bb7}{update\+Formula\+Size()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
doxygen/build/doxygen/src/\mbox{\hyperlink{build_2doxygen_2src_2formula_8h}{formula.\+h}}\item 
doxygen/src/\mbox{\hyperlink{src_2formula_8h}{formula.\+h}}\item 
doxygen/build/doxygen/src/\mbox{\hyperlink{build_2doxygen_2src_2formula_8cpp}{formula.\+cpp}}\item 
doxygen/src/\mbox{\hyperlink{src_2formula_8cpp}{formula.\+cpp}}\end{DoxyCompactItemize}
