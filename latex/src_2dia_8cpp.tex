\hypertarget{src_2dia_8cpp}{}\doxysection{doxygen/src/dia.cpp File Reference}
\label{src_2dia_8cpp}\index{doxygen/src/dia.cpp@{doxygen/src/dia.cpp}}
{\ttfamily \#include \char`\"{}dia.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}portable.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}message.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dir.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{src_2dia_8cpp_a6791d60c7183801a8dcbdd7e9fc7a896}{write\+Dia\+Graph\+From\+File}} (const \mbox{\hyperlink{class_q_c_string}{QCString}} \&in\+File, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&out\+Dir, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&\mbox{\hyperlink{libmscgen_2gd_8h_a58b968b0b4c5babf4eafd809481c7a9f}{out\+File}}, \mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35}{Dia\+Output\+Format}} format, const \mbox{\hyperlink{class_q_c_string}{QCString}} \&src\+File, int src\+Line)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const int \mbox{\hyperlink{src_2dia_8cpp_ad1b6b56d95d64570f2be3ca005b63412}{max\+Cmd\+Line}} = 40960
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{src_2dia_8cpp_a6791d60c7183801a8dcbdd7e9fc7a896}\label{src_2dia_8cpp_a6791d60c7183801a8dcbdd7e9fc7a896}} 
\index{dia.cpp@{dia.cpp}!writeDiaGraphFromFile@{writeDiaGraphFromFile}}
\index{writeDiaGraphFromFile@{writeDiaGraphFromFile}!dia.cpp@{dia.cpp}}
\doxysubsubsection{\texorpdfstring{writeDiaGraphFromFile()}{writeDiaGraphFromFile()}}
{\footnotesize\ttfamily void write\+Dia\+Graph\+From\+File (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{in\+File,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+Dir,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{out\+File,  }\item[{\mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35}{Dia\+Output\+Format}}}]{format,  }\item[{const \mbox{\hyperlink{class_q_c_string}{QCString}} \&}]{src\+File,  }\item[{int}]{src\+Line }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{src_2dia_8cpp_source_l00026}{26}} of file \mbox{\hyperlink{src_2dia_8cpp_source}{dia.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029 \{}
\DoxyCodeLine{00030   \mbox{\hyperlink{class_q_c_string}{QCString}} absOutFile = outDir;}
\DoxyCodeLine{00031   absOutFile+=\mbox{\hyperlink{namespace_portable_a0f30be3f0aed0b88804816f3e6310ee4}{Portable::pathSeparator}}();}
\DoxyCodeLine{00032   absOutFile+=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}};}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034   \textcolor{comment}{// chdir to the output dir, so dot can find the font file.}}
\DoxyCodeLine{00035   \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{std::string}} oldDir = \mbox{\hyperlink{class_dir_a0f62ab07068c5f966bca7ce280f4ed49}{Dir::currentDirPath}}();}
\DoxyCodeLine{00036   \textcolor{comment}{// go to the html output directory (i.e. path)}}
\DoxyCodeLine{00037   \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir::setCurrent}}(outDir.\mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{str}}());}
\DoxyCodeLine{00038   \textcolor{comment}{//printf("{}Going to dir \%s\(\backslash\)n"{},Dir::currentDirPath().c\_str());}}
\DoxyCodeLine{00039   \mbox{\hyperlink{class_q_c_string}{QCString}} diaExe = \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\_getString}}(DIA\_PATH)+\textcolor{stringliteral}{"{}dia"{}}+\mbox{\hyperlink{namespace_portable_acf75def6ec394875d4a3c380ffc301b7}{Portable::commandExtension}}();}
\DoxyCodeLine{00040   \mbox{\hyperlink{class_q_c_string}{QCString}} diaArgs;}
\DoxyCodeLine{00041   \mbox{\hyperlink{class_q_c_string}{QCString}} extension;}
\DoxyCodeLine{00042   diaArgs+=\textcolor{stringliteral}{"{}-\/n "{}};}
\DoxyCodeLine{00043   \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35a8067840da68a1d3cf61db03c1f164193}{DIA\_BITMAP}})}
\DoxyCodeLine{00044   \{}
\DoxyCodeLine{00045     diaArgs+=\textcolor{stringliteral}{"{}-\/t png-\/libart"{}};}
\DoxyCodeLine{00046     extension=\textcolor{stringliteral}{"{}.png"{}};}
\DoxyCodeLine{00047   \}}
\DoxyCodeLine{00048   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (format==\mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35a62a855ce0069d65a378be40ea7c01af3}{DIA\_EPS}})}
\DoxyCodeLine{00049   \{}
\DoxyCodeLine{00050     diaArgs+=\textcolor{stringliteral}{"{}-\/t eps"{}};}
\DoxyCodeLine{00051     extension=\textcolor{stringliteral}{"{}.eps"{}};}
\DoxyCodeLine{00052   \}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054   diaArgs+=\textcolor{stringliteral}{"{} -\/e \(\backslash\)"{}"{}};}
\DoxyCodeLine{00055   diaArgs+=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}};}
\DoxyCodeLine{00056   diaArgs+=extension+\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058   diaArgs+=\textcolor{stringliteral}{"{} \(\backslash\)"{}"{}};}
\DoxyCodeLine{00059   diaArgs+=inFile;}
\DoxyCodeLine{00060   diaArgs+=\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062   \textcolor{comment}{//printf("{}*** running: \%s \%s outDir:\%s \%s\(\backslash\)n"{},qPrint(diaExe),qPrint(diaArgs),outDir,outFile);}}
\DoxyCodeLine{00063   \mbox{\hyperlink{namespace_portable_ada9653ce1cfc72cc4923aac726435962}{Portable::sysTimerStart}}();}
\DoxyCodeLine{00064   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_portable_ab30a636186b72a67d57e9f7f1e917e99}{Portable::system}}(diaExe,diaArgs,\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}})!=0)}
\DoxyCodeLine{00065   \{}
\DoxyCodeLine{00066     \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_a45377f8cd3057206a6b19d65300e7415}{err\_full}}(srcFile,srcLine,\textcolor{stringliteral}{"{}Problems running \%s. Check your installation or look typos in you dia file \%s\(\backslash\)n"{}},}
\DoxyCodeLine{00067         \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(diaExe),\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(inFile));}
\DoxyCodeLine{00068     \mbox{\hyperlink{namespace_portable_a3131c9d07ca7ce1ad22542ce9e417068}{Portable::sysTimerStop}}();}
\DoxyCodeLine{00069     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{00070   \}}
\DoxyCodeLine{00071   \mbox{\hyperlink{namespace_portable_a3131c9d07ca7ce1ad22542ce9e417068}{Portable::sysTimerStop}}();}
\DoxyCodeLine{00072   \textcolor{keywordflow}{if} ( (format==\mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35a62a855ce0069d65a378be40ea7c01af3}{DIA\_EPS}}) \&\& (\mbox{\hyperlink{build_2doxygen_2src_2config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\_getBool}}(USE\_PDFLATEX)) )}
\DoxyCodeLine{00073   \{}
\DoxyCodeLine{00074     \mbox{\hyperlink{class_q_c_string}{QCString}} epstopdfArgs(\mbox{\hyperlink{src_2dia_8cpp_ad1b6b56d95d64570f2be3ca005b63412}{maxCmdLine}});}
\DoxyCodeLine{00075     epstopdfArgs.sprintf(\textcolor{stringliteral}{"{}\(\backslash\)"{}\%s.eps\(\backslash\)"{} -\/-\/outfile=\(\backslash\)"{}\%s.pdf\(\backslash\)"{}"{}},}
\DoxyCodeLine{00076                          \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}}),\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{qPrint}}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{outFile}}));}
\DoxyCodeLine{00077     \mbox{\hyperlink{namespace_portable_ada9653ce1cfc72cc4923aac726435962}{Portable::sysTimerStart}}();}
\DoxyCodeLine{00078     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_portable_ab30a636186b72a67d57e9f7f1e917e99}{Portable::system}}(\textcolor{stringliteral}{"{}epstopdf"{}},epstopdfArgs)!=0)}
\DoxyCodeLine{00079     \{}
\DoxyCodeLine{00080       \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aede5746344fdce99647541101eaa7f06}{err}}(\textcolor{stringliteral}{"{}Problems running epstopdf. Check your TeX installation!\(\backslash\)n"{}});}
\DoxyCodeLine{00081     \}}
\DoxyCodeLine{00082     \mbox{\hyperlink{namespace_portable_a3131c9d07ca7ce1ad22542ce9e417068}{Portable::sysTimerStop}}();}
\DoxyCodeLine{00083   \}}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085 error:}
\DoxyCodeLine{00086   \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir::setCurrent}}(oldDir);}
\DoxyCodeLine{00087 \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespace_portable_acf75def6ec394875d4a3c380ffc301b7}{Portable\+::command\+Extension()}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\+\_\+get\+Bool}}, \mbox{\hyperlink{build_2doxygen_2src_2config_8h_a737741e6991bdb5694a50075437a9d89}{Config\+\_\+get\+String}}, \mbox{\hyperlink{class_dir_a0f62ab07068c5f966bca7ce280f4ed49}{Dir\+::current\+Dir\+Path()}}, \mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35a8067840da68a1d3cf61db03c1f164193}{DIA\+\_\+\+BITMAP}}, \mbox{\hyperlink{build_2doxygen_2src_2dia_8h_abc13e8949e66677e61029ee294434c35a62a855ce0069d65a378be40ea7c01af3}{DIA\+\_\+\+EPS}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_aede5746344fdce99647541101eaa7f06}{err()}}, \mbox{\hyperlink{build_2doxygen_2src_2message_8cpp_a45377f8cd3057206a6b19d65300e7415}{err\+\_\+full()}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, \mbox{\hyperlink{src_2dia_8cpp_ad1b6b56d95d64570f2be3ca005b63412}{max\+Cmd\+Line}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a9af8a34a1d63fa9ed984b7cdd97daee1}{out\+File}}, \mbox{\hyperlink{namespace_portable_a0f30be3f0aed0b88804816f3e6310ee4}{Portable\+::path\+Separator()}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_a9851ebb5ae2f65b4d2b1d08421edbfd2}{q\+Print()}}, \mbox{\hyperlink{class_dir_ab3b09edc88159dc30426999bdc7d6d7b}{Dir\+::set\+Current()}}, \mbox{\hyperlink{class_q_c_string_aa2dccf89cb25346c3ee81d75aa5859da}{QCString\+::sprintf()}}, \mbox{\hyperlink{class_q_c_string_a875e9ad762554ef12f3ed69b015bb245}{QCString\+::str()}}, \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_ab316628fa3d58332c1756353c49316c1}{string}}, \mbox{\hyperlink{namespace_portable_ab30a636186b72a67d57e9f7f1e917e99}{Portable\+::system()}}, \mbox{\hyperlink{namespace_portable_ada9653ce1cfc72cc4923aac726435962}{Portable\+::sys\+Timer\+Start()}}, and \mbox{\hyperlink{namespace_portable_a3131c9d07ca7ce1ad22542ce9e417068}{Portable\+::sys\+Timer\+Stop()}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{src_2dia_8cpp_ad1b6b56d95d64570f2be3ca005b63412}\label{src_2dia_8cpp_ad1b6b56d95d64570f2be3ca005b63412}} 
\index{dia.cpp@{dia.cpp}!maxCmdLine@{maxCmdLine}}
\index{maxCmdLine@{maxCmdLine}!dia.cpp@{dia.cpp}}
\doxysubsubsection{\texorpdfstring{maxCmdLine}{maxCmdLine}}
{\footnotesize\ttfamily const int max\+Cmd\+Line = 40960\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{src_2dia_8cpp_source_l00024}{24}} of file \mbox{\hyperlink{src_2dia_8cpp_source}{dia.\+cpp}}.



Referenced by \mbox{\hyperlink{src_2dia_8cpp_a6791d60c7183801a8dcbdd7e9fc7a896}{write\+Dia\+Graph\+From\+File()}}.

