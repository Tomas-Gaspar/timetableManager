\hypertarget{src_2fortranscanner_8h}{}\doxysection{doxygen/src/fortranscanner.h File Reference}
\label{src_2fortranscanner_8h}\index{doxygen/src/fortranscanner.h@{doxygen/src/fortranscanner.h}}
{\ttfamily \#include \char`\"{}parserintf.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_fortran_outline_parser}{Fortran\+Outline\+Parser}}
\begin{DoxyCompactList}\small\item\em Fortran language parser using state-\/based lexical scanning. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{class_fortran_outline_parser_free}{Fortran\+Outline\+Parser\+Free}}
\item 
class \mbox{\hyperlink{class_fortran_outline_parser_fixed}{Fortran\+Outline\+Parser\+Fixed}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \mbox{\hyperlink{src_2fortranscanner_8h_a3318a36567de3b1f36059e387a801863}{prepass\+Fixed\+Form}} (const char $\ast$contents, int $\ast$has\+Cont\+Line, int fixed\+Comment\+After)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{src_2fortranscanner_8h_a3318a36567de3b1f36059e387a801863}\label{src_2fortranscanner_8h_a3318a36567de3b1f36059e387a801863}} 
\index{fortranscanner.h@{fortranscanner.h}!prepassFixedForm@{prepassFixedForm}}
\index{prepassFixedForm@{prepassFixedForm}!fortranscanner.h@{fortranscanner.h}}
\doxysubsubsection{\texorpdfstring{prepassFixedForm()}{prepassFixedForm()}}
{\footnotesize\ttfamily const char $\ast$ prepass\+Fixed\+Form (\begin{DoxyParamCaption}\item[{const char $\ast$}]{contents,  }\item[{int $\ast$}]{has\+Cont\+Line,  }\item[{int}]{fixed\+Comment\+After }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_source_l01592}{1592}} of file \mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_source}{fortranscanner.\+l}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01593 \{}
\DoxyCodeLine{01594   \textcolor{keywordtype}{int} column=0;}
\DoxyCodeLine{01595   \textcolor{keywordtype}{int} prevLineLength=0;}
\DoxyCodeLine{01596   \textcolor{keywordtype}{int} prevLineAmpOrExclIndex=-\/1;}
\DoxyCodeLine{01597   \textcolor{keywordtype}{int} skipped = 0;}
\DoxyCodeLine{01598   \textcolor{keywordtype}{char} prevQuote = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01599   \textcolor{keywordtype}{char} thisQuote = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01600   \textcolor{keywordtype}{bool} emptyLabel=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01601   \textcolor{keywordtype}{bool} commented=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01602   \textcolor{keywordtype}{bool} inSingle=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01603   \textcolor{keywordtype}{bool} inDouble=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01604   \textcolor{keywordtype}{bool} inBackslash=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01605   \textcolor{keywordtype}{bool} fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01606   \textcolor{keywordtype}{bool} artificialComment=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01607   \textcolor{keywordtype}{bool} spaces=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01608   \textcolor{keywordtype}{int} newContentsSize = (int)strlen(contents)+3; \textcolor{comment}{// \(\backslash\)000, \(\backslash\)n (when necessary) and one spare character (to avoid reallocation)}}
\DoxyCodeLine{01609   \textcolor{keywordtype}{char}* newContents = (\textcolor{keywordtype}{char}*)malloc(newContentsSize);}
\DoxyCodeLine{01610   \textcolor{keywordtype}{int} curLine = 1;}
\DoxyCodeLine{01611   \textcolor{keywordtype}{size\_t} sizCont;}
\DoxyCodeLine{01612 }
\DoxyCodeLine{01613   \textcolor{keywordtype}{int} j = -\/1;}
\DoxyCodeLine{01614   sizCont = strlen(contents);}
\DoxyCodeLine{01615   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0;i<sizCont;i++) \{}
\DoxyCodeLine{01616     column++;}
\DoxyCodeLine{01617     \textcolor{keywordtype}{char} \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} = contents[i];}
\DoxyCodeLine{01618     \textcolor{keywordflow}{if} (artificialComment \&\& \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} != \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{01619     \{}
\DoxyCodeLine{01620       \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'!'} \&\& spaces)}
\DoxyCodeLine{01621       \{}
\DoxyCodeLine{01622         newContents[j++] = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01623         artificialComment = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01624         spaces = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01625         skipped = 0;}
\DoxyCodeLine{01626         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01627       \}}
\DoxyCodeLine{01628       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{' '} || \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'\(\backslash\)t'}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01629       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01630       \{}
\DoxyCodeLine{01631         spaces = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01632         skipped++;}
\DoxyCodeLine{01633         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01634       \}}
\DoxyCodeLine{01635     \}}
\DoxyCodeLine{01636 }
\DoxyCodeLine{01637     j++;}
\DoxyCodeLine{01638     \textcolor{keywordflow}{if} (j>=newContentsSize-\/3) \{ \textcolor{comment}{// check for spare characters, which may be eventually used below (by \& and '! ')}}
\DoxyCodeLine{01639       newContents = (\textcolor{keywordtype}{char}*)realloc(newContents, newContentsSize+1000);}
\DoxyCodeLine{01640       newContentsSize = newContentsSize+1000;}
\DoxyCodeLine{01641     \}}
\DoxyCodeLine{01642 }
\DoxyCodeLine{01643     \textcolor{keywordflow}{switch}(\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}}) \{}
\DoxyCodeLine{01644       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{01645         \textcolor{keywordflow}{if} (!fullCommentLine)}
\DoxyCodeLine{01646         \{}
\DoxyCodeLine{01647           prevLineLength=column;}
\DoxyCodeLine{01648           prevLineAmpOrExclIndex=\mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_a57a320e051e7596c3106c1a95ae02915}{getAmpOrExclAtTheEnd}}(\&contents[i-\/prevLineLength+1], prevLineLength,prevQuote);}
\DoxyCodeLine{01649           \textcolor{keywordflow}{if} (prevLineAmpOrExclIndex == -\/1) prevLineAmpOrExclIndex = column -\/ 1;}
\DoxyCodeLine{01650           \textcolor{keywordflow}{if} (skipped)}
\DoxyCodeLine{01651           \{}
\DoxyCodeLine{01652             prevLineAmpOrExclIndex = -\/1;}
\DoxyCodeLine{01653             skipped = 0;}
\DoxyCodeLine{01654           \}}
\DoxyCodeLine{01655         \}}
\DoxyCodeLine{01656         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01657         \{}
\DoxyCodeLine{01658           prevLineLength+=column;}
\DoxyCodeLine{01659           \textcolor{comment}{/* Even though a full comment line is not really a comment line it can be seen as one. An empty line is also seen as a comment line (small bonus) */}}
\DoxyCodeLine{01660           \textcolor{keywordflow}{if} (hasContLine)}
\DoxyCodeLine{01661           \{}
\DoxyCodeLine{01662             hasContLine[curLine -\/ 1] = 1;}
\DoxyCodeLine{01663           \}}
\DoxyCodeLine{01664         \}}
\DoxyCodeLine{01665         artificialComment=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01666         spaces=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01667         fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01668         column=0;}
\DoxyCodeLine{01669         emptyLabel=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01670         commented=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01671         newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01672         prevQuote = thisQuote;}
\DoxyCodeLine{01673         curLine++;}
\DoxyCodeLine{01674         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01675       \textcolor{keywordflow}{case} \textcolor{charliteral}{' '}:}
\DoxyCodeLine{01676       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{01677         newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01678         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01679       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)000'}:}
\DoxyCodeLine{01680         \textcolor{keywordflow}{if} (hasContLine)}
\DoxyCodeLine{01681         \{}
\DoxyCodeLine{01682            free(newContents);}
\DoxyCodeLine{01683            \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{01684         \}}
\DoxyCodeLine{01685         newContents[j]=\textcolor{charliteral}{'\(\backslash\)000'};}
\DoxyCodeLine{01686         newContentsSize = (int)strlen(newContents);}
\DoxyCodeLine{01687         \textcolor{keywordflow}{if} (newContents[newContentsSize -\/ 1] != \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{01688         \{}
\DoxyCodeLine{01689           \textcolor{comment}{// to be on the safe side}}
\DoxyCodeLine{01690           newContents = (\textcolor{keywordtype}{char}*)realloc(newContents, newContentsSize+2);}
\DoxyCodeLine{01691           newContents[newContentsSize] = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{01692           newContents[newContentsSize + 1] = \textcolor{charliteral}{'\(\backslash\)000'};}
\DoxyCodeLine{01693         \}}
\DoxyCodeLine{01694         \textcolor{keywordflow}{return} newContents;}
\DoxyCodeLine{01695       \textcolor{keywordflow}{case} \textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{01696       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{01697       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:}
\DoxyCodeLine{01698         \textcolor{keywordflow}{if} ((column <= fixedCommentAfter) \&\& (column!=6) \&\& !commented)}
\DoxyCodeLine{01699         \{}
\DoxyCodeLine{01700           \textcolor{comment}{// we have some special cases in respect to strings and escaped string characters}}
\DoxyCodeLine{01701           fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01702           newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01703           \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{01704           \{}
\DoxyCodeLine{01705             inBackslash = !inBackslash;}
\DoxyCodeLine{01706             \textcolor{keywordflow}{break};}
\DoxyCodeLine{01707           \}}
\DoxyCodeLine{01708           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'\(\backslash\)''})}
\DoxyCodeLine{01709           \{}
\DoxyCodeLine{01710             \textcolor{keywordflow}{if} (!inDouble)}
\DoxyCodeLine{01711             \{}
\DoxyCodeLine{01712               inSingle = !inSingle;}
\DoxyCodeLine{01713               \textcolor{keywordflow}{if} (inSingle) thisQuote = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01714               \textcolor{keywordflow}{else} thisQuote = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01715             \}}
\DoxyCodeLine{01716             \textcolor{keywordflow}{break};}
\DoxyCodeLine{01717           \}}
\DoxyCodeLine{01718           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'"{}'})}
\DoxyCodeLine{01719           \{}
\DoxyCodeLine{01720             \textcolor{keywordflow}{if} (!inSingle)}
\DoxyCodeLine{01721             \{}
\DoxyCodeLine{01722               inDouble = !inDouble;}
\DoxyCodeLine{01723               \textcolor{keywordflow}{if} (inDouble) thisQuote = \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01724               \textcolor{keywordflow}{else} thisQuote = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01725             \}}
\DoxyCodeLine{01726             \textcolor{keywordflow}{break};}
\DoxyCodeLine{01727           \}}
\DoxyCodeLine{01728         \}}
\DoxyCodeLine{01729         inBackslash = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01730         \textcolor{comment}{// fallthrough}}
\DoxyCodeLine{01731       \textcolor{keywordflow}{case} \textcolor{charliteral}{'\#'}:}
\DoxyCodeLine{01732       \textcolor{keywordflow}{case} \textcolor{charliteral}{'C'}:}
\DoxyCodeLine{01733       \textcolor{keywordflow}{case} \textcolor{charliteral}{'c'}:}
\DoxyCodeLine{01734       \textcolor{keywordflow}{case} \textcolor{charliteral}{'*'}:}
\DoxyCodeLine{01735       \textcolor{keywordflow}{case} \textcolor{charliteral}{'!'}:}
\DoxyCodeLine{01736         \textcolor{keywordflow}{if} ((column <= fixedCommentAfter) \&\& (column!=6))}
\DoxyCodeLine{01737         \{}
\DoxyCodeLine{01738           emptyLabel=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01739           \textcolor{keywordflow}{if} (column==1)}
\DoxyCodeLine{01740           \{}
\DoxyCodeLine{01741             newContents[j]=\textcolor{charliteral}{'!'};}
\DoxyCodeLine{01742             commented = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01743           \}}
\DoxyCodeLine{01744           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'!'}) \&\& !inDouble \&\& !inSingle)}
\DoxyCodeLine{01745           \{}
\DoxyCodeLine{01746             newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01747             commented = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01748           \}}
\DoxyCodeLine{01749           \textcolor{keywordflow}{else}}
\DoxyCodeLine{01750           \{}
\DoxyCodeLine{01751             \textcolor{keywordflow}{if} (!commented) fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01752             newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01753           \}}
\DoxyCodeLine{01754           \textcolor{keywordflow}{break};}
\DoxyCodeLine{01755         \}}
\DoxyCodeLine{01756         \textcolor{comment}{// fallthrough}}
\DoxyCodeLine{01757       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01758         \textcolor{keywordflow}{if} (!commented \&\& (column < 6) \&\& ((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} -\/ \textcolor{charliteral}{'0'}) >= 0) \&\& ((\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} -\/ \textcolor{charliteral}{'0'}) <= 9))}
\DoxyCodeLine{01759         \{ \textcolor{comment}{// remove numbers, i.e. labels from first 5 positions.}}
\DoxyCodeLine{01760             newContents[j]=\textcolor{charliteral}{' '};}
\DoxyCodeLine{01761         \}}
\DoxyCodeLine{01762         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (column==6 \&\& emptyLabel)}
\DoxyCodeLine{01763         \{ \textcolor{comment}{// continuation}}
\DoxyCodeLine{01764           \textcolor{keywordflow}{if} (!commented) fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01765           \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} != \textcolor{charliteral}{'0'})}
\DoxyCodeLine{01766           \{ \textcolor{comment}{// 0 not allowed as continuation character, see f95 standard paragraph 3.3.2.3}}
\DoxyCodeLine{01767             newContents[j]=\textcolor{charliteral}{' '};}
\DoxyCodeLine{01768 }
\DoxyCodeLine{01769             \textcolor{keywordflow}{if} (prevLineAmpOrExclIndex==-\/1)}
\DoxyCodeLine{01770             \{ \textcolor{comment}{// add \& just before end of previous line}}
\DoxyCodeLine{01771               \textcolor{comment}{/* first line is not a continuation line in code, just in snippets etc. */}}
\DoxyCodeLine{01772               \textcolor{keywordflow}{if} (curLine != 1) \mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_a7ac86b7091ebd73f18ce4d662cd75908}{insertCharacter}}(newContents, j+1, (j+1)-\/6-\/1, \textcolor{charliteral}{'\&'});}
\DoxyCodeLine{01773               j++;}
\DoxyCodeLine{01774             \}}
\DoxyCodeLine{01775             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01776             \{ \textcolor{comment}{// add \& just before end of previous line comment}}
\DoxyCodeLine{01777               \textcolor{comment}{/* first line is not a continuation line in code, just in snippets etc. */}}
\DoxyCodeLine{01778               \textcolor{keywordflow}{if} (curLine != 1) \mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_a7ac86b7091ebd73f18ce4d662cd75908}{insertCharacter}}(newContents, j+1, (j+1)-\/6-\/prevLineLength+prevLineAmpOrExclIndex+skipped, \textcolor{charliteral}{'\&'});}
\DoxyCodeLine{01779               skipped = 0;}
\DoxyCodeLine{01780               j++;}
\DoxyCodeLine{01781             \}}
\DoxyCodeLine{01782             \textcolor{keywordflow}{if} (hasContLine)}
\DoxyCodeLine{01783             \{}
\DoxyCodeLine{01784               hasContLine[curLine -\/ 1] = 1;}
\DoxyCodeLine{01785             \}}
\DoxyCodeLine{01786           \}}
\DoxyCodeLine{01787           \textcolor{keywordflow}{else}}
\DoxyCodeLine{01788           \{}
\DoxyCodeLine{01789             newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}}; \textcolor{comment}{// , just handle like space}}
\DoxyCodeLine{01790           \}}
\DoxyCodeLine{01791           prevLineLength=0;}
\DoxyCodeLine{01792         \}}
\DoxyCodeLine{01793         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((column > fixedCommentAfter) \&\& !commented)}
\DoxyCodeLine{01794         \{}
\DoxyCodeLine{01795           \textcolor{comment}{// first non commented non blank character after position fixedCommentAfter}}
\DoxyCodeLine{01796           \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} == \textcolor{charliteral}{'\&'})}
\DoxyCodeLine{01797           \{}
\DoxyCodeLine{01798             newContents[j]=\textcolor{charliteral}{' '};}
\DoxyCodeLine{01799           \}}
\DoxyCodeLine{01800           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}} != \textcolor{charliteral}{'!'})}
\DoxyCodeLine{01801           \{}
\DoxyCodeLine{01802             \textcolor{comment}{// I'm not a possible start of doxygen comment}}
\DoxyCodeLine{01803             newContents[j]=\textcolor{charliteral}{' '};}
\DoxyCodeLine{01804             artificialComment = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01805             spaces=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01806             skipped = 0;}
\DoxyCodeLine{01807           \}}
\DoxyCodeLine{01808           \textcolor{keywordflow}{else}}
\DoxyCodeLine{01809           \{}
\DoxyCodeLine{01810             newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01811             commented = \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}};}
\DoxyCodeLine{01812           \}}
\DoxyCodeLine{01813         \}}
\DoxyCodeLine{01814         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01815         \{}
\DoxyCodeLine{01816           \textcolor{keywordflow}{if} (!commented) fullCommentLine=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01817           newContents[j]=\mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}};}
\DoxyCodeLine{01818           emptyLabel=\mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}};}
\DoxyCodeLine{01819         \}}
\DoxyCodeLine{01820         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01821     \}}
\DoxyCodeLine{01822   \}}
\DoxyCodeLine{01823 }
\DoxyCodeLine{01824   \textcolor{keywordflow}{if} (hasContLine)}
\DoxyCodeLine{01825   \{}
\DoxyCodeLine{01826     free(newContents);}
\DoxyCodeLine{01827     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{01828   \}}
\DoxyCodeLine{01829 }
\DoxyCodeLine{01830   \textcolor{keywordflow}{if} (j==-\/1) \textcolor{comment}{// contents was empty}}
\DoxyCodeLine{01831   \{}
\DoxyCodeLine{01832     newContents = (\textcolor{keywordtype}{char}*)realloc(newContents, 2);}
\DoxyCodeLine{01833     newContents[0] = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{01834     newContents[1] = \textcolor{charliteral}{'\(\backslash\)000'};}
\DoxyCodeLine{01835   \}}
\DoxyCodeLine{01836   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newContents[j] == \textcolor{charliteral}{'\(\backslash\)n'}) \textcolor{comment}{// content ended with newline}}
\DoxyCodeLine{01837   \{}
\DoxyCodeLine{01838     newContents = (\textcolor{keywordtype}{char}*)realloc(newContents, j+2);}
\DoxyCodeLine{01839     newContents[j + 1] = \textcolor{charliteral}{'\(\backslash\)000'};}
\DoxyCodeLine{01840   \}}
\DoxyCodeLine{01841   \textcolor{keywordflow}{else} \textcolor{comment}{// content did not end with a newline}}
\DoxyCodeLine{01842   \{}
\DoxyCodeLine{01843     newContents = (\textcolor{keywordtype}{char}*)realloc(newContents, j+3);}
\DoxyCodeLine{01844     newContents[j + 1] = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{01845     newContents[j + 2] = \textcolor{charliteral}{'\(\backslash\)000'};}
\DoxyCodeLine{01846   \}}
\DoxyCodeLine{01847   \textcolor{keywordflow}{return} newContents;}
\DoxyCodeLine{01848 \}}

\end{DoxyCode}


References \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a4e1e0e72dd773439e333c84dd762a9c3}{c}}, \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}, \mbox{\hyperlink{src_2fortranscanner_8l_a57a320e051e7596c3106c1a95ae02915}{get\+Amp\+Or\+Excl\+At\+The\+End()}}, \mbox{\hyperlink{src_2fortranscanner_8l_a7ac86b7091ebd73f18ce4d662cd75908}{insert\+Character()}}, and \mbox{\hyperlink{build_2doxygen_2src_2qcstring_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}}.



Referenced by \mbox{\hyperlink{build_2doxygen_2src_2fortranscanner_8l_a4481d3eae9a04af883d868f23c4cbffc}{parse\+Main()}}.

