\hypertarget{src_2dispatcher_8h_source}{}\doxysection{dispatcher.\+h}
\label{src_2dispatcher_8h_source}\index{doxygen/src/dispatcher.h@{doxygen/src/dispatcher.h}}
\mbox{\hyperlink{src_2dispatcher_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00001}00001 \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00002}00002 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00003}00003 \textcolor{comment}{ * Copyright (C) 1997-\/2022 by Dimitri van Heesch.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00004}00004 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00005}00005 \textcolor{comment}{ * Permission to use, copy, modify, and distribute this software and its}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00006}00006 \textcolor{comment}{ * documentation under the terms of the GNU General Public License is hereby}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00007}00007 \textcolor{comment}{ * granted. No representations are made about the suitability of this software}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00008}00008 \textcolor{comment}{ * for any purpose. It is provided "{}as is"{} without express or implied warranty.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00009}00009 \textcolor{comment}{ * See the GNU General Public License for more details.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00010}00010 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00011}00011 \textcolor{comment}{ * Documents produced by Doxygen are derivative works derived from the}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00012}00012 \textcolor{comment}{ * input used in their production; they are not affected by this license.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00013}00013 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00014}00014 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00016}00016 \textcolor{preprocessor}{\#ifndef DISPATCHER\_H}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00017}00017 \textcolor{preprocessor}{\#define DISPATCHER\_H}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00019}00019 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00020}00020 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00021}00021 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00022}00022 \textcolor{preprocessor}{\#include <variant>}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00023}00023 \textcolor{preprocessor}{\#include <type\_traits>}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00026}00026 \textcolor{comment}{// idea based on https://mpark.github.io/programming/2019/01/22/variant-\/visitation-\/v2/}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00028}00028 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedetail}{detail}}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00029}00029 \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00032}00032 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_ }\textcolor{comment}{// GCC 4.8+, Clang, Intel and other compilers compatible with GCC (-\/std=c++0x or above)}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00033}00033 [[noreturn]] \textcolor{keyword}{inline} \_\_attribute\_\_((always\_inline)) \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedetail_a813e5bcc6785357f4ca1f4b19436c5ad}{unreachable}}() \{ \_\_builtin\_unreachable(); \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00034}00034 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER) }\textcolor{comment}{// MSVC}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00035}00035 [[noreturn]] \_\_forceinline \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedetail_a813e5bcc6785357f4ca1f4b19436c5ad}{unreachable}}() \{ \_\_assume(\textcolor{keyword}{false}); \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00036}00036 \textcolor{preprocessor}{\#else }\textcolor{comment}{// ???}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00037}00037 \textcolor{preprocessor}{\#warning "{}no implementation of unreachable for this compiler!"{}}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00038}00038 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedetail_a813e5bcc6785357f4ca1f4b19436c5ad}{unreachable}}() \{\}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00039}00039 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00042}00042 \textcolor{keyword}{template}<\textcolor{keywordtype}{bool} val\textcolor{keywordtype}{id}>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00043}00043 \textcolor{keyword}{struct }Dispatcher;}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00046}00046 \textcolor{keyword}{template}<>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00047}00047 \textcolor{keyword}{struct }Dispatcher<false>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00048}00048 \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00050}00050   \textcolor{keyword}{template}<\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }W, std::size\_t I, \textcolor{keyword}{class }V, \textcolor{keyword}{class}... As>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00051}\mbox{\hyperlink{structdetail_1_1_dispatcher_3_01false_01_4_a6c21f77ceaa4f79890a47b5bbfd32a0c}{00051}}   \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{structdetail_1_1_dispatcher_3_01false_01_4_a6c21f77ceaa4f79890a47b5bbfd32a0c}{case\_}}(V \&\&, As \&\&...) \{ \mbox{\hyperlink{namespacedetail_a813e5bcc6785357f4ca1f4b19436c5ad}{unreachable}}(); \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00052}00052 \};}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00055}00055 \textcolor{keyword}{template}<>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00056}00056 \textcolor{keyword}{struct }Dispatcher<true>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00057}00057 \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00060}00060   \textcolor{keyword}{template}<\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }W, std::size\_t I, \textcolor{keyword}{class }V, \textcolor{keyword}{class}... As>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00061}\mbox{\hyperlink{structdetail_1_1_dispatcher_3_01true_01_4_a61ff1b80d35d31f01fc3e55192f5a012}{00061}}   \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{structdetail_1_1_dispatcher_3_01true_01_4_a61ff1b80d35d31f01fc3e55192f5a012}{case\_}}(V \&\&v, As \&\&... args) \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00062}00062     \textcolor{keyword}{using} Alt = std::variant\_alternative\_t<I,std::decay\_t<V>>;}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00063}00063     std::invoke( \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_adcc9a19ad3119f823a658f6a49a24e64}{W<Alt>::method}}, std::get<I>( std::forward<V>(v) ), std::forward<As>(args)... );}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00064}00064   \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00065}00065 \};}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00067}00067 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00077}00077 \textcolor{keyword}{template}<\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }W,\textcolor{keyword}{class }V, \textcolor{keyword}{class}...As>}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00078}\mbox{\hyperlink{src_2dispatcher_8h_ae816ba4191db47635a574d6037cc11b5}{00078}} \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{src_2dispatcher_8h_ae816ba4191db47635a574d6037cc11b5}{dispatch\_call}}(V \&\&v,As \&\&... args)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00079}00079 \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00080}00080   \textcolor{comment}{// size holds the number of type of variant `V`}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00081}00081   \textcolor{keyword}{constexpr} std::size\_t \mbox{\hyperlink{build_2doxygen_2libmscgen_2gd_8h_a1e79fade784ffb450b103ad42e120fa0}{size}} = std::variant\_size\_v<std::decay\_t<V>>;}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00082}00082   \textcolor{comment}{// which on a worst case maximum number of types in `V`.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00083}00083   \textcolor{comment}{// fills in an unreachable branch for indices equal or higher than size.}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00084}00084   \textcolor{keywordflow}{switch} (v.index())}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00085}00085   \{}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00086}00086 \textcolor{preprocessor}{\#define DISPATCH\_AT(n) case n: detail::Dispatcher< ((n)<size) >::template case\_<W,n>(v,std::forward<As>(args)...); break;}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00087}00087     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(0)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00088}00088     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(1)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00089}00089     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(2)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00090}00090     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(3)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00091}00091     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(4)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00092}00092     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(5)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00093}00093     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(6)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00094}00094     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(7)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00095}00095     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(8)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00096}00096     \mbox{\hyperlink{src_2dispatcher_8h_ac489b080b3b1dc91b38198c09dac4882}{DISPATCH\_AT}}(9)}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00097}00097 \textcolor{preprocessor}{\#undef DISPATCH\_AT}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00098}00098   \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00099}00099 \}}
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{src_2dispatcher_8h_source_l00101}00101 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// DISPATCHER\_H}}

\end{DoxyCode}
